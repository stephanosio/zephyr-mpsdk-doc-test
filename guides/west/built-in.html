<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Built-in commands &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Workspaces" href="workspaces.html" />
    <link rel="prev" title="Basics" href="basics.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User and Developer Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../beyond-GSG.html">Beyond the Getting Started Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arch/index.html">Architecture-related Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/index.html">Documentation Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coccinelle.html">Coccinelle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code-relocation.html">Code And Data Relocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flash_debug/index.html">Flashing and Hardware Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug_tools/index.html">Debugging and Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device_mgmt/index.html">Device Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dts/index.html">Devicetree Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_vars.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../emulator/index.html">Peripheral and Hardware Emulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules.html">Modules (External projects)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platformio/index.html">Using with PlatformIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../portability/index.html">OS Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../porting/index.html">Porting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/index.html">State Machine Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/index.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tfm/index.html">Trusted Firmware-M</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">West (Zephyrâ€™s meta-tool)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install.html">Installing west</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes.html">West Release Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html">Troubleshooting West</a></li>
<li class="toctree-l3"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Built-in commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#west-init">west init</a></li>
<li class="toctree-l4"><a class="reference internal" href="#west-update">west update</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-project-commands">Other project commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-built-in-commands">Other built-in commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workspaces.html">Workspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="manifest.html">West Manifests</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="extensions.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-flash-debug.html">Building, Flashing and Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="sign.html">Signing Binaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="zephyr-cmds.html">Additional Zephyr extension commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="why.html">History and Motivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="moving-to-west.html">Moving to West</a></li>
<li class="toctree-l3"><a class="reference internal" href="without-west.html">Using Zephyr without west</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimizations/index.html">Optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zephyr_cmake_package.html">Zephyr CMake Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">User and Developer Guides</a> &raquo;</li>
  
     <li><a href="index.html">West (Zephyrâ€™s meta-tool)</a> &raquo;</li>
  
  <li>Built-in commands</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/guides/west/built-in.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="built-in-commands">
<span id="west-built-in-cmds"></span><h1>Built-in commands<a class="headerlink" href="#built-in-commands" title="Permalink to this headline">Â¶</a></h1>
<p>This page describes westâ€™s built-in commands, some of which were introduced in
<a class="reference internal" href="basics.html#west-basics"><span class="std std-ref">Basics</span></a>, in more detail.</p>
<p>Some commands are related to Git commands with the same name, but operate
on the entire workspace. For example, <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">diff</span></code> shows local changes in
multiple Git repositories in the workspace.</p>
<p>Some commands take projects as arguments. These arguments can be project
names as specified in the manifest file, or (as a fallback) paths to them
on the local file system. Omitting project arguments to commands which
accept them (such as <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">forall</span></code>, etc.) usually defaults
to using all projects in the manifest file plus the manifest repository
itself.</p>
<p>For additional help, run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">&lt;command&gt;</span> <span class="pre">-h</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">init</span> <span class="pre">-h</span></code>).</p>
<div class="section" id="west-init">
<span id="id1"></span><h2>west init<a class="headerlink" href="#west-init" title="Permalink to this headline">Â¶</a></h2>
<p>This command creates a west workspace. It can be used in two ways:</p>
<ol class="arabic simple">
<li><p>Cloning a new manifest repository from a remote URL</p></li>
<li><p>Creating a workspace around an existing local manifest repository</p></li>
</ol>
<p><strong>Option 1</strong>: to clone a new manifest repository from a remote URL, use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>west init [-m URL] [--mr REVISION] [--mf FILE] [directory]
</pre></div>
</div>
<p>The new workspace is created in the given <code class="file docutils literal notranslate"><span class="pre">directory</span></code>, creating a new
<code class="file docutils literal notranslate"><span class="pre">.west</span></code> inside this directory. You can give the manifest URL using
the <code class="docutils literal notranslate"><span class="pre">-m</span></code> switch, the initial revision to check out using <code class="docutils literal notranslate"><span class="pre">--mr</span></code>, and
the location of the manifest file within the repository using <code class="docutils literal notranslate"><span class="pre">--mf</span></code>.</p>
<p>For example, running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>west init -m https://github.com/zephyrproject-rtos/zephyr --mr v1.14.0 zp
</pre></div>
</div>
<p>would clone the upstream official zephyr repository into <code class="file docutils literal notranslate"><span class="pre">zp/zephyr</span></code>,
and check out the <code class="docutils literal notranslate"><span class="pre">v1.14.0</span></code> release. This command creates
<code class="file docutils literal notranslate"><span class="pre">zp/.west</span></code>, and set the <code class="docutils literal notranslate"><span class="pre">manifest.path</span></code> <a class="reference internal" href="config.html#west-config"><span class="std std-ref">configuration option</span></a> to <code class="docutils literal notranslate"><span class="pre">zephyr</span></code> to record the location of the manifest
repository in the workspace. The default manifest file location is used.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-m</span></code> option defaults to <code class="docutils literal notranslate"><span class="pre">https://github.com/zephyrproject-rtos/zephyr</span></code>.
The <code class="docutils literal notranslate"><span class="pre">--mf</span></code> option defaults to <code class="docutils literal notranslate"><span class="pre">west.yml</span></code>. Since west v0.10.1, west will use
the default branch in the manifest repository unless the <code class="docutils literal notranslate"><span class="pre">--mr</span></code> option
is used to override it. (In prior versions, <code class="docutils literal notranslate"><span class="pre">--mr</span></code> defaulted to <code class="docutils literal notranslate"><span class="pre">master</span></code>.)</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">directory</span></code> is given, the current working directory is used.</p>
<p><strong>Option 2</strong>: to create a workspace around an existing local manifest
repository, use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>west init -l [--mf FILE] directory
</pre></div>
</div>
<p>This creates <code class="file docutils literal notranslate"><span class="pre">.west</span></code> <strong>next to</strong> <code class="file docutils literal notranslate"><span class="pre">directory</span></code> in the file
system, and sets <code class="docutils literal notranslate"><span class="pre">manifest.path</span></code> to <code class="docutils literal notranslate"><span class="pre">directory</span></code>.</p>
<p>As above, <code class="docutils literal notranslate"><span class="pre">--mf</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">west.yml</span></code>.</p>
<p><strong>Reconfiguring the workspace</strong>:</p>
<p>If you change your mind later, you are free to change <code class="docutils literal notranslate"><span class="pre">manifest.path</span></code> and
<code class="docutils literal notranslate"><span class="pre">manifest.file</span></code> using <a class="reference internal" href="config.html#west-config-cmd"><span class="std std-ref">west config</span></a> after running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">init</span></code>.
Just be sure to run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> afterwards to update your workspace to
match the new manifest file.</p>
</div>
<div class="section" id="west-update">
<span id="id2"></span><h2>west update<a class="headerlink" href="#west-update" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>west update [-f {always,smart}] [-k] [-r]
            [--group-filter FILTER] [--stats] [PROJECT ...]
</pre></div>
</div>
<p><strong>Which projects are updated:</strong></p>
<p>By default, this command parses the manifest file, usually
<code class="file docutils literal notranslate"><span class="pre">west.yml</span></code>, and updates each project specified there.
If your manifest uses <a class="reference internal" href="manifest.html#west-manifest-groups"><span class="std std-ref">project groups</span></a>, then
only the active projects are updated.</p>
<p>To operate on a subset of projects only, give <code class="docutils literal notranslate"><span class="pre">PROJECT</span></code> argument(s). Each
<code class="docutils literal notranslate"><span class="pre">PROJECT</span></code> is either a project name as given in the manifest file, or a
path that points to the project within the workspace. If you specify
projects explicitly, they are updated regardless of whether they are active.</p>
<p><strong>Project update procedure:</strong></p>
<p>For each project that is updated, this command:</p>
<ol class="arabic simple">
<li><p>Initializes a local Git repository for the project in the workspace, if
it does not already exist</p></li>
<li><p>Inspects the projectâ€™s <code class="docutils literal notranslate"><span class="pre">revision</span></code> field in the manifest, and fetches
it from the remote if it is not already available locally</p></li>
<li><p>Sets the projectâ€™s <a class="reference internal" href="workspaces.html#west-manifest-rev"><span class="std std-ref">manifest-rev</span></a> branch to the
commit specified by the revision in the previous step</p></li>
<li><p>Checks out <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code> in the local working copy as a <a class="reference external" href="https://git-scm.com/docs/git-checkout#_detached_head">detached
HEAD</a></p></li>
<li><p>If the manifest file specifies a <a class="reference internal" href="manifest.html#west-manifest-submodules"><span class="std std-ref">submodules</span></a> key for the project, recursively updates
the projectâ€™s submodules as described below.</p></li>
</ol>
<p>To avoid unnecessary fetches, <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> will not fetch project
<code class="docutils literal notranslate"><span class="pre">revision</span></code> values which are Git SHAs or tags that are already available
locally. This is the behavior when the <code class="docutils literal notranslate"><span class="pre">-f</span></code> (<code class="docutils literal notranslate"><span class="pre">--fetch</span></code>) option has its
default value, <code class="docutils literal notranslate"><span class="pre">smart</span></code>. To force this command to fetch from project remotes
even if the revisions appear to be available locally, either use <code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">always</span></code>
or set the <code class="docutils literal notranslate"><span class="pre">update.fetch</span></code> <a class="reference internal" href="config.html#west-config"><span class="std std-ref">configuration option</span></a> to
<code class="docutils literal notranslate"><span class="pre">always</span></code>. SHAs may be given as unique prefixes as long as they are acceptable
to Git <a class="footnote-reference brackets" href="#fetchall" id="id3">1</a>.</p>
<p>If the project <code class="docutils literal notranslate"><span class="pre">revision</span></code> is a Git ref that is neither a tag nor a SHA (i.e.
if the project is tracking a branch), <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> always fetches,
regardless of <code class="docutils literal notranslate"><span class="pre">-f</span></code> and <code class="docutils literal notranslate"><span class="pre">update.fetch</span></code>.</p>
<p>Some branch names might look like short SHAs, like <code class="docutils literal notranslate"><span class="pre">deadbeef</span></code>. West treats
these like SHAs. You can disambiguate by prefixing the <code class="docutils literal notranslate"><span class="pre">revision</span></code> value with
<code class="docutils literal notranslate"><span class="pre">refs/heads/</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">revision:</span> <span class="pre">refs/heads/deadbeef</span></code>.</p>
<p>For safety, <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> uses <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">--detach</span></code> to check out a
detached <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> at the manifest revision for each updated project,
leaving behind any branches which were already checked out. This is
typically a safe operation that will not modify any of your local branches.</p>
<p>However, if you had added some local commits onto a previously detached
<code class="docutils literal notranslate"><span class="pre">HEAD</span></code> checked out by west, then git will warn you that youâ€™ve left
behind some commits which are no longer referred to by any branch. These
may be garbage-collected and lost at some point in the future. To avoid
this if you have local commits in the project, make sure you have a local
branch checked out before running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>.</p>
<p>If you would rather rebase any locally checked out branches instead, use
the <code class="docutils literal notranslate"><span class="pre">-r</span></code> (<code class="docutils literal notranslate"><span class="pre">--rebase</span></code>) option.</p>
<p>If you would like <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> to keep local branches checked out as
long as they point to commits that are descendants of the new
<code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code>, use the <code class="docutils literal notranslate"><span class="pre">-k</span></code> (<code class="docutils literal notranslate"><span class="pre">--keep-descendants</span></code>) option.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span> <span class="pre">--rebase</span></code> will fail in projects that have git conflicts
between your branch and new commits brought in by the manifest. You
should immediately resolve these conflicts as you usually do with
<code class="docutils literal notranslate"><span class="pre">git</span></code>, or you can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">-C</span> <span class="pre">&lt;project_path&gt;</span> <span class="pre">rebase</span> <span class="pre">--abort</span></code> to
ignore incoming changes for the moment.</p>
<p>With a clean working tree, a plain <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> never fails
because it does not try to hold on to your commits and simply
leaves them aside.</p>
<p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span> <span class="pre">--keep-descendants</span></code> offers an intermediate option that
never fails either but does not treat all projects the same:</p>
<ul class="simple">
<li><p>in projects where your branch diverged from the incoming commits, it
does not even try to rebase and leaves your branches behind just like a
plain <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> does;</p></li>
<li><p>in all other projects where no rebase or merge is needed it keeps
your branches in place.</p></li>
</ul>
</div>
<p><strong>One-time project group manipulation:</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">--group-filter</span></code> option can be used to change which project groups
are enabled or disabled for the duration of a single <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> command.
See <a class="reference internal" href="manifest.html#west-manifest-groups"><span class="std std-ref">Project Groups and Active Projects</span></a> for details on the project group feature.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> command behaves as if the <code class="docutils literal notranslate"><span class="pre">--group-filter</span></code> optionâ€™s
value were appended to the <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code>
<a class="reference internal" href="config.html#west-config-index"><span class="std std-ref">configuration option</span></a>.</p>
<p>For example, running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span> <span class="pre">--group-filter=+foo,-bar</span></code> would behave
the same way as if you had temporarily appended the string <code class="docutils literal notranslate"><span class="pre">&quot;+foo,-bar&quot;</span></code>
to the value of <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code>, run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>, then restored
<code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> to its original value.</p>
<p>Note that using the syntax <code class="docutils literal notranslate"><span class="pre">--group-filter=VALUE</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">--group-filter</span> <span class="pre">VALUE</span></code> avoids issues parsing command line options
if you just want to disable a single group, e.g. <code class="docutils literal notranslate"><span class="pre">--group-filter=-bar</span></code>.</p>
<p><strong>Submodule update procedure:</strong></p>
<p>If a project in the manifest has a <code class="docutils literal notranslate"><span class="pre">submodules</span></code> key, the submodules are
updated as follows, depending on the value of the <code class="docutils literal notranslate"><span class="pre">submodules</span></code> key.</p>
<p>If the project has <code class="docutils literal notranslate"><span class="pre">submodules:</span> <span class="pre">true</span></code>, west first synchronizes the projectâ€™s
submodules with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">submodule</span> <span class="n">sync</span> <span class="o">--</span><span class="n">recursive</span>
</pre></div>
</div>
<p>West then runs one of the following in the project repository, depending on
whether you run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> with the <code class="docutils literal notranslate"><span class="pre">--rebase</span></code> option or without it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># without --rebase, e.g. &quot;west update&quot;:</span>
<span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">init</span> <span class="o">--</span><span class="n">checkout</span> <span class="o">--</span><span class="n">recursive</span>

<span class="c1"># with --rebase, e.g. &quot;west update --rebase&quot;:</span>
<span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">init</span> <span class="o">--</span><span class="n">rebase</span> <span class="o">--</span><span class="n">recursive</span>
</pre></div>
</div>
<p>Otherwise, the project has <code class="docutils literal notranslate"><span class="pre">submodules:</span> <span class="pre">&lt;list-of-submodules&gt;</span></code>. In this
case, west synchronizes the projectâ€™s submodules with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">submodule</span> <span class="n">sync</span> <span class="o">--</span><span class="n">recursive</span> <span class="o">--</span> <span class="o">&lt;</span><span class="n">submodule</span><span class="o">-</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Then it updates each submodule in the list as follows, depending on whether you
run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> with the <code class="docutils literal notranslate"><span class="pre">--rebase</span></code> option or without it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># without --rebase, e.g. &quot;west update&quot;:</span>
<span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">init</span> <span class="o">--</span><span class="n">checkout</span> <span class="o">--</span><span class="n">recursive</span> <span class="o">&lt;</span><span class="n">submodule</span><span class="o">-</span><span class="n">path</span><span class="o">&gt;</span>

<span class="c1"># with --rebase, e.g. &quot;west update --rebase&quot;:</span>
<span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">init</span> <span class="o">--</span><span class="n">rebase</span> <span class="o">--</span><span class="n">recursive</span> <span class="o">&lt;</span><span class="n">submodule</span><span class="o">-</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">sync</span></code> commands are skipped if the
<code class="docutils literal notranslate"><span class="pre">update.sync-submodules</span></code> <a class="reference internal" href="config.html#west-config"><span class="std std-ref">Configuration</span></a> option is false.</p>
</div>
<div class="section" id="other-project-commands">
<span id="west-built-in-misc"></span><h2>Other project commands<a class="headerlink" href="#other-project-commands" title="Permalink to this headline">Â¶</a></h2>
<p>West has a few more commands for managing the projects in the
workspace, which are summarized here. Run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">&lt;command&gt;</span> <span class="pre">-h</span></code> for
detailed help.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">list</span></code>: print a line of information about each project in the
manifest, according to a format string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">manifest</span></code>: manage the manifest file. See <a class="reference internal" href="manifest.html#west-manifest-cmd"><span class="std std-ref">Manifest Command</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">diff</span></code>: run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> in local project repositories</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">status</span></code>: run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> in local project repositories</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">forall</span></code>: run an arbitrary command in local project repositories</p></li>
</ul>
</div>
<div class="section" id="other-built-in-commands">
<h2>Other built-in commands<a class="headerlink" href="#other-built-in-commands" title="Permalink to this headline">Â¶</a></h2>
<p>Finally, here is a summary of other built-in commands.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">config</span></code>: get or set <a class="reference internal" href="config.html#west-config"><span class="std std-ref">configuration options</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">topdir</span></code>: print the top level directory of the west workspace</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">help</span></code>: get help about a command, or print information about all
commands in the workspace, including <a class="reference internal" href="extensions.html#west-extensions"><span class="std std-ref">Extensions</span></a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="fetchall"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>West may fetch all refs from the Git server when given a SHA as a revision.
This is because some Git servers have historically not allowed fetching
SHAs directly.</p>
</dd>
</dl>
</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>