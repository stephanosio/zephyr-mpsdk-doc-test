<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using Zephyr without west &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Optimizations" href="../optimizations/index.html" />
    <link rel="prev" title="Moving to West" href="moving-to-west.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User and Developer Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../beyond-GSG.html">Beyond the Getting Started Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arch/index.html">Architecture-related Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/index.html">Documentation Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coccinelle.html">Coccinelle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code-relocation.html">Code And Data Relocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flash_debug/index.html">Flashing and Hardware Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug_tools/index.html">Debugging and Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device_mgmt/index.html">Device Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dts/index.html">Devicetree Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_vars.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../emulator/index.html">Peripheral and Hardware Emulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules.html">Modules (External projects)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platformio/index.html">Using with PlatformIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../portability/index.html">OS Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../porting/index.html">Porting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/index.html">State Machine Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/index.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tfm/index.html">Trusted Firmware-M</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">West (Zephyr’s meta-tool)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install.html">Installing west</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes.html">West Release Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html">Troubleshooting West</a></li>
<li class="toctree-l3"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="built-in.html">Built-in commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="workspaces.html">Workspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="manifest.html">West Manifests</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="extensions.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-flash-debug.html">Building, Flashing and Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="sign.html">Signing Binaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="zephyr-cmds.html">Additional Zephyr extension commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="why.html">History and Motivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="moving-to-west.html">Moving to West</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using Zephyr without west</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#getting-the-source">Getting the Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-applications">Building applications</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flashing-and-debugging">Flashing and Debugging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimizations/index.html">Optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zephyr_cmake_package.html">Zephyr CMake Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">User and Developer Guides</a> &raquo;</li>
  
     <li><a href="index.html">West (Zephyr’s meta-tool)</a> &raquo;</li>
  
  <li>Using Zephyr without west</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/guides/west/without-west.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="using-zephyr-without-west">
<span id="no-west"></span><h1>Using Zephyr without west<a class="headerlink" href="#using-zephyr-without-west" title="Permalink to this headline">¶</a></h1>
<p>This page provides information on using Zephyr without west. This is
not recommended for beginners due to the extra effort involved. In
particular, you will have to do work “by hand” to replace these
features:</p>
<ul class="simple">
<li><p>cloning the additional source code repositories used by Zephyr in
addition to the main zephyr repository, and keeping them up to date</p></li>
<li><p>specifying the locations of these repositories to the Zephyr build
system</p></li>
<li><p>flashing and debugging without understanding detailed usage of the
relevant host tools</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have previously installed west and want to stop using it,
uninstall it first:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip3 uninstall west</span>
</pre></div>
</div>
<p>Otherwise, Zephyr’s build system will find it and may try to use
it.</p>
</div>
<div class="section" id="getting-the-source">
<h2>Getting the Source<a class="headerlink" href="#getting-the-source" title="Permalink to this headline">¶</a></h2>
<p>In addition to downloading the zephyr source code repository itself,
you will need to manually clone the additional projects listed in the
<a class="reference internal" href="../../glossary.html#term-west-manifest"><span class="xref std std-term">west manifest</span></a> file inside that repository.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mkdir zephyrproject</span>
<span class="go">cd zephyrproject</span>
<span class="go">git clone https://github.com/zephyrproject-rtos/zephyr</span>
<span class="gp"># </span>clone additional repositories listed <span class="k">in</span> zephyr/west.yml,
<span class="gp"># </span>and check out the specified revisions as well.
</pre></div>
</div>
<p>As you pull changes in the zephyr repository, you will also need to
maintain those additional repositories, adding new ones as necessary
and keeping existing ones up to date at the latest revisions.</p>
</div>
<div class="section" id="building-applications">
<h2>Building applications<a class="headerlink" href="#building-applications" title="Permalink to this headline">¶</a></h2>
<p>You can build a Zephyr application using CMake and Ninja (or make) directly
without west installed if you specify any modules manually.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake -B build -GNinja -DZEPHYR_MODULES=module1;module2;... samples/hello_world</span>
<span class="go">ninja -C build</span>
</pre></div>
</div>
<p>When building with west installed, the Zephyr build system will use it to set
<a class="reference internal" href="../../application/index.html#important-build-vars"><span class="std std-ref">ZEPHYR_MODULES</span></a>.</p>
<p>If you don’t have west installed and your application does not need any of
these repositories, the build will still work.</p>
<p>If you don’t have west installed and your application <em>does</em> need one
of these repositories, you must set <strong class="makevar">ZEPHYR_MODULES</strong>
yourself as shown above.</p>
<p>See <a class="reference internal" href="../modules.html#modules"><span class="std std-ref">Modules (External projects)</span></a> for more details.</p>
</div>
<div class="section" id="flashing-and-debugging">
<h2>Flashing and Debugging<a class="headerlink" href="#flashing-and-debugging" title="Permalink to this headline">¶</a></h2>
<p>Running build system targets like <code class="docutils literal notranslate"><span class="pre">ninja</span> <span class="pre">flash</span></code>, <code class="docutils literal notranslate"><span class="pre">ninja</span> <span class="pre">debug</span></code>,
etc. is just a call to the corresponding <a class="reference internal" href="build-flash-debug.html#west-build-flash-debug"><span class="std std-ref">west command</span></a>. For example, <code class="docutils literal notranslate"><span class="pre">ninja</span> <span class="pre">flash</span></code> calls <code class="docutils literal notranslate"><span class="pre">west</span>
<span class="pre">flash</span></code><a class="footnote-reference brackets" href="#wbninja" id="id1">1</a>. If you don’t have west installed on your system, running
those targets will fail. You can of course still flash and debug using
any <a class="reference internal" href="../flash_debug/host-tools.html#flash-debug-host-tools"><span class="std std-ref">Flash &amp; Debug Host Tools</span></a> which work for your board (and which those
west commands wrap).</p>
<p>If you want to use these build system targets but do not want to
install west on your system using <code class="docutils literal notranslate"><span class="pre">pip</span></code>, it is possible to do so
by manually creating a <a class="reference internal" href="../../glossary.html#term-west-workspace"><span class="xref std std-term">west workspace</span></a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span><span class="nb">cd</span> into zephyrproject <span class="k">if</span> not already there
<span class="go">git clone https://github.com/zephyrproject-rtos/west.git .west/west</span>
</pre></div>
</div>
<p>Then create a file <code class="file docutils literal notranslate"><span class="pre">.west/config</span></code> with the following contents:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[manifest]
path = zephyr

[zephyr]
base = zephyr
</pre></div>
</div>
<p>After that, and in order for <code class="docutils literal notranslate"><span class="pre">ninja</span></code> to be able to invoke <code class="docutils literal notranslate"><span class="pre">west</span></code>
to flash and debug, you must specify the west directory. This can be
done by setting the environment variable <code class="docutils literal notranslate"><span class="pre">WEST_DIR</span></code> to point to
<code class="file docutils literal notranslate"><span class="pre">zephyrproject/.west/west</span></code> before running CMake to set up a
build directory.</p>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="wbninja"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Note that <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">build</span></code> invokes <code class="docutils literal notranslate"><span class="pre">ninja</span></code>, among other
tools. There’s no recursive invocation of either <code class="docutils literal notranslate"><span class="pre">west</span></code> or
<code class="docutils literal notranslate"><span class="pre">ninja</span></code> involved by default, however, as <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">build</span></code> does not
invoke <code class="docutils literal notranslate"><span class="pre">ninja</span> <span class="pre">flash</span></code>, <code class="docutils literal notranslate"><span class="pre">debug</span></code>, etc. The one exception is if you
specifically run one of these build system targets with a command
line like <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">build</span> <span class="pre">-t</span> <span class="pre">flash</span></code>. In that case, west is run twice:
once for <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">build</span></code>, and in a subprocess, again for <code class="docutils literal notranslate"><span class="pre">west</span>
<span class="pre">flash</span></code>. Even in this case, <code class="docutils literal notranslate"><span class="pre">ninja</span></code> is only run once, as <code class="docutils literal notranslate"><span class="pre">ninja</span>
<span class="pre">flash</span></code>. This is because these build system targets depend on an
up to date build of the Zephyr application, so it’s compiled before
<code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">flash</span></code> is run.</p>
</dd>
</dl>
</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>