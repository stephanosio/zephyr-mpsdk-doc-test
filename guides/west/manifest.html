<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>West Manifests &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Configuration" href="config.html" />
    <link rel="prev" title="Workspaces" href="workspaces.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User and Developer Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../beyond-GSG.html">Beyond the Getting Started Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arch/index.html">Architecture-related Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/index.html">Documentation Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coccinelle.html">Coccinelle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code-relocation.html">Code And Data Relocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flash_debug/index.html">Flashing and Hardware Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug_tools/index.html">Debugging and Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device_mgmt/index.html">Device Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dts/index.html">Devicetree Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_vars.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../emulator/index.html">Peripheral and Hardware Emulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules.html">Modules (External projects)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platformio/index.html">Using with PlatformIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../portability/index.html">OS Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../porting/index.html">Porting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/index.html">State Machine Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/index.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tfm/index.html">Trusted Firmware-M</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">West (Zephyr’s meta-tool)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install.html">Installing west</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes.html">West Release Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html">Troubleshooting West</a></li>
<li class="toctree-l3"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="built-in.html">Built-in commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="workspaces.html">Workspaces</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">West Manifests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multiple-repository-model">Multiple Repository Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manifest-files">Manifest Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#project-groups-and-active-projects">Project Groups and Active Projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#git-submodules-in-projects">Git Submodules in Projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#project-user-data">Project user data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manifest-imports">Manifest Imports</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manifest-command">Manifest Command</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="extensions.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-flash-debug.html">Building, Flashing and Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="sign.html">Signing Binaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="zephyr-cmds.html">Additional Zephyr extension commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="why.html">History and Motivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="moving-to-west.html">Moving to West</a></li>
<li class="toctree-l3"><a class="reference internal" href="without-west.html">Using Zephyr without west</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimizations/index.html">Optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zephyr_cmake_package.html">Zephyr CMake Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">User and Developer Guides</a> &raquo;</li>
  
     <li><a href="index.html">West (Zephyr’s meta-tool)</a> &raquo;</li>
  
  <li>West Manifests</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/guides/west/manifest.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="west-manifests">
<span id="id1"></span><h1><a class="toc-backref" href="#id9">West Manifests</a><a class="headerlink" href="#west-manifests" title="Permalink to this headline">¶</a></h1>
<p>This page contains detailed information about west’s multiple repository model,
manifest files, and the <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">manifest</span></code> command. For API documentation on the
<code class="docutils literal notranslate"><span class="pre">west.manifest</span></code> module, see <a class="reference internal" href="west-apis.html#west-apis-manifest"><span class="std std-ref">west.manifest</span></a>. For a more general
introduction and command overview, see <a class="reference internal" href="basics.html#west-basics"><span class="std std-ref">Basics</span></a>.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#west-manifests" id="id9">West Manifests</a></p>
<ul>
<li><p><a class="reference internal" href="#multiple-repository-model" id="id10">Multiple Repository Model</a></p></li>
<li><p><a class="reference internal" href="#manifest-files" id="id11">Manifest Files</a></p>
<ul>
<li><p><a class="reference internal" href="#remotes" id="id12">Remotes</a></p></li>
<li><p><a class="reference internal" href="#projects" id="id13">Projects</a></p></li>
<li><p><a class="reference internal" href="#defaults" id="id14">Defaults</a></p></li>
<li><p><a class="reference internal" href="#self" id="id15">Self</a></p></li>
<li><p><a class="reference internal" href="#version" id="id16">Version</a></p></li>
<li><p><a class="reference internal" href="#group-filter" id="id17">Group-filter</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#project-groups-and-active-projects" id="id18">Project Groups and Active Projects</a></p>
<ul>
<li><p><a class="reference internal" href="#project-groups" id="id19">Project Groups</a></p></li>
<li><p><a class="reference internal" href="#enabled-and-disabled-project-groups" id="id20">Enabled and Disabled Project Groups</a></p></li>
<li><p><a class="reference internal" href="#active-and-inactive-projects" id="id21">Active and Inactive Projects</a></p></li>
<li><p><a class="reference internal" href="#project-group-examples" id="id22">Project Group Examples</a></p></li>
<li><p><a class="reference internal" href="#group-filters-and-imports" id="id23">Group Filters and Imports</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#git-submodules-in-projects" id="id24">Git Submodules in Projects</a></p>
<ul>
<li><p><a class="reference internal" href="#option-1-boolean" id="id25">Option 1: Boolean</a></p></li>
<li><p><a class="reference internal" href="#option-2-list-of-mappings" id="id26">Option 2: List of mappings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#project-user-data" id="id27">Project user data</a></p></li>
<li><p><a class="reference internal" href="#manifest-imports" id="id28">Manifest Imports</a></p>
<ul>
<li><p><a class="reference internal" href="#troubleshooting-note" id="id29">Troubleshooting Note</a></p></li>
<li><p><a class="reference internal" href="#west-manifest-import-bool" id="id30">Option 1: Boolean</a></p></li>
<li><p><a class="reference internal" href="#option-2-relative-path" id="id31">Option 2: Relative path</a></p></li>
<li><p><a class="reference internal" href="#option-3-mapping" id="id32">Option 3: Mapping</a></p></li>
<li><p><a class="reference internal" href="#option-4-sequence" id="id33">Option 4: Sequence</a></p></li>
<li><p><a class="reference internal" href="#manifest-import-details" id="id34">Manifest Import Details</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#manifest-command" id="id35">Manifest Command</a></p>
<ul>
<li><p><a class="reference internal" href="#resolving-manifests" id="id36">Resolving Manifests</a></p></li>
<li><p><a class="reference internal" href="#freezing-manifests" id="id37">Freezing Manifests</a></p></li>
<li><p><a class="reference internal" href="#validating-manifests" id="id38">Validating Manifests</a></p></li>
<li><p><a class="reference internal" href="#get-the-manifest-path" id="id39">Get the manifest path</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="multiple-repository-model">
<span id="west-mr-model"></span><h2><a class="toc-backref" href="#id10">Multiple Repository Model</a><a class="headerlink" href="#multiple-repository-model" title="Permalink to this headline">¶</a></h2>
<p>West’s view of the repositories in a <a class="reference internal" href="../../glossary.html#term-west-workspace"><span class="xref std std-term">west workspace</span></a>, and their
history, looks like the following figure (though some parts of this example are
specific to upstream Zephyr’s use of west):</p>
<div class="align-center figure" id="id4">
<img alt="West multi-repo history" src="../../_images/west-mr-model.png" />
<p class="caption"><span class="caption-number">Fig. 39 </span><span class="caption-text">West multi-repo history</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>The history of the manifest repository is the line of Git commits which is
“floating” on top of the gray plane. Parent commits point to child commits
using solid arrows. The plane below contains the Git commit history of the
repositories in the workspace, with each project repository boxed in by a
rectangle. Parent/child commit relationships in each repository are also shown
with solid arrows.</p>
<p>The commits in the manifest repository (again, for upstream Zephyr this is the
zephyr repository itself) each have a manifest file. The manifest file in each
commit specifies the corresponding commits which it expects in each of the
project repositories. This relationship is shown using dotted line arrows in the
diagram. Each dotted line arrow points from a commit in the manifest repository
to a corresponding commit in a project repository.</p>
<p>Notice the following important details:</p>
<ul>
<li><p>Projects can be added (like <code class="docutils literal notranslate"><span class="pre">P1</span></code> between manifest repository
commits <code class="docutils literal notranslate"><span class="pre">D</span></code> and <code class="docutils literal notranslate"><span class="pre">E</span></code>) and removed (<code class="docutils literal notranslate"><span class="pre">P2</span></code> between the same
manifest repository commits)</p></li>
<li><p>Project and manifest repository histories don’t have to move
forwards or backwards together:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">P2</span></code> stays the same from <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">→</span> <span class="pre">B</span></code>, as do <code class="docutils literal notranslate"><span class="pre">P1</span></code> and <code class="docutils literal notranslate"><span class="pre">P3</span></code> from <code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">→</span>
<span class="pre">G</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">P3</span></code> moves forward from <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">→</span> <span class="pre">B</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">P3</span></code> moves backward from <code class="docutils literal notranslate"><span class="pre">C</span> <span class="pre">→</span> <span class="pre">D</span></code>.</p></li>
</ul>
<p>One use for moving backward in project history is to “revert” a regression by
going back to a revision before it was introduced.</p>
</li>
<li><p>Project repository commits can be “skipped”: <code class="docutils literal notranslate"><span class="pre">P3</span></code> moves forward
multiple commits in its history from <code class="docutils literal notranslate"><span class="pre">B</span> <span class="pre">→</span> <span class="pre">C</span></code>.</p></li>
<li><p>In the above diagram, no project repository has two revisions “at
the same time”: every manifest file refers to exactly one commit in
the projects it cares about. This can be relaxed by using a branch
name as a manifest revision, at the cost of being able to bisect
manifest repository history.</p></li>
</ul>
</div>
<div class="section" id="manifest-files">
<span id="west-manifest-files"></span><h2><a class="toc-backref" href="#id11">Manifest Files</a><a class="headerlink" href="#manifest-files" title="Permalink to this headline">¶</a></h2>
<p>West manifests are YAML files. Manifests have a top-level <code class="docutils literal notranslate"><span class="pre">manifest</span></code> section
with some subsections, like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="c1"># short names for project URLs</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="c1"># a list of projects managed by west</span><span class="w"></span>
<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="c1"># default project attributes</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="c1"># configuration related to the manifest repository itself,</span><span class="w"></span>
<span class="w">    </span><span class="c1"># i.e. the repository containing west.yml</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;schema-version&gt;&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="c1"># a list of project groups to enable or disable</span><span class="w"></span>
</pre></div>
</div>
<p>In YAML terms, the manifest file contains a mapping, with a <code class="docutils literal notranslate"><span class="pre">manifest</span></code>
key. Any other keys and their contents are ignored (west v0.5 also required a
<code class="docutils literal notranslate"><span class="pre">west</span></code> key, but this is ignored starting with v0.6).</p>
<p>The manifest contains subsections, like <code class="docutils literal notranslate"><span class="pre">defaults</span></code>, <code class="docutils literal notranslate"><span class="pre">remotes</span></code>,
<code class="docutils literal notranslate"><span class="pre">projects</span></code>, and <code class="docutils literal notranslate"><span class="pre">self</span></code>. In YAML terms, the value of the <code class="docutils literal notranslate"><span class="pre">manifest</span></code> key is
also a mapping, with these “subsections” as keys. As of west v0.10, all of
these “subsection” keys are optional.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">projects</span></code> value is a list of repositories managed by west and associated
metadata. We’ll discuss it soon, but first we will describe the <code class="docutils literal notranslate"><span class="pre">remotes</span></code>
section, which can be used to save typing in the <code class="docutils literal notranslate"><span class="pre">projects</span></code> list.</p>
<div class="section" id="remotes">
<h3><a class="toc-backref" href="#id12">Remotes</a><a class="headerlink" href="#remotes" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">remotes</span></code> subsection contains a sequence which specifies the base URLs
where projects can be fetched from.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">remotes</span></code> element has a name and a “URL base”. These are used to form
the complete Git fetch URL for each project. A project’s fetch URL can be set
by appending a project-specific path onto a remote URL base. (As we’ll see
below, projects can also specify their complete fetch URLs.)</p>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># ...</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote1</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/base1</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote2</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/base2</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">remotes</span></code> keys and their usage are in the following table.</p>
<table class="colwidths-given docutils align-default" id="id5">
<caption><span class="caption-number">Table 40 </span><span class="caption-text">remotes keys</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>Mandatory; a unique name for the remote.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">url-base</span></code></p></td>
<td><p>A prefix that is prepended to the fetch URL for each
project with this remote.</p></td>
</tr>
</tbody>
</table>
<p>Above, two remotes are given, with names <code class="docutils literal notranslate"><span class="pre">remote1</span></code> and <code class="docutils literal notranslate"><span class="pre">remote2</span></code>. Their URL
bases are respectively <code class="docutils literal notranslate"><span class="pre">https://git.example.com/base1</span></code> and
<code class="docutils literal notranslate"><span class="pre">https://git.example.com/base2</span></code>. You can use SSH URL bases as well; for
example, you might use <code class="docutils literal notranslate"><span class="pre">git&#64;example.com:base1</span></code> if <code class="docutils literal notranslate"><span class="pre">remote1</span></code> supported Git
over SSH as well. Anything acceptable to Git will work.</p>
</div>
<div class="section" id="projects">
<span id="west-manifests-projects"></span><h3><a class="toc-backref" href="#id13">Projects</a><a class="headerlink" href="#projects" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">projects</span></code> subsection contains a sequence describing the project
repositories in the west workspace. Every project has a unique name. You can
specify what Git remote URLs to use when cloning and fetching the projects,
what revisions to track, and where the project should be stored on the local
file system.</p>
<p>Here is an example. We’ll assume the <code class="docutils literal notranslate"><span class="pre">remotes</span></code> given above.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># [... same remotes as above...]</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proj1</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote1</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra/project-1</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proj2</span><span class="w"></span>
<span class="w">      </span><span class="nt">repo-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-path</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote2</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.3</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proj3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/user/project-three</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">abcde413a111</span><span class="w"></span>
</pre></div>
</div>
<p>In this manifest:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">proj1</span></code> has remote <code class="docutils literal notranslate"><span class="pre">remote1</span></code>, so its Git fetch URL is
<code class="docutils literal notranslate"><span class="pre">https://git.example.com/base1/proj1</span></code>. The remote <code class="docutils literal notranslate"><span class="pre">url-base</span></code> is appended
with a <code class="docutils literal notranslate"><span class="pre">/</span></code> and the project <code class="docutils literal notranslate"><span class="pre">name</span></code> to form the URL.</p>
<p>Locally, this project will be cloned at path <code class="docutils literal notranslate"><span class="pre">extra/project-1</span></code> relative to
the west workspace’s root directory, since it has an explicit <code class="docutils literal notranslate"><span class="pre">path</span></code>
attribute with this value.</p>
<p>Since the project has no <code class="docutils literal notranslate"><span class="pre">revision</span></code> specified, <code class="docutils literal notranslate"><span class="pre">master</span></code> is used by
default. The current tip of this branch will be fetched and checked out as a
detached <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> when west next updates this project.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">proj2</span></code> has a <code class="docutils literal notranslate"><span class="pre">remote</span></code> and a <code class="docutils literal notranslate"><span class="pre">repo-path</span></code>, so its fetch URL is
<code class="docutils literal notranslate"><span class="pre">https://git.example.com/base2/my-path</span></code>. The <code class="docutils literal notranslate"><span class="pre">repo-path</span></code> attribute, if
present, overrides the default <code class="docutils literal notranslate"><span class="pre">name</span></code> when forming the fetch URL.</p>
<p>Since the project has no <code class="docutils literal notranslate"><span class="pre">path</span></code> attribute, its <code class="docutils literal notranslate"><span class="pre">name</span></code> is used by
default. It will be cloned into a directory named <code class="docutils literal notranslate"><span class="pre">proj2</span></code>. The commit
pointed to by the <code class="docutils literal notranslate"><span class="pre">v1.3</span></code> tag will be checked out when west updates the
project.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">proj3</span></code> has an explicit <code class="docutils literal notranslate"><span class="pre">url</span></code>, so it will be fetched from
<code class="docutils literal notranslate"><span class="pre">https://github.com/user/project-three</span></code>.</p>
<p>Its local path defaults to its name, <code class="docutils literal notranslate"><span class="pre">proj3</span></code>. Commit <code class="docutils literal notranslate"><span class="pre">abcde413a111</span></code> will
be checked out when it is next updated.</p>
</li>
</ul>
<p>The available project keys and their usage are in the following table.
Sometimes we’ll refer to the <code class="docutils literal notranslate"><span class="pre">defaults</span></code> subsection; it will be described
next.</p>
<table class="colwidths-given docutils align-default" id="id6">
<caption><span class="caption-number">Table 41 </span><span class="caption-text">projects elements keys</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key(s)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>Mandatory; a unique name for the project. The name cannot be one of the
reserved values “west” or “manifest”. The name must be unique in the
manifest file.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">remote</span></code>, <code class="docutils literal notranslate"><span class="pre">url</span></code></p></td>
<td><p>Mandatory (one of the two, but not both).</p>
<p>If the project has a <code class="docutils literal notranslate"><span class="pre">remote</span></code>, that remote’s <code class="docutils literal notranslate"><span class="pre">url-base</span></code> will be
combined with the project’s <code class="docutils literal notranslate"><span class="pre">name</span></code> (or <code class="docutils literal notranslate"><span class="pre">repo-path</span></code>, if it has one)
to form the fetch URL instead.</p>
<p>If the project has a <code class="docutils literal notranslate"><span class="pre">url</span></code>, that’s the complete fetch URL for the
remote Git repository.</p>
<p>If the project has neither, the <code class="docutils literal notranslate"><span class="pre">defaults</span></code> section must specify a
<code class="docutils literal notranslate"><span class="pre">remote</span></code>, which will be used as the the project’s remote. Otherwise,
the manifest is invalid.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">repo-path</span></code></p></td>
<td><p>Optional. If given, this is concatenated on to the remote’s
<code class="docutils literal notranslate"><span class="pre">url-base</span></code> instead of the project’s <code class="docutils literal notranslate"><span class="pre">name</span></code> to form its fetch URL.
Projects may not have both <code class="docutils literal notranslate"><span class="pre">url</span></code> and <code class="docutils literal notranslate"><span class="pre">repo-path</span></code> attributes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">revision</span></code></p></td>
<td><p>Optional. The Git revision that <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> should
check out. This will be checked out as a detached HEAD by default, to
avoid conflicting with local branch names. If not given, the
<code class="docutils literal notranslate"><span class="pre">revision</span></code> value from the <code class="docutils literal notranslate"><span class="pre">defaults</span></code> subsection will be used if
present.</p>
<p>A project revision can be a branch, tag, or SHA.</p>
<p>The default <code class="docutils literal notranslate"><span class="pre">revision</span></code> is <code class="docutils literal notranslate"><span class="pre">master</span></code> if not otherwise specified.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">path</span></code></p></td>
<td><p>Optional. Relative path specifying where to clone the repository
locally, relative to the top directory in the west workspace. If missing,
the project’s <code class="docutils literal notranslate"><span class="pre">name</span></code> is used as a directory name.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clone-depth</span></code></p></td>
<td><p>Optional. If given, a positive integer which creates a shallow history
in the cloned repository limited to the given number of commits. This
can only be used if the <code class="docutils literal notranslate"><span class="pre">revision</span></code> is a branch or tag.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">west-commands</span></code></p></td>
<td><p>Optional. If given, a relative path to a YAML file within the project
which describes additional west commands provided by that project. This
file is named <code class="file docutils literal notranslate"><span class="pre">west-commands.yml</span></code> by convention. See
<a class="reference internal" href="extensions.html#west-extensions"><span class="std std-ref">Extensions</span></a> for details.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">import</span></code></p></td>
<td><p>Optional. If <code class="docutils literal notranslate"><span class="pre">true</span></code>, imports projects from manifest files in the
given repository into the current manifest. See
<a class="reference internal" href="#west-manifest-import"><span class="std std-ref">Manifest Imports</span></a> for details.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span></code></p></td>
<td><p>Optional, a list of groups the project belongs to. See
<a class="reference internal" href="#west-manifest-groups"><span class="std std-ref">Project Groups and Active Projects</span></a> for details.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">submodules</span></code></p></td>
<td><p>Optional. You can use this to make <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> also update <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">Git
submodules</a> defined by the project. See
<a class="reference internal" href="#west-manifest-submodules"><span class="std std-ref">Git Submodules in Projects</span></a> for details.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">userdata</span></code></p></td>
<td><p>Optional. The value is an arbitrary YAML value. See
<a class="reference internal" href="#west-project-userdata"><span class="std std-ref">Project user data</span></a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="defaults">
<h3><a class="toc-backref" href="#id14">Defaults</a><a class="headerlink" href="#defaults" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">defaults</span></code> subsection can provide default values for project
attributes. In particular, the default remote name and revision can be
specified here. Another way to write the same manifest we have been describing
so far using <code class="docutils literal notranslate"><span class="pre">defaults</span></code> is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote1</span><span class="w"></span>
<span class="w">    </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.3</span><span class="w"></span>

<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote1</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/base1</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote2</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/base2</span><span class="w"></span>

<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proj1</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra/project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proj2</span><span class="w"></span>
<span class="w">      </span><span class="nt">repo-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-path</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote2</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proj3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/user/project-three</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">abcde413a111</span><span class="w"></span>
</pre></div>
</div>
<p>The available <code class="docutils literal notranslate"><span class="pre">defaults</span></code> keys and their usage are in the following table.</p>
<table class="colwidths-given docutils align-default" id="id7">
<caption><span class="caption-number">Table 42 </span><span class="caption-text">defaults keys</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">remote</span></code></p></td>
<td><p>Optional. This will be used for a project’s <code class="docutils literal notranslate"><span class="pre">remote</span></code> if it does not
have a <code class="docutils literal notranslate"><span class="pre">url</span></code> or <code class="docutils literal notranslate"><span class="pre">remote</span></code> key set.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">revision</span></code></p></td>
<td><p>Optional. This will be used for a project’s <code class="docutils literal notranslate"><span class="pre">revision</span></code> if it does
not have one set. If not given, the default is <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="self">
<h3><a class="toc-backref" href="#id15">Self</a><a class="headerlink" href="#self" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">self</span></code> subsection can be used to control the manifest repository itself.</p>
<p>As an example, let’s consider this snippet from the zephyr repository’s
<code class="file docutils literal notranslate"><span class="pre">west.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># ...</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyr</span><span class="w"></span>
<span class="w">    </span><span class="nt">west-commands</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scripts/west-commands.yml</span><span class="w"></span>
</pre></div>
</div>
<p>This ensures that the zephyr repository is cloned into path <code class="docutils literal notranslate"><span class="pre">zephyr</span></code>, though
as explained above that would have happened anyway if cloning from the default
manifest URL, <code class="docutils literal notranslate"><span class="pre">https://github.com/zephyrproject-rtos/zephyr</span></code>. Since the
zephyr repository does contain extension commands, its <code class="docutils literal notranslate"><span class="pre">self</span></code> entry declares
the location of the corresponding <code class="file docutils literal notranslate"><span class="pre">west-commands.yml</span></code> relative to the
repository root.</p>
<p>The available <code class="docutils literal notranslate"><span class="pre">self</span></code> keys and their usage are in the following table.</p>
<table class="colwidths-given docutils align-default" id="id8">
<caption><span class="caption-number">Table 43 </span><span class="caption-text">self keys</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">path</span></code></p></td>
<td><p>Optional. The path <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">init</span></code> should clone the manifest repository
into, relative to the west workspace topdir.</p>
<p>If not given, the basename of the path component in the manifest
repository URL will be used by default. For example, if the URL is
<code class="docutils literal notranslate"><span class="pre">https://git.example.com/project-repo</span></code>, the manifest repository would
be cloned to the directory <code class="file docutils literal notranslate"><span class="pre">project-repo</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">west-commands</span></code></p></td>
<td><p>Optional. This is analogous to the same key in a project sequence
element.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">import</span></code></p></td>
<td><p>Optional. This is also analogous to the <code class="docutils literal notranslate"><span class="pre">projects</span></code> key, but allows
importing projects from other files in the manifest repository. See
<a class="reference internal" href="#west-manifest-import"><span class="std std-ref">Manifest Imports</span></a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="version">
<span id="west-manifest-schema-version"></span><h3><a class="toc-backref" href="#id16">Version</a><a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">version</span></code> subsection can be used to mark the lowest version of the
manifest file schema that can parse this file’s data:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0.10&quot;</span><span class="w"></span>
<span class="w">  </span><span class="c1"># marks that this file uses version 0.10 of the west manifest</span><span class="w"></span>
<span class="w">  </span><span class="c1"># file format.</span><span class="w"></span>
</pre></div>
</div>
<p>The pykwalify schema <code class="file docutils literal notranslate"><span class="pre">manifest-schema.yml</span></code> in the west source code
repository is used to validate the manifest section. The current manifest
<code class="docutils literal notranslate"><span class="pre">version</span></code> is 0.10, which is supported by west version v0.10.x.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">version</span></code> value may be <code class="docutils literal notranslate"><span class="pre">&quot;0.7&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;0.8&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;0.9&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;0.10&quot;</span></code>.
West v0.10.x can load manifests with any of these <code class="docutils literal notranslate"><span class="pre">version</span></code> values, while
west v0.9.x can only load versions up to <code class="docutils literal notranslate"><span class="pre">&quot;0.9&quot;</span></code>, and so on.</p>
<p>West halts with an error if you ask it to load a manifest file written in a
version it cannot handle.</p>
<p>Quoting the <code class="docutils literal notranslate"><span class="pre">version</span></code> value as shown above forces the YAML parser to treat
it as a string. Without quotes, <code class="docutils literal notranslate"><span class="pre">0.10</span></code> in YAML is just the floating point
value <code class="docutils literal notranslate"><span class="pre">0.1</span></code>. You can omit the quotes if the value is the same when cast to
string, but it’s best to include them. Always use quotes if you’re not sure.</p>
</div>
<div class="section" id="group-filter">
<h3><a class="toc-backref" href="#id17">Group-filter</a><a class="headerlink" href="#group-filter" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#west-manifest-groups"><span class="std std-ref">Project Groups and Active Projects</span></a>.</p>
</div>
</div>
<div class="section" id="project-groups-and-active-projects">
<span id="west-manifest-groups"></span><h2><a class="toc-backref" href="#id18">Project Groups and Active Projects</a><a class="headerlink" href="#project-groups-and-active-projects" title="Permalink to this headline">¶</a></h2>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">groups</span></code> and <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> keys briefly described
<a class="reference internal" href="#west-manifest-files"><span class="std std-ref">above</span></a> to place projects into groups, and filter
which groups are enabled. These keys appear in the manifest like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some-project</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
</pre></div>
</div>
<p>You can enable or disable project groups using <code class="docutils literal notranslate"><span class="pre">group-filter</span></code>. Projects whose
groups are all disabled are <em>inactive</em>; west essentially ignores inactive
projects unless explicitly requested not to.</p>
<p>The next section introduces project groups; the following sections describe
<a class="reference internal" href="#west-enabled-disabled-groups"><span class="std std-ref">Enabled and Disabled Project Groups</span></a> and <a class="reference internal" href="#west-active-inactive-projects"><span class="std std-ref">Active and Inactive Projects</span></a>.
There are some basic examples in <a class="reference internal" href="#west-project-group-examples"><span class="std std-ref">Project Group Examples</span></a>.</p>
<p>Finally, <a class="reference internal" href="#west-group-filter-imports"><span class="std std-ref">Group Filters and Imports</span></a> provides a simplified overview of how
<code class="docutils literal notranslate"><span class="pre">group-filter</span></code> interacts with the <a class="reference internal" href="#west-manifest-import"><span class="std std-ref">Manifest Imports</span></a> feature.</p>
<div class="section" id="project-groups">
<h3><a class="toc-backref" href="#id19">Project Groups</a><a class="headerlink" href="#project-groups" title="Permalink to this headline">¶</a></h3>
<p>Inside <code class="docutils literal notranslate"><span class="pre">manifest:</span> <span class="pre">projects:</span></code>, you can add a project to one or more groups.
The <code class="docutils literal notranslate"><span class="pre">groups</span></code> key is a list of group names. Group names are strings.</p>
<p>For example, in this manifest fragment:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-2</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupB</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupC</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-3</span><span class="w"></span>
</pre></div>
</div>
<p>The projects are in these groups:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">project-1</span></code>: one group, named <code class="docutils literal notranslate"><span class="pre">groupA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">project-2</span></code>: two groups, named <code class="docutils literal notranslate"><span class="pre">groupB</span></code> and <code class="docutils literal notranslate"><span class="pre">groupC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">project-3</span></code>: no groups</p></li>
</ul>
<p>Project group names must not contain commas (,), colons (:), or whitespace.</p>
<p>Group names must not begin with a dash (-) or the plus sign (+), but they may
contain these characters elsewhere in their names. For example, <code class="docutils literal notranslate"><span class="pre">foo-bar</span></code> and
<code class="docutils literal notranslate"><span class="pre">foo+bar</span></code> are valid groups, but <code class="docutils literal notranslate"><span class="pre">-foobar</span></code> and <code class="docutils literal notranslate"><span class="pre">+foobar</span></code> are not.</p>
<p>Group names are otherwise arbitrary strings. Group names are case sensitive.</p>
<p>As a restriction, no project may use both <code class="docutils literal notranslate"><span class="pre">import:</span></code> and <code class="docutils literal notranslate"><span class="pre">groups:</span></code>. (This
avoids some edge cases whose semantics are difficult to specify.)</p>
</div>
<div class="section" id="enabled-and-disabled-project-groups">
<span id="west-enabled-disabled-groups"></span><h3><a class="toc-backref" href="#id20">Enabled and Disabled Project Groups</a><a class="headerlink" href="#enabled-and-disabled-project-groups" title="Permalink to this headline">¶</a></h3>
<p>All project groups are enabled by default. You can enable or disable groups in
both your manifest file and <a class="reference internal" href="config.html#west-config"><span class="std std-ref">Configuration</span></a>.</p>
<p>Within a manifest file, <code class="docutils literal notranslate"><span class="pre">manifest:</span> <span class="pre">group-filter:</span></code> is a YAML list of groups to
enable and disable.</p>
<p>To enable a group, prefix its name with a plus sign (+). For example,
<code class="docutils literal notranslate"><span class="pre">groupA</span></code> is enabled in this manifest fragment:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">+groupA</span><span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
<p>Although this is redundant for groups that are already enabled by default, it
can be used to override settings in an imported manifest file. See
<a class="reference internal" href="#west-group-filter-imports"><span class="std std-ref">Group Filters and Imports</span></a> for more information.</p>
<p>To disable a group, prefix its name with a dash (-). For example, <code class="docutils literal notranslate"><span class="pre">groupA</span></code>
and <code class="docutils literal notranslate"><span class="pre">groupB</span></code> are disabled in this manifest fragment:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-groupA</span><span class="p p-Indicator">,</span><span class="nv">-groupB</span><span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> is a YAML list, you could have written this fragment
as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-groupB</span><span class="w"></span>
</pre></div>
</div>
<p>However, this syntax is harder to read and therefore discouraged.</p>
</div>
<p>In addition to the manifest file, you can control which groups are enabled and
disabled using the <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option. This option
is a comma-separated list of groups to enable and/or disable.</p>
<p>To enable a group, add its name to the list prefixed with <code class="docutils literal notranslate"><span class="pre">+</span></code>. To disable a
group, add its name prefixed with <code class="docutils literal notranslate"><span class="pre">-</span></code>. For example, setting
<code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> to <code class="docutils literal notranslate"><span class="pre">+groupA,-groupB</span></code> enables <code class="docutils literal notranslate"><span class="pre">groupA</span></code>, and
disables <code class="docutils literal notranslate"><span class="pre">groupB</span></code>.</p>
<p>The value of the configuration option overrides any data in the manifest file.
You can think of this as if the <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option
is appended to the <code class="docutils literal notranslate"><span class="pre">manifest:</span> <span class="pre">group-filter:</span></code> list from YAML, with “last entry
wins” semantics.</p>
</div>
<div class="section" id="active-and-inactive-projects">
<span id="west-active-inactive-projects"></span><h3><a class="toc-backref" href="#id21">Active and Inactive Projects</a><a class="headerlink" href="#active-and-inactive-projects" title="Permalink to this headline">¶</a></h3>
<p>All projects are <em>active</em> by default. Projects with no groups are always
active. A project is <em>inactive</em> if all of its groups are disabled. This is the
only way to make a project inactive.</p>
<p>Most west commands that operate on projects will ignore inactive projects by
default. For example, <a class="reference internal" href="built-in.html#west-update"><span class="std std-ref">west update</span></a> when run without arguments will not
update inactive projects. As another example, running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">list</span></code> without
arguments will not print information for inactive projects.</p>
</div>
<div class="section" id="project-group-examples">
<span id="west-project-group-examples"></span><h3><a class="toc-backref" href="#id22">Project Group Examples</a><a class="headerlink" href="#project-group-examples" title="Permalink to this headline">¶</a></h3>
<p>This section contains example situations involving project groups and active
projects. The examples use both <code class="docutils literal notranslate"><span class="pre">manifest:</span> <span class="pre">group-filter:</span></code> YAML lists and
<code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration lists, to show how they work together.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">defaults</span></code> and <code class="docutils literal notranslate"><span class="pre">remotes</span></code> data in the following manifests
isn’t relevant except to make the examples complete and self-contained.</p>
<div class="section" id="example-1-no-disabled-groups">
<h4>Example 1: no disabled groups<a class="headerlink" href="#example-1-no-disabled-groups" title="Permalink to this headline">¶</a></h4>
<p>The entire manifest file is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupB</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span><span class="w"></span>

<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option is not set (you can ensure
this by running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">config</span> <span class="pre">-D</span> <span class="pre">manifest.group-filter</span></code>).</p>
<p>No groups are disabled, because all groups are enabled by default. Therefore,
all three projects (<code class="docutils literal notranslate"><span class="pre">foo</span></code>, <code class="docutils literal notranslate"><span class="pre">bar</span></code>, and <code class="docutils literal notranslate"><span class="pre">baz</span></code>) are active. Note that there
is no way to make project <code class="docutils literal notranslate"><span class="pre">baz</span></code> inactive, since it has no groups.</p>
</div>
<div class="section" id="example-2-disabling-one-group-via-manifest">
<h4>Example 2: Disabling one group via manifest<a class="headerlink" href="#example-2-disabling-one-group-via-manifest" title="Permalink to this headline">¶</a></h4>
<p>The entire manifest file is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupB</span><span class="w"></span>

<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-groupA</span><span class="p p-Indicator">]</span><span class="w"></span>

<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option is not set (you can ensure
this by running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">config</span> <span class="pre">-D</span> <span class="pre">manifest.group-filter</span></code>).</p>
<p>Since <code class="docutils literal notranslate"><span class="pre">groupA</span></code> is disabled, project <code class="docutils literal notranslate"><span class="pre">foo</span></code> is inactive. Project <code class="docutils literal notranslate"><span class="pre">bar</span></code> is
active, because <code class="docutils literal notranslate"><span class="pre">groupB</span></code> is enabled.</p>
</div>
<div class="section" id="example-3-disabling-multiple-groups-via-manifest">
<h4>Example 3: Disabling multiple groups via manifest<a class="headerlink" href="#example-3-disabling-multiple-groups-via-manifest" title="Permalink to this headline">¶</a></h4>
<p>The entire manifest file is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupB</span><span class="w"></span>

<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-groupA</span><span class="p p-Indicator">,</span><span class="nv">-groupB</span><span class="p p-Indicator">]</span><span class="w"></span>

<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option is not set (you can ensure
this by running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">config</span> <span class="pre">-D</span> <span class="pre">manifest.group-filter</span></code>).</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> are inactive, because all of their groups are
disabled.</p>
</div>
<div class="section" id="example-4-disabling-a-group-via-configuration">
<h4>Example 4: Disabling a group via configuration<a class="headerlink" href="#example-4-disabling-a-group-via-configuration" title="Permalink to this headline">¶</a></h4>
<p>The entire manifest file is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupB</span><span class="w"></span>

<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option is set to <code class="docutils literal notranslate"><span class="pre">-groupA</span></code> (you
can ensure this by running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">config</span> <span class="pre">manifest.group-filter</span> <span class="pre">--</span> <span class="pre">-groupA</span></code>;
the extra <code class="docutils literal notranslate"><span class="pre">--</span></code> is required so the argument parser does not treat <code class="docutils literal notranslate"><span class="pre">-groupA</span></code>
as a command line option <code class="docutils literal notranslate"><span class="pre">-g</span></code> with value <code class="docutils literal notranslate"><span class="pre">roupA</span></code>).</p>
<p>Project <code class="docutils literal notranslate"><span class="pre">foo</span></code> is inactive because <code class="docutils literal notranslate"><span class="pre">groupA</span></code> has been disabled by the
<code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option. Project <code class="docutils literal notranslate"><span class="pre">bar</span></code> is active
because <code class="docutils literal notranslate"><span class="pre">groupB</span></code> is enabled.</p>
</div>
<div class="section" id="example-5-overriding-a-disabled-group-via-configuration">
<h4>Example 5: Overriding a disabled group via configuration<a class="headerlink" href="#example-5-overriding-a-disabled-group-via-configuration" title="Permalink to this headline">¶</a></h4>
<p>The entire manifest file is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupB</span><span class="w"></span>

<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-groupA</span><span class="p p-Indicator">]</span><span class="w"></span>

<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option is set to <code class="docutils literal notranslate"><span class="pre">+groupA</span></code> (you
can ensure this by running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">config</span> <span class="pre">manifest.group-filter</span> <span class="pre">+groupA</span></code>).</p>
<p>In this case, <code class="docutils literal notranslate"><span class="pre">groupA</span></code> is enabled: the <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code>
configuration option has higher precedence than the <code class="docutils literal notranslate"><span class="pre">manifest:</span> <span class="pre">group-filter:</span>
<span class="pre">[-groupA]</span></code> content in the manifest file.</p>
<p>Therefore, projects <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> are both active.</p>
</div>
<div class="section" id="example-6-overriding-multiple-disabled-groups-via-configuration">
<h4>Example 6: Overriding multiple disabled groups via configuration<a class="headerlink" href="#example-6-overriding-multiple-disabled-groups-via-configuration" title="Permalink to this headline">¶</a></h4>
<p>The entire manifest file is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupB</span><span class="w"></span>

<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-groupA</span><span class="p p-Indicator">,</span><span class="nv">-groupB</span><span class="p p-Indicator">]</span><span class="w"></span>

<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option is set to
<code class="docutils literal notranslate"><span class="pre">+groupA,+groupB</span></code> (you can ensure this by running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">config</span>
<span class="pre">manifest.group-filter</span> <span class="pre">&quot;+groupA,+groupB&quot;</span></code>).</p>
<p>In this case, both <code class="docutils literal notranslate"><span class="pre">groupA</span></code> and <code class="docutils literal notranslate"><span class="pre">groupB</span></code> are enabled, because the
configuration value overrides the manifest file for both groups.</p>
<p>Therefore, projects <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> are both active.</p>
</div>
<div class="section" id="example-7-disabling-multiple-groups-via-configuration">
<h4>Example 7: Disabling multiple groups via configuration<a class="headerlink" href="#example-7-disabling-multiple-groups-via-configuration" title="Permalink to this headline">¶</a></h4>
<p>The entire manifest file is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupA</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groupB</span><span class="w"></span>

<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option is set to
<code class="docutils literal notranslate"><span class="pre">-groupA,-groupB</span></code> (you can ensure this by running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">config</span>
<span class="pre">manifest.group-filter</span> <span class="pre">--</span> <span class="pre">&quot;-groupA,-groupB&quot;</span></code>).</p>
<p>In this case, both <code class="docutils literal notranslate"><span class="pre">groupA</span></code> and <code class="docutils literal notranslate"><span class="pre">groupB</span></code> are disabled.</p>
<p>Therefore, projects <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> are both inactive.</p>
</div>
</div>
<div class="section" id="group-filters-and-imports">
<span id="west-group-filter-imports"></span><h3><a class="toc-backref" href="#id23">Group Filters and Imports</a><a class="headerlink" href="#group-filters-and-imports" title="Permalink to this headline">¶</a></h3>
<p>This section provides a simplified description of how the <code class="docutils literal notranslate"><span class="pre">manifest:</span>
<span class="pre">group-filter:</span></code> value behaves when combined with <a class="reference internal" href="#west-manifest-import"><span class="std std-ref">Manifest Imports</span></a>.
For complete details, see <a class="reference internal" href="#west-manifest-formal"><span class="std std-ref">Manifest Import Details</span></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The below semantics apply to west v0.10.0 and later. West v0.9.x semantics
are different, and combining <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> with <code class="docutils literal notranslate"><span class="pre">import</span></code> in west v0.9.x
is discouraged.</p>
</div>
<p>In short:</p>
<ul class="simple">
<li><p>if you only import one manifest, any groups it disables in its
<code class="docutils literal notranslate"><span class="pre">group-filter</span></code> are also disabled in your manifest</p></li>
<li><p>you can override this in your manifest file’s <code class="docutils literal notranslate"><span class="pre">manifest:</span> <span class="pre">group-filter:</span></code>
value, your workspace’s <code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option, or
both</p></li>
</ul>
<p>Here are some examples.</p>
<div class="section" id="example-1-no-overrides">
<h4>Example 1: no overrides<a class="headerlink" href="#example-1-no-overrides" title="Permalink to this headline">¶</a></h4>
<p>You are using this <code class="file docutils literal notranslate"><span class="pre">parent/west.yml</span></code> manifest:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># parent/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">child</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/child</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unstable</span><span class="w"></span>
</pre></div>
</div>
<p>And <code class="file docutils literal notranslate"><span class="pre">child/west.yml</span></code> contains:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># child/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-unstable</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-2</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-2</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-3</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unstable</span><span class="w"></span>
</pre></div>
</div>
<p>Only <code class="docutils literal notranslate"><span class="pre">child</span></code> and <code class="docutils literal notranslate"><span class="pre">project-2</span></code> are active in the resolved manifest.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">unstable</span></code> group is disabled in <code class="file docutils literal notranslate"><span class="pre">child/west.yml</span></code>, and that is not
overridden in <code class="file docutils literal notranslate"><span class="pre">parent/west.yml</span></code>. Therefore, the final <code class="docutils literal notranslate"><span class="pre">group-filter</span></code>
for the resolved manifest is <code class="docutils literal notranslate"><span class="pre">[-unstable]</span></code>.</p>
<p>Since <code class="docutils literal notranslate"><span class="pre">project-1</span></code> and <code class="docutils literal notranslate"><span class="pre">project-3</span></code> are in the <code class="docutils literal notranslate"><span class="pre">unstable</span></code> group and are not
in any other group, they are inactive.</p>
</div>
<div class="section" id="example-2-overriding-an-imported-group-filter-via-manifest">
<h4>Example 2: overriding an imported <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> via manifest<a class="headerlink" href="#example-2-overriding-an-imported-group-filter-via-manifest" title="Permalink to this headline">¶</a></h4>
<p>You are using this <code class="file docutils literal notranslate"><span class="pre">parent/west.yml</span></code> manifest:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># parent/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">+unstable</span><span class="p p-Indicator">,</span><span class="nv">-optional</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">child</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/child</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unstable</span><span class="w"></span>
</pre></div>
</div>
<p>And <code class="file docutils literal notranslate"><span class="pre">child/west.yml</span></code> contains:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># child/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-unstable</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-2</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-2</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">optional</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-3</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unstable</span><span class="w"></span>
</pre></div>
</div>
<p>Only the <code class="docutils literal notranslate"><span class="pre">child</span></code>, <code class="docutils literal notranslate"><span class="pre">project-1</span></code>, and <code class="docutils literal notranslate"><span class="pre">project-3</span></code> projects are active.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">[-unstable]</span></code> group filter in <code class="file docutils literal notranslate"><span class="pre">child/west.yml</span></code> is overridden in
<code class="file docutils literal notranslate"><span class="pre">parent/west.yml</span></code>, so the <code class="docutils literal notranslate"><span class="pre">unstable</span></code> group is enabled. Since
<code class="docutils literal notranslate"><span class="pre">project-1</span></code> and <code class="docutils literal notranslate"><span class="pre">project-3</span></code> are in the <code class="docutils literal notranslate"><span class="pre">unstable</span></code> group, they are active.</p>
<p>The same <code class="file docutils literal notranslate"><span class="pre">parent/west.yml</span></code> file disables the <code class="docutils literal notranslate"><span class="pre">optional</span></code> group, so
<code class="docutils literal notranslate"><span class="pre">project-2</span></code> is inactive.</p>
<p>The final group filter specified by <code class="file docutils literal notranslate"><span class="pre">parent/west.yml</span></code> is
<code class="docutils literal notranslate"><span class="pre">[+unstable,-optional]</span></code>.</p>
</div>
<div class="section" id="example-3-overriding-an-imported-group-filter-via-configuration">
<h4>Example 3: overriding an imported <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> via configuration<a class="headerlink" href="#example-3-overriding-an-imported-group-filter-via-configuration" title="Permalink to this headline">¶</a></h4>
<p>You are using this <code class="file docutils literal notranslate"><span class="pre">parent/west.yml</span></code> manifest:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># parent/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">child</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/child</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unstable</span><span class="w"></span>
</pre></div>
</div>
<p>And <code class="file docutils literal notranslate"><span class="pre">child/west.yml</span></code> contains:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># child/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">group-filter</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-unstable</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-2</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-2</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">optional</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/project-3</span><span class="w"></span>
<span class="w">      </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unstable</span><span class="w"></span>
</pre></div>
</div>
<p>If you run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>west config manifest.group-filter +unstable,-optional
</pre></div>
</div>
<p>Then only the <code class="docutils literal notranslate"><span class="pre">child</span></code>, <code class="docutils literal notranslate"><span class="pre">project-1</span></code>, and <code class="docutils literal notranslate"><span class="pre">project-3</span></code> projects are active.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-unstable</span></code> group filter in <code class="file docutils literal notranslate"><span class="pre">child/west.yml</span></code> is overridden in the
<code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option, so the <code class="docutils literal notranslate"><span class="pre">unstable</span></code> group is
enabled. Since <code class="docutils literal notranslate"><span class="pre">project-1</span></code> and <code class="docutils literal notranslate"><span class="pre">project-3</span></code> are in the <code class="docutils literal notranslate"><span class="pre">unstable</span></code> group,
they are active.</p>
<p>The same configuration option disables the <code class="docutils literal notranslate"><span class="pre">optional</span></code> group, so <code class="docutils literal notranslate"><span class="pre">project-2</span></code>
is inactive.</p>
<p>The final group filter specified by <code class="file docutils literal notranslate"><span class="pre">parent/west.yml</span></code> and the
<code class="docutils literal notranslate"><span class="pre">manifest.group-filter</span></code> configuration option is <code class="docutils literal notranslate"><span class="pre">[+unstable,-optional]</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="git-submodules-in-projects">
<span id="west-manifest-submodules"></span><h2><a class="toc-backref" href="#id24">Git Submodules in Projects</a><a class="headerlink" href="#git-submodules-in-projects" title="Permalink to this headline">¶</a></h2>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">submodules</span></code> keys briefly described <a class="reference internal" href="#west-manifest-files"><span class="std std-ref">above</span></a> to force <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> to also handle any <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">Git
submodules</a> configured in project’s git repository. The <code class="docutils literal notranslate"><span class="pre">submodules</span></code> key can
appear inside <code class="docutils literal notranslate"><span class="pre">projects</span></code>, like this:</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some-project</span><span class="w"></span>
<span class="w">      </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">submodules</span></code> key can be a boolean or a list of mappings. We’ll describe
these in order.</p>
<div class="section" id="option-1-boolean">
<h3><a class="toc-backref" href="#id25">Option 1: Boolean</a><a class="headerlink" href="#option-1-boolean" title="Permalink to this headline">¶</a></h3>
<p>This is the easiest way to use <code class="docutils literal notranslate"><span class="pre">submodules</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">submodules</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code> as a <code class="docutils literal notranslate"><span class="pre">projects</span></code> attribute, <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> will
recursively update the project’s Git submodules whenever it updates the project
itself. If it’s <code class="docutils literal notranslate"><span class="pre">false</span></code> or missing, it has no effect.</p>
<p>For example, let’s say you have a source code repository <code class="docutils literal notranslate"><span class="pre">foo</span></code>, which has
some submodules, and you want <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> to keep all of them them in sync,
along with another project named <code class="docutils literal notranslate"><span class="pre">bar</span></code> in the same workspace.</p>
<p>You can do that with this manifest file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> will initialize and update all submodules in <code class="docutils literal notranslate"><span class="pre">foo</span></code>. If
<code class="docutils literal notranslate"><span class="pre">bar</span></code> has any submodules, they are ignored, because <code class="docutils literal notranslate"><span class="pre">bar</span></code> does not have a
<code class="docutils literal notranslate"><span class="pre">submodules</span></code> value.</p>
</div>
<div class="section" id="option-2-list-of-mappings">
<h3><a class="toc-backref" href="#id26">Option 2: List of mappings</a><a class="headerlink" href="#option-2-list-of-mappings" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">submodules</span></code> key may be a list of mappings, one list element for
each desired submodule. Each submodule listed is updated recursively.
You can still track and update unlisted submodules with <code class="docutils literal notranslate"><span class="pre">git</span></code> commands
manually; present or not they will be completely ignored by <code class="docutils literal notranslate"><span class="pre">west</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">path</span></code> key must match exactly the path of one submodule relative
to its parent west project, as shown in the output of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span>
<span class="pre">status</span></code>. The <code class="docutils literal notranslate"><span class="pre">name</span></code> key is optional and not used by west for now;
it’s not passed to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span></code> commands either. The <code class="docutils literal notranslate"><span class="pre">name</span></code> key
was briefly mandatory in west version 0.9.0, but was made optional in 0.9.1.</p>
<p>For example, let’s say you have a source code repository <code class="docutils literal notranslate"><span class="pre">foo</span></code>, which has
many submodules, and you want <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> to keep some but not all of them
in sync, along with another project named <code class="docutils literal notranslate"><span class="pre">bar</span></code> in the same workspace.</p>
<p>You can do that with this manifest file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">submodules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/foo-first-sub</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo-second-sub</span><span class="w"></span>
<span class="w">          </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/foo-second-sub</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> will recursively initialize and update just the
submodules in <code class="docutils literal notranslate"><span class="pre">foo</span></code> with paths <code class="docutils literal notranslate"><span class="pre">path/to/foo-first-sub</span></code> and
<code class="docutils literal notranslate"><span class="pre">path/to/foo-second-sub</span></code>. Any submodules in <code class="docutils literal notranslate"><span class="pre">bar</span></code> are still ignored.</p>
</div>
</div>
<div class="section" id="project-user-data">
<span id="west-project-userdata"></span><h2><a class="toc-backref" href="#id27">Project user data</a><a class="headerlink" href="#project-user-data" title="Permalink to this headline">¶</a></h2>
<p>West versions v0.12 and later support an optional <code class="docutils literal notranslate"><span class="pre">userdata</span></code> key in projects.
It is meant for consumption by programs that require user-specific project
metadata. Beyond parsing it as YAML, west itself ignores the value completely.</p>
<p>The key’s value is arbitrary YAML. West parses the value and makes it
accessible to programs using <a class="reference internal" href="west-apis.html#west-apis"><span class="std std-ref">West APIs</span></a> as the <code class="docutils literal notranslate"><span class="pre">userdata</span></code> attribute of
the corresponding <code class="docutils literal notranslate"><span class="pre">west.manifest.Project</span></code> object.</p>
<p>Example manifest fragment:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">userdata</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">a-string</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span><span class="w"></span>
<span class="w">      </span><span class="nt">userdata</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value</span><span class="w"></span>
</pre></div>
</div>
<p>Example Python usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span> <span class="o">=</span> <span class="n">west</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">Manifest</span><span class="o">.</span><span class="n">from_file</span><span class="p">()</span>

<span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">baz</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">get_projects</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">])</span>

<span class="n">foo</span><span class="o">.</span><span class="n">userdata</span> <span class="c1"># None</span>
<span class="n">bar</span><span class="o">.</span><span class="n">userdata</span> <span class="c1"># &#39;a-string&#39;</span>
<span class="n">baz</span><span class="o">.</span><span class="n">userdata</span> <span class="c1"># {&#39;key&#39;: &#39;value&#39;}</span>
</pre></div>
</div>
</div>
<div class="section" id="manifest-imports">
<span id="west-manifest-import"></span><h2><a class="toc-backref" href="#id28">Manifest Imports</a><a class="headerlink" href="#manifest-imports" title="Permalink to this headline">¶</a></h2>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">import</span></code> key briefly described above to include projects from
other manifest files in your <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code>. This key can be either a
<code class="docutils literal notranslate"><span class="pre">project</span></code> or <code class="docutils literal notranslate"><span class="pre">self</span></code> section attribute:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some-project</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
</pre></div>
</div>
<p>You can use a “self: import:” to load additional files from the repository
containing your <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code>. You can use a “project: … import:” to load
additional files defined in that project’s Git history.</p>
<p>West resolves the final manifest from individual manifest files in this order:</p>
<ol class="arabic simple">
<li><p>imported files in <code class="docutils literal notranslate"><span class="pre">self</span></code></p></li>
<li><p>your <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code> file</p></li>
<li><p>imported files in <code class="docutils literal notranslate"><span class="pre">projects</span></code></p></li>
</ol>
<p>During resolution, west ignores projects which have already been defined in
other files. For example, a project named <code class="docutils literal notranslate"><span class="pre">foo</span></code> in your <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code>
makes west ignore other projects named <code class="docutils literal notranslate"><span class="pre">foo</span></code> imported from your <code class="docutils literal notranslate"><span class="pre">projects</span></code>
list.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">import</span></code> key can be a boolean, path, mapping, or sequence. We’ll describe
these in order, using examples:</p>
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference internal" href="#west-manifest-import-bool"><span class="std std-ref">Boolean</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#west-manifest-ex1-1"><span class="std std-ref">Example 1.1: Downstream of a Zephyr release</span></a></p></li>
<li><p><a class="reference internal" href="#west-manifest-ex1-2"><span class="std std-ref">Example 1.2: “Rolling release” Zephyr downstream</span></a></p></li>
<li><p><a class="reference internal" href="#west-manifest-ex1-3"><span class="std std-ref">Example 1.3: Downstream of a Zephyr release, with module fork</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#west-manifest-import-path"><span class="std std-ref">Relative path</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#west-manifest-ex2-1"><span class="std std-ref">Example 2.1: Downstream of a Zephyr release with explicit path</span></a></p></li>
<li><p><a class="reference internal" href="#west-manifest-ex2-2"><span class="std std-ref">Example 2.2: Downstream with directory of manifest files</span></a></p></li>
<li><p><a class="reference internal" href="#west-manifest-ex2-3"><span class="std std-ref">Example 2.3: Continuous Integration overrides</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#west-manifest-import-map"><span class="std std-ref">Mapping with additional configuration</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#west-manifest-ex3-1"><span class="std std-ref">Example 3.1: Downstream with name allowlist</span></a></p></li>
<li><p><a class="reference internal" href="#west-manifest-ex3-2"><span class="std std-ref">Example 3.2: Downstream with path allowlist</span></a></p></li>
<li><p><a class="reference internal" href="#west-manifest-ex3-3"><span class="std std-ref">Example 3.3: Downstream with path blocklist</span></a></p></li>
<li><p><a class="reference internal" href="#west-manifest-ex3-4"><span class="std std-ref">Example 3.4: Import into a subdirectory</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#west-manifest-import-seq"><span class="std std-ref">Sequence of paths and mappings</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#west-manifest-ex4-1"><span class="std std-ref">Example 4.1: Downstream with sequence of manifest files</span></a></p></li>
<li><p><a class="reference internal" href="#west-manifest-ex4-2"><span class="std std-ref">Example 4.2: Import order illustration</span></a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>A more <a class="reference internal" href="#west-manifest-formal"><span class="std std-ref">formal description</span></a> of how this works is
last, after the examples.</p>
<div class="section" id="troubleshooting-note">
<h3><a class="toc-backref" href="#id29">Troubleshooting Note</a><a class="headerlink" href="#troubleshooting-note" title="Permalink to this headline">¶</a></h3>
<p>If you’re using this feature and find west’s behavior confusing, try
<a class="reference internal" href="#west-manifest-resolve"><span class="std std-ref">resolving your manifest</span></a> to see the final results
after imports are done.</p>
</div>
<div class="section" id="west-manifest-import-bool">
<span id="id2"></span><h3><a class="toc-backref" href="#id30">Option 1: Boolean</a><a class="headerlink" href="#west-manifest-import-bool" title="Permalink to this headline">¶</a></h3>
<p>This is the easiest way to use <code class="docutils literal notranslate"><span class="pre">import</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">import</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code> as a <code class="docutils literal notranslate"><span class="pre">projects</span></code> attribute, west imports projects
from the <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code> file in that project’s root directory. If it’s
<code class="docutils literal notranslate"><span class="pre">false</span></code> or missing, it has no effect. For example, this manifest would import
<code class="file docutils literal notranslate"><span class="pre">west.yml</span></code> from the <code class="docutils literal notranslate"><span class="pre">p1</span></code> git repository at revision <code class="docutils literal notranslate"><span class="pre">v1.0</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># ...</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">p1</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">    </span><span class="c1"># Import west.yml from p1&#39;s v1.0 git tag</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">p2</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w">   </span><span class="c1"># Nothing is imported from p2.</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">p3</span><span class="w">        </span><span class="c1"># Nothing is imported from p3 either.</span><span class="w"></span>
</pre></div>
</div>
<p>It’s an error to set <code class="docutils literal notranslate"><span class="pre">import</span></code> to either <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code> inside
<code class="docutils literal notranslate"><span class="pre">self</span></code>, like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># ...</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Error</span><span class="w"></span>
</pre></div>
</div>
<div class="section" id="example-1-1-downstream-of-a-zephyr-release">
<span id="west-manifest-ex1-1"></span><h4>Example 1.1: Downstream of a Zephyr release<a class="headerlink" href="#example-1-1-downstream-of-a-zephyr-release" title="Permalink to this headline">¶</a></h4>
<p>You have a source code repository you want to use with Zephyr v1.14.1 LTS.  You
want to maintain the whole thing using west. You don’t want to modify any of
the mainline repositories.</p>
<p>In other words, the west workspace you want looks like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>my-downstream/
├── .west/                     # west directory
├── zephyr/                    # mainline zephyr repository
│   └── west.yml               # the v1.14.1 version of this file is imported
├── modules/                   # modules from mainline zephyr
│   ├── hal/
│   └── [...other directories..]
├── [ ... other projects ...]  # other mainline repositories
└── my-repo/                   # your downstream repository
    ├── west.yml               # main manifest importing zephyr/west.yml v1.14.1
    └── [...other files..]
</pre></div>
</div>
<p>You can do this with the following <code class="file docutils literal notranslate"><span class="pre">my-repo/west.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># my-repo/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/zephyrproject-rtos</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyr</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.14.1</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
<p>You can then create the workspace on your computer like this, assuming
<code class="docutils literal notranslate"><span class="pre">my-repo</span></code> is hosted at <code class="docutils literal notranslate"><span class="pre">https://git.example.com/my-repo</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west init -m https://git.example.com/my-repo my-downstream</span>
<span class="go">cd my-downstream</span>
<span class="go">west update</span>
</pre></div>
</div>
<p>After <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">init</span></code>, <code class="file docutils literal notranslate"><span class="pre">my-downstream/my-repo</span></code> will be cloned.</p>
<p>After <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>, all of the projects defined in the <code class="docutils literal notranslate"><span class="pre">zephyr</span></code>
repository’s <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code> at revision <code class="docutils literal notranslate"><span class="pre">v1.14.1</span></code> will be cloned into
<code class="file docutils literal notranslate"><span class="pre">my-downstream</span></code> as well.</p>
<p>You can add and commit any code to <code class="file docutils literal notranslate"><span class="pre">my-repo</span></code> you please at this point,
including your own Zephyr applications, drivers, etc. See <a class="reference internal" href="../../application/index.html#application"><span class="std std-ref">Application Development</span></a>.</p>
</div>
<div class="section" id="example-1-2-rolling-release-zephyr-downstream">
<span id="west-manifest-ex1-2"></span><h4>Example 1.2: “Rolling release” Zephyr downstream<a class="headerlink" href="#example-1-2-rolling-release-zephyr-downstream" title="Permalink to this headline">¶</a></h4>
<p>This is similar to <a class="reference internal" href="#west-manifest-ex1-1"><span class="std std-ref">Example 1.1: Downstream of a Zephyr release</span></a>, except we’ll use <code class="docutils literal notranslate"><span class="pre">revision:</span>
<span class="pre">main</span></code> for the zephyr repository:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># my-repo/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/zephyrproject-rtos</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyr</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
<p>You can create the workspace in the same way:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west init -m https://git.example.com/my-repo my-downstream</span>
<span class="go">cd my-downstream</span>
<span class="go">west update</span>
</pre></div>
</div>
<p>This time, whenever you run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>, the special <a class="reference internal" href="workspaces.html#west-manifest-rev"><span class="std std-ref">manifest-rev</span></a> branch in the <code class="docutils literal notranslate"><span class="pre">zephyr</span></code> repository will be updated to
point at a newly fetched <code class="docutils literal notranslate"><span class="pre">main</span></code> branch tip from the URL
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr">https://github.com/zephyrproject-rtos/zephyr</a>.</p>
<p>The contents of <code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code> at the new <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code> will then
be used to import projects from Zephyr. This lets you stay up to date with the
latest changes in the Zephyr project. The cost is that running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>
will not produce reproducible results, since the remote <code class="docutils literal notranslate"><span class="pre">main</span></code> branch can
change every time you run it.</p>
<p>It’s also important to understand that west <strong>ignores your working tree’s</strong>
<code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code> entirely when resolving imports. West always uses the
contents of imported manifests as they were committed to the latest
<code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code> when importing from a project.</p>
<p>You can only import manifest from the file system if they are in your manifest
repository’s working tree. See <a class="reference internal" href="#west-manifest-ex2-2"><span class="std std-ref">Example 2.2: Downstream with directory of manifest files</span></a> for an example.</p>
</div>
<div class="section" id="example-1-3-downstream-of-a-zephyr-release-with-module-fork">
<span id="west-manifest-ex1-3"></span><h4>Example 1.3: Downstream of a Zephyr release, with module fork<a class="headerlink" href="#example-1-3-downstream-of-a-zephyr-release-with-module-fork" title="Permalink to this headline">¶</a></h4>
<p>This manifest is similar to the one in <a class="reference internal" href="#west-manifest-ex1-1"><span class="std std-ref">Example 1.1: Downstream of a Zephyr release</span></a>, except it:</p>
<ul class="simple">
<li><p>is a downstream of Zephyr 2.0</p></li>
<li><p>includes a downstream fork of the <code class="file docutils literal notranslate"><span class="pre">modules/hal/nordic</span></code>
<a class="reference internal" href="../modules.html#modules"><span class="std std-ref">module</span></a> which was included in that release</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># my-repo/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/zephyrproject-rtos</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hal_nordic</span><span class="w">         </span><span class="c1"># higher precedence</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-remote</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-sha</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modules/hal/nordic</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyr</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v2.0.0</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">             </span><span class="c1"># imported projects have lower precedence</span><span class="w"></span>

<span class="c1"># subset of zephyr/west.yml contents at v2.0.0:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/zephyrproject-rtos</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># ...</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hal_nordic</span><span class="w">           </span><span class="c1"># lower precedence, values ignored</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modules/hal/nordic</span><span class="w"></span>
<span class="w">    </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">another-sha</span><span class="w"></span>
</pre></div>
</div>
<p>With this manifest file, the project named <code class="docutils literal notranslate"><span class="pre">hal_nordic</span></code>:</p>
<ul class="simple">
<li><p>is cloned from <code class="docutils literal notranslate"><span class="pre">https://git.example.com/hal_nordic</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">https://github.com/zephyrproject-rtos/hal_nordic</span></code>.</p></li>
<li><p>is updated to commit <code class="docutils literal notranslate"><span class="pre">my-sha</span></code> by <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>, instead of
the mainline commit <code class="docutils literal notranslate"><span class="pre">another-sha</span></code></p></li>
</ul>
<p>In other words, when your top-level manifest defines a project, like
<code class="docutils literal notranslate"><span class="pre">hal_nordic</span></code>, west will ignore any other definition it finds later on while
resolving imports.</p>
<p>This does mean you have to copy the <code class="docutils literal notranslate"><span class="pre">path:</span> <span class="pre">modules/hal/nordic</span></code> value into
<code class="file docutils literal notranslate"><span class="pre">my-repo/west.yml</span></code> when defining <code class="docutils literal notranslate"><span class="pre">hal_nordic</span></code> there. The value from
<code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code> is ignored entirely. See <a class="reference internal" href="#west-manifest-resolve"><span class="std std-ref">Resolving Manifests</span></a>
for troubleshooting advice if this gets confusing in practice.</p>
<p>When you run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>, west will:</p>
<ul class="simple">
<li><p>update zephyr’s <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code> to point at the <code class="docutils literal notranslate"><span class="pre">v2.0.0</span></code> tag</p></li>
<li><p>import <code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code> at that <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code></p></li>
<li><p>locally check out the <code class="docutils literal notranslate"><span class="pre">v2.0.0</span></code> revisions for all zephyr projects except
<code class="docutils literal notranslate"><span class="pre">hal_nordic</span></code></p></li>
<li><p>update <code class="docutils literal notranslate"><span class="pre">hal_nordic</span></code> to <code class="docutils literal notranslate"><span class="pre">my-sha</span></code> instead of <code class="docutils literal notranslate"><span class="pre">another-sha</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="option-2-relative-path">
<span id="west-manifest-import-path"></span><h3><a class="toc-backref" href="#id31">Option 2: Relative path</a><a class="headerlink" href="#option-2-relative-path" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">import</span></code> value can also be a relative path to a manifest file or a
directory containing manifest files. The path is relative to the root directory
of the <code class="docutils literal notranslate"><span class="pre">projects</span></code> or <code class="docutils literal notranslate"><span class="pre">self</span></code> repository the <code class="docutils literal notranslate"><span class="pre">import</span></code> key appears in.</p>
<p>Here is an example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-1</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">west.yml</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project-2</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">p2-manifests</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests</span><span class="w"></span>
</pre></div>
</div>
<p>This will import the following:</p>
<ul class="simple">
<li><p>the contents of <code class="file docutils literal notranslate"><span class="pre">project-1/west.yml</span></code> at <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code>, which points
at tag <code class="docutils literal notranslate"><span class="pre">v1.0</span></code> after running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code></p></li>
<li><p>any YAML files in the directory tree <code class="file docutils literal notranslate"><span class="pre">project-2/p2-manifests</span></code>
at the latest commit in the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch, as fetched by <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>,
sorted by file name</p></li>
<li><p>YAML files in <code class="file docutils literal notranslate"><span class="pre">submanifests</span></code> in your manifest repository,
as they appear on your file system, sorted by file name</p></li>
</ul>
<p>Notice how <code class="docutils literal notranslate"><span class="pre">projects</span></code> imports get data from Git using <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code>, while
<code class="docutils literal notranslate"><span class="pre">self</span></code> imports get data from your file system. This is because as usual, west
leaves version control for your manifest repository up to you.</p>
<div class="section" id="example-2-1-downstream-of-a-zephyr-release-with-explicit-path">
<span id="west-manifest-ex2-1"></span><h4>Example 2.1: Downstream of a Zephyr release with explicit path<a class="headerlink" href="#example-2-1-downstream-of-a-zephyr-release-with-explicit-path" title="Permalink to this headline">¶</a></h4>
<p>This is an explicit way to write an equivalent manifest to the one in
<a class="reference internal" href="#west-manifest-ex1-1"><span class="std std-ref">Example 1.1: Downstream of a Zephyr release</span></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/zephyrproject-rtos</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyr</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.14.1</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">west.yml</span><span class="w"></span>
</pre></div>
</div>
<p>The setting <code class="docutils literal notranslate"><span class="pre">import:</span> <span class="pre">west.yml</span></code> means to use the file <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code> inside
the <code class="docutils literal notranslate"><span class="pre">zephyr</span></code> project. This example is contrived, but shows the idea.</p>
<p>This can be useful in practice when the name of the manifest file you want to
import is not <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code>.</p>
</div>
<div class="section" id="example-2-2-downstream-with-directory-of-manifest-files">
<span id="west-manifest-ex2-2"></span><h4>Example 2.2: Downstream with directory of manifest files<a class="headerlink" href="#example-2-2-downstream-with-directory-of-manifest-files" title="Permalink to this headline">¶</a></h4>
<p>Your Zephyr downstream has a lot of additional repositories. So many, in fact,
that you want to split them up into multiple manifest files, but keep track of
them all in a single manifest repository, like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>my-repo/
├── submanifests
│   ├── 01-libraries.yml
│   ├── 02-vendor-hals.yml
│   └── 03-applications.yml
└── west.yml
</pre></div>
</div>
<p>You want to add all the files in <code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests</span></code> to the main
manifest file, <code class="file docutils literal notranslate"><span class="pre">my-repo/west.yml</span></code>, in addition to projects in
<code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code>. You want to track the latest development code
in the Zephyr repository’s <code class="docutils literal notranslate"><span class="pre">main</span></code> branch instead of using a fixed revision.</p>
<p>Here’s how:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># my-repo/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/zephyrproject-rtos</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyr</span><span class="w"></span>
<span class="w">      </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyrproject-rtos</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests</span><span class="w"></span>
</pre></div>
</div>
<p>Manifest files are imported in this order during resolution:</p>
<ol class="arabic simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests/01-libraries.yml</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests/02-vendor-hals.yml</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests/03-applications.yml</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">my-repo/west.yml</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code></p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="file docutils literal notranslate"><span class="pre">.yml</span></code> file names are prefixed with numbers in this example to
make sure they are imported in the specified order.</p>
<p>You can pick arbitrary names. West sorts files in a directory by name before
importing.</p>
</div>
<p>Notice how the manifests in <code class="file docutils literal notranslate"><span class="pre">submanifests</span></code> are imported <em>before</em>
<code class="file docutils literal notranslate"><span class="pre">my-repo/west.yml</span></code> and <code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code>. In general, an <code class="docutils literal notranslate"><span class="pre">import</span></code>
in the <code class="docutils literal notranslate"><span class="pre">self</span></code> section is processed before the manifest files in <code class="docutils literal notranslate"><span class="pre">projects</span></code>
and the main manifest file.</p>
<p>This means projects defined in <code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests</span></code> take highest
precedence. For example, if <code class="file docutils literal notranslate"><span class="pre">01-libraries.yml</span></code> defines <code class="docutils literal notranslate"><span class="pre">hal_nordic</span></code>,
the project by the same name in <code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code> is simply ignored. As
usual, see <a class="reference internal" href="#west-manifest-resolve"><span class="std std-ref">Resolving Manifests</span></a> for troubleshooting advice.</p>
<p>This may seem strange, but it allows you to redefine projects “after the fact”,
as we’ll see in the next example.</p>
</div>
<div class="section" id="example-2-3-continuous-integration-overrides">
<span id="west-manifest-ex2-3"></span><h4>Example 2.3: Continuous Integration overrides<a class="headerlink" href="#example-2-3-continuous-integration-overrides" title="Permalink to this headline">¶</a></h4>
<p>Your continuous integration system needs to fetch and test multiple
repositories in your west workspace from a developer’s forks instead of your
mainline development trees, to see if the changes all work well together.</p>
<p>Starting with <a class="reference internal" href="#west-manifest-ex2-2"><span class="std std-ref">Example 2.2: Downstream with directory of manifest files</span></a>, the CI scripts add a
file <code class="file docutils literal notranslate"><span class="pre">00-ci.yml</span></code> in <code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests</span></code>, with these contents:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># my-repo/submanifests/00-ci.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">a-vendor-hal</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/a-developer/hal</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">a-pull-request-branch</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">an-application</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/a-developer/application</span><span class="w"></span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">another-pull-request-branch</span><span class="w"></span>
</pre></div>
</div>
<p>The CI scripts run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> after generating this file in
<code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests</span></code>. The projects defined in <code class="file docutils literal notranslate"><span class="pre">00-ci.yml</span></code> have
higher precedence than other definitions in <code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests</span></code>,
because the name <code class="file docutils literal notranslate"><span class="pre">00-ci.yml</span></code> comes before the other file names.</p>
<p>Thus, <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> always checks out the developer’s branches in the
projects named <code class="docutils literal notranslate"><span class="pre">a-vendor-hal</span></code> and <code class="docutils literal notranslate"><span class="pre">an-application</span></code>, even if those same
projects are also defined elsewhere.</p>
</div>
</div>
<div class="section" id="option-3-mapping">
<span id="west-manifest-import-map"></span><h3><a class="toc-backref" href="#id32">Option 3: Mapping</a><a class="headerlink" href="#option-3-mapping" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">import</span></code> key can also contain a mapping with the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file</span></code>: Optional. The name of the manifest file or directory to import.
This defaults to <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code> if not present.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name-allowlist</span></code>: Optional. If present, a name or sequence of project names
to include.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path-allowlist</span></code>: Optional. If present, a path or sequence of project paths
to match against. This is a shell-style globbing pattern, currently
implemented with <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.match">pathlib</a>. Note that this means case sensitivity is
platform specific.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name-blocklist</span></code>: Optional. Like <code class="docutils literal notranslate"><span class="pre">name-allowlist</span></code>, but contains project
names to exclude rather than include.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path-blocklist</span></code>: Optional. Like <code class="docutils literal notranslate"><span class="pre">path-allowlist</span></code>, but contains project
paths to exclude rather than include.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path-prefix</span></code>: Optional (new in v0.8.0). If given, this will be prepended
to the project’s path in the workspace, as well as the paths of any imported
projects. This can be used to place these projects in a subdirectory of the
workspace.</p></li>
</ul>
<p>Allowlists override blocklists if both are given. For example, if a project is
blocked by path, then allowed by name, it will still be imported.</p>
<div class="section" id="example-3-1-downstream-with-name-allowlist">
<span id="west-manifest-ex3-1"></span><h4>Example 3.1: Downstream with name allowlist<a class="headerlink" href="#example-3-1-downstream-with-name-allowlist" title="Permalink to this headline">¶</a></h4>
<p>Here is a pair of manifest files, representing a mainline and a
downstream. The downstream doesn’t want to use all the mainline
projects, however. We’ll assume the mainline <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code> is
hosted at <code class="docutils literal notranslate"><span class="pre">https://git.example.com/mainline/manifest</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># mainline west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline-app</span><span class="w">                </span><span class="c1"># included</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">examples/app</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/lib</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib2</span><span class="w">                        </span><span class="c1"># included</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib2</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/lib2</span><span class="w"></span>

<span class="c1"># downstream west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/manifest</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">name-allowlist</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline-app</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib2</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">downstream-app</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib3</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/lib3</span><span class="w"></span>
</pre></div>
</div>
<p>An equivalent manifest in a single file would be:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/manifest</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">downstream-app</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib3</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/lib3</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline-app</span><span class="w">                   </span><span class="c1"># imported</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">examples/app</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib2</span><span class="w">                           </span><span class="c1"># imported</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib2</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/lib2</span><span class="w"></span>
</pre></div>
</div>
<p>If an allowlist had not been used, the <code class="docutils literal notranslate"><span class="pre">lib</span></code> project from the mainline
manifest would have been imported.</p>
</div>
<div class="section" id="example-3-2-downstream-with-path-allowlist">
<span id="west-manifest-ex3-2"></span><h4>Example 3.2: Downstream with path allowlist<a class="headerlink" href="#example-3-2-downstream-with-path-allowlist" title="Permalink to this headline">¶</a></h4>
<p>Here is an example showing how to allowlist mainline’s libraries only,
using <code class="docutils literal notranslate"><span class="pre">path-allowlist</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># mainline west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">examples/app</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib</span><span class="w">                  </span><span class="c1"># included</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/lib</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib2</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib2</span><span class="w">                 </span><span class="c1"># included</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/lib2</span><span class="w"></span>

<span class="c1"># downstream west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/manifest</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">path-allowlist</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/*</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib3</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/lib3</span><span class="w"></span>
</pre></div>
</div>
<p>An equivalent manifest in a single file would be:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib</span><span class="w">                          </span><span class="c1"># imported</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/lib</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib2</span><span class="w">                         </span><span class="c1"># imported</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib2</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/lib2</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/manifest</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib3</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib3</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/lib3</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="example-3-3-downstream-with-path-blocklist">
<span id="west-manifest-ex3-3"></span><h4>Example 3.3: Downstream with path blocklist<a class="headerlink" href="#example-3-3-downstream-with-path-blocklist" title="Permalink to this headline">¶</a></h4>
<p>Here’s an example showing how to block all vendor HALs from mainline by
common path prefix in the workspace, add your own version for the chip
you’re targeting, and keep everything else.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># mainline west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib2</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib2</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hal_foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modules/hals/foo</span><span class="w">     </span><span class="c1"># excluded</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hal_bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modules/hals/bar</span><span class="w">     </span><span class="c1"># excluded</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hal_baz</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modules/hals/baz</span><span class="w">     </span><span class="c1"># excluded</span><span class="w"></span>

<span class="c1"># downstream west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/manifest</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">path-blocklist</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modules/hals/*</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hal_foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modules/hals/foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/hal_foo</span><span class="w"></span>
</pre></div>
</div>
<p>An equivalent manifest in a single file would be:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="w">                  </span><span class="c1"># imported</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib</span><span class="w">                  </span><span class="c1"># imported</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lib2</span><span class="w">                 </span><span class="c1"># imported</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libraries/lib2</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mainline</span><span class="w"></span>
<span class="w">      </span><span class="nt">repo-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/mainline/manifest</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hal_foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modules/hals/foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/downstream/hal_foo</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="example-3-4-import-into-a-subdirectory">
<span id="west-manifest-ex3-4"></span><h4>Example 3.4: Import into a subdirectory<a class="headerlink" href="#example-3-4-import-into-a-subdirectory" title="Permalink to this headline">¶</a></h4>
<p>You want to import a manifest and its projects, placing everything into a
subdirectory of your <a class="reference internal" href="../../glossary.html#term-west-workspace"><span class="xref std std-term">west workspace</span></a>.</p>
<p>For example, suppose you want to import this manifest from project <code class="docutils literal notranslate"><span class="pre">foo</span></code>,
adding this project and its projects <code class="docutils literal notranslate"><span class="pre">bar</span></code> and <code class="docutils literal notranslate"><span class="pre">baz</span></code> to your workspace:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># foo/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span><span class="w"></span>
</pre></div>
</div>
<p>Instead of importing these into the top level workspace, you want to place all
three project repositories in an <code class="file docutils literal notranslate"><span class="pre">external-code</span></code> subdirectory, like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>workspace/
└── external-code/
    ├── foo/
    ├── bar/
    └── baz/
</pre></div>
</div>
<p>You can do this using this manifest:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com/foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">path-prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-code</span><span class="w"></span>
</pre></div>
</div>
<p>An equivalent manifest in a single file would be:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># foo/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span><span class="w"></span>
<span class="w">  </span><span class="nt">remotes</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span><span class="w"></span>
<span class="w">      </span><span class="nt">url-base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://git.example.com</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-code/foo</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-code/bar</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-code/baz</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="option-4-sequence">
<span id="west-manifest-import-seq"></span><h3><a class="toc-backref" href="#id33">Option 4: Sequence</a><a class="headerlink" href="#option-4-sequence" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">import</span></code> key can also contain a sequence of files, directories,
and mappings.</p>
<div class="section" id="example-4-1-downstream-with-sequence-of-manifest-files">
<span id="west-manifest-ex4-1"></span><h4>Example 4.1: Downstream with sequence of manifest files<a class="headerlink" href="#example-4-1-downstream-with-sequence-of-manifest-files" title="Permalink to this headline">¶</a></h4>
<p>This example manifest is equivalent to the manifest in
<a class="reference internal" href="#west-manifest-ex2-2"><span class="std std-ref">Example 2.2: Downstream with directory of manifest files</span></a>, with a sequence of explicitly named files.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># my-repo/west.yml:</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyr</span><span class="w"></span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/zephyrproject-rtos/zephyr</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">west.yml</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">import</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests/01-libraries.yml</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests/02-vendor-hals.yml</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests/03-applications.yml</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="example-4-2-import-order-illustration">
<span id="west-manifest-ex4-2"></span><h4>Example 4.2: Import order illustration<a class="headerlink" href="#example-4-2-import-order-illustration" title="Permalink to this headline">¶</a></h4>
<p>This more complicated example shows the order that west imports manifest files:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># my-repo/west.yml</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># ...</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-library</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-app</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zephyr</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">another-manifest-repo</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">import</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests/libraries.yml</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests/vendor-hals.yml</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">submanifests/applications.yml</span><span class="w"></span>
<span class="w">  </span><span class="nt">defaults</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">remote</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-remote</span><span class="w"></span>
</pre></div>
</div>
<p>For this example, west resolves imports in this order:</p>
<ol class="arabic simple">
<li><p>the listed files in <code class="file docutils literal notranslate"><span class="pre">my-repo/submanifests</span></code> are first, in the order
they occur (e.g. <code class="file docutils literal notranslate"><span class="pre">libraries.yml</span></code> comes before
<code class="file docutils literal notranslate"><span class="pre">applications.yml</span></code>, since this is a sequence of files), since the
<code class="docutils literal notranslate"><span class="pre">self:</span> <span class="pre">import:</span></code> is always imported first</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">my-repo/west.yml</span></code> is next (with projects <code class="docutils literal notranslate"><span class="pre">my-library</span></code> etc. as long
as they weren’t already defined somewhere in <code class="file docutils literal notranslate"><span class="pre">submanifests</span></code>)</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">zephyr/west.yml</span></code> is after that, since that’s the first <code class="docutils literal notranslate"><span class="pre">import</span></code> key
in the <code class="docutils literal notranslate"><span class="pre">projects</span></code> list in <code class="file docutils literal notranslate"><span class="pre">my-repo/west.yml</span></code></p></li>
<li><p>files in <code class="file docutils literal notranslate"><span class="pre">another-manifest-repo/submanifests</span></code> are last (sorted by file
name), since that’s the final project <code class="docutils literal notranslate"><span class="pre">import</span></code></p></li>
</ol>
</div>
</div>
<div class="section" id="manifest-import-details">
<span id="west-manifest-formal"></span><h3><a class="toc-backref" href="#id34">Manifest Import Details</a><a class="headerlink" href="#manifest-import-details" title="Permalink to this headline">¶</a></h3>
<p>This section describes how west resolves a manifest file that uses <code class="docutils literal notranslate"><span class="pre">import</span></code> a
bit more formally.</p>
<div class="section" id="overview">
<h4>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">import</span></code> key can appear in a west manifest’s <code class="docutils literal notranslate"><span class="pre">projects</span></code> and <code class="docutils literal notranslate"><span class="pre">self</span></code>
sections. The general case looks like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Top-level manifest file.</span><span class="w"></span>
<span class="nt">manifest</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">projects</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">import-1</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">import-2</span><span class="w"></span>
<span class="w">    </span><span class="c1"># ...</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span><span class="w"></span>
<span class="w">      </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">import-N</span><span class="w"></span>
<span class="w">  </span><span class="nt">self</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">self-import</span><span class="w"></span>
</pre></div>
</div>
<p>Import keys are optional. If any of <code class="docutils literal notranslate"><span class="pre">import-1,</span> <span class="pre">...,</span> <span class="pre">import-N</span></code> are missing,
west will not import additional manifest data from that project. If
<code class="docutils literal notranslate"><span class="pre">self-import</span></code> is missing, no additional files in the manifest repository
(beyond the top-level file) are imported.</p>
<p>The ultimate outcomes of resolving manifest imports are:</p>
<ul class="simple">
<li><p>a <code class="docutils literal notranslate"><span class="pre">projects</span></code> list, which is produced by combining the <code class="docutils literal notranslate"><span class="pre">projects</span></code> defined
in the top-level file with those defined in imported files</p></li>
<li><p>a set of extension commands, which are drawn from the the <code class="docutils literal notranslate"><span class="pre">west-commands</span></code>
keys in in the top-level file and any imported files</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> list, which is produced by combining the top-level and any
imported filters</p></li>
</ul>
<p>Importing is done in this order:</p>
<ol class="arabic simple">
<li><p>Manifests from <code class="docutils literal notranslate"><span class="pre">self-import</span></code> are imported first.</p></li>
<li><p>The top-level manifest file’s definitions are handled next.</p></li>
<li><p>Manifests from <code class="docutils literal notranslate"><span class="pre">import-1</span></code>, …, <code class="docutils literal notranslate"><span class="pre">import-N</span></code>, are imported in that order.</p></li>
</ol>
<p>When an individual <code class="docutils literal notranslate"><span class="pre">import</span></code> key refers to multiple manifest files, they are
processed in this order:</p>
<ul class="simple">
<li><p>If the value is a relative path naming a directory (or a map whose <code class="docutils literal notranslate"><span class="pre">file</span></code>
is a directory), the manifest files it contains are processed in
lexicographic order – i.e., sorted by file name.</p></li>
<li><p>If the value is a sequence, its elements are recursively imported in the
order they appear.</p></li>
</ul>
<p>This process recurses if necessary. E.g., if <code class="docutils literal notranslate"><span class="pre">import-1</span></code> produces a manifest
file that contains an <code class="docutils literal notranslate"><span class="pre">import</span></code> key, it is resolved recursively using the same
rules before its contents are processed further.</p>
</div>
<div class="section" id="id3">
<h4>Projects<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>This section describes how the final <code class="docutils literal notranslate"><span class="pre">projects</span></code> list is created.</p>
<p>Projects are identified by name. If the same name occurs in multiple manifests,
the first definition is used, and subsequent definitions are ignored. For
example, if <code class="docutils literal notranslate"><span class="pre">import-1</span></code> contains a project named <code class="docutils literal notranslate"><span class="pre">bar</span></code>, that is ignored,
because the top-level <code class="file docutils literal notranslate"><span class="pre">west.yml</span></code> has already defined a project by that
name.</p>
<p>The contents of files named by <code class="docutils literal notranslate"><span class="pre">import-1</span></code> through <code class="docutils literal notranslate"><span class="pre">import-N</span></code> are imported
from Git at the latest <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code> revisions in their projects. These
revisions can be updated to the values <code class="docutils literal notranslate"><span class="pre">rev-1</span></code> through <code class="docutils literal notranslate"><span class="pre">rev-N</span></code> by running
<code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>. If any <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code> reference is missing or out of date,
<code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> also fetches project data from the remote fetch URL and updates
the reference.</p>
<p>Also note that all imported manifests, from the root manifest to the repository
which defines a project <code class="docutils literal notranslate"><span class="pre">P</span></code>, must be up to date in order for west to update
<code class="docutils literal notranslate"><span class="pre">P</span></code> itself. For example, this means <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span> <span class="pre">P</span></code> would update
<code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code> in the <code class="docutils literal notranslate"><span class="pre">baz</span></code> project if <code class="file docutils literal notranslate"><span class="pre">baz/west.yml</span></code> defines <code class="docutils literal notranslate"><span class="pre">P</span></code>,
as well as updating the <code class="docutils literal notranslate"><span class="pre">manifest-rev</span></code> branch in the local git clone of
<code class="docutils literal notranslate"><span class="pre">P</span></code>. Confusingly, updating <code class="docutils literal notranslate"><span class="pre">baz</span></code> may result in the removal of <code class="docutils literal notranslate"><span class="pre">P</span></code>
from <code class="file docutils literal notranslate"><span class="pre">baz/west.yml</span></code>, which “should” cause <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span> <span class="pre">P</span></code> to fail with an
unrecognized project!</p>
<p>For this reason, it’s not possible to run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span> <span class="pre">P</span></code> if <code class="docutils literal notranslate"><span class="pre">P</span></code> is defined
in an imported manifest; you must update this project along with all the others
with a plain <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code>.</p>
<p>By default, west won’t fetch any project data over the network if a project’s
revision is a SHA or tag which is already available locally, so updating the
extra projects shouldn’t take too much time unless it’s really needed. See the
documentation for the <a class="reference internal" href="config.html#west-config-index"><span class="std std-ref">update.fetch</span></a> configuration
option for more information.</p>
</div>
<div class="section" id="extensions">
<h4>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h4>
<p>All extension commands defined using <code class="docutils literal notranslate"><span class="pre">west-commands</span></code> keys discovered while
handling imports are available in the resolved manifest.</p>
<p>If an imported manifest file has a <code class="docutils literal notranslate"><span class="pre">west-commands:</span></code> definition in its
<code class="docutils literal notranslate"><span class="pre">self:</span></code> section, the extension commands defined there are added to the set of
available extensions at the time the manifest is imported. They will thus take
precedence over any extension commands with the same names added later on.</p>
</div>
<div class="section" id="group-filters">
<h4>Group filters<a class="headerlink" href="#group-filters" title="Permalink to this headline">¶</a></h4>
<p>The resolved manifest has a <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> value which is the result of
concatenating the <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> values in the top-level manifest and any
imported manifests.</p>
<p>Manifest files which appear earlier in the import order have higher precedence
and are therefore concatenated later into the final <code class="docutils literal notranslate"><span class="pre">group-filter</span></code>.</p>
<p>In other words, let:</p>
<ul class="simple">
<li><p>the submanifest resolved from <code class="docutils literal notranslate"><span class="pre">self-import</span></code> have group filter <code class="docutils literal notranslate"><span class="pre">self-filter</span></code></p></li>
<li><p>the top-level manifest file have group filter <code class="docutils literal notranslate"><span class="pre">top-filter</span></code></p></li>
<li><p>the submanifests resolved from <code class="docutils literal notranslate"><span class="pre">import-1</span></code> through <code class="docutils literal notranslate"><span class="pre">import-N</span></code> have group
filters <code class="docutils literal notranslate"><span class="pre">filter-1</span></code> through <code class="docutils literal notranslate"><span class="pre">filter-N</span></code> respectively</p></li>
</ul>
<p>The final resolved <code class="docutils literal notranslate"><span class="pre">group-filter</span></code> value is then <code class="docutils literal notranslate"><span class="pre">filter1</span> <span class="pre">+</span> <span class="pre">filter-2</span> <span class="pre">+</span> <span class="pre">...</span> <span class="pre">+</span>
<span class="pre">filter-N</span> <span class="pre">+</span> <span class="pre">top-filter</span> <span class="pre">+</span> <span class="pre">self-filter</span></code>, where <code class="docutils literal notranslate"><span class="pre">+</span></code> here refers to list
concatenation.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The order that filters appear in the above list matters.</p>
<p>The last filter element in the final concatenated list “wins” and determines
if the group is enabled or disabled.</p>
</div>
<p>For example, in <code class="docutils literal notranslate"><span class="pre">[-foo]</span> <span class="pre">+</span> <span class="pre">[+foo]</span></code>, group <code class="docutils literal notranslate"><span class="pre">foo</span></code> is <em>enabled</em>.
However, in <code class="docutils literal notranslate"><span class="pre">[+foo]</span> <span class="pre">+</span> <span class="pre">[-foo]</span></code>, group <code class="docutils literal notranslate"><span class="pre">foo</span></code> is <em>disabled</em>.</p>
<p>For simplicity, west and this documentation may elide concatenated group filter
elements which are redundant using these rules. For example, <code class="docutils literal notranslate"><span class="pre">[+foo]</span> <span class="pre">+</span>
<span class="pre">[-foo]</span></code> could be written more simply as <code class="docutils literal notranslate"><span class="pre">[-foo]</span></code>, for the reasons given
above. As another example, <code class="docutils literal notranslate"><span class="pre">[-foo]</span> <span class="pre">+</span> <span class="pre">[+foo]</span></code> could be written as the empty
list <code class="docutils literal notranslate"><span class="pre">[]</span></code>, since all groups are enabled by default.</p>
</div>
</div>
</div>
<div class="section" id="manifest-command">
<span id="west-manifest-cmd"></span><h2><a class="toc-backref" href="#id35">Manifest Command</a><a class="headerlink" href="#manifest-command" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">manifest</span></code> command can be used to manipulate manifest files.
It takes an action, and action-specific arguments.</p>
<p>The following sections describe each action and provides a basic signature for
simple uses. Run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">manifest</span> <span class="pre">--help</span></code> for full details on all options.</p>
<div class="section" id="resolving-manifests">
<span id="west-manifest-resolve"></span><h3><a class="toc-backref" href="#id36">Resolving Manifests</a><a class="headerlink" href="#resolving-manifests" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">--resolve</span></code> action outputs a single manifest file equivalent to your
current manifest and all its <a class="reference internal" href="#west-manifest-import"><span class="std std-ref">imported manifests</span></a>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>west manifest --resolve [-o outfile]
</pre></div>
</div>
<p>The main use for this action is to see the “final” manifest contents after
performing any <code class="docutils literal notranslate"><span class="pre">import</span></code>s.</p>
<p>To print detailed information about each imported manifest file and how
projects are handled during manifest resolution, set the maximum verbosity
level using <code class="docutils literal notranslate"><span class="pre">-v</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west -v manifest --resolve</span>
</pre></div>
</div>
</div>
<div class="section" id="freezing-manifests">
<h3><a class="toc-backref" href="#id37">Freezing Manifests</a><a class="headerlink" href="#freezing-manifests" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">--freeze</span></code> action outputs a frozen manifest:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>west manifest --freeze [-o outfile]
</pre></div>
</div>
<p>A “frozen” manifest is a manifest file where every project’s revision is a SHA.
You can use <code class="docutils literal notranslate"><span class="pre">--freeze</span></code> to produce a frozen manifest that’s equivalent to your
current manifest file. The <code class="docutils literal notranslate"><span class="pre">-o</span></code> option specifies an output file; if not
given, standard output is used.</p>
</div>
<div class="section" id="validating-manifests">
<h3><a class="toc-backref" href="#id38">Validating Manifests</a><a class="headerlink" href="#validating-manifests" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">--validate</span></code> action either succeeds if the current manifest file is valid,
or fails with an error:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>west manifest --validate
</pre></div>
</div>
<p>The error message can help diagnose errors.</p>
</div>
<div class="section" id="get-the-manifest-path">
<span id="west-manifest-path"></span><h3><a class="toc-backref" href="#id39">Get the manifest path</a><a class="headerlink" href="#get-the-manifest-path" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">--path</span></code> action prints the path to the top level manifest file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>west manifest --path
</pre></div>
</div>
<p>The output is something like <code class="docutils literal notranslate"><span class="pre">/path/to/workspace/west.yml</span></code>. The path format
depends on your operating system.</p>
</div>
</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>