<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Troubleshooting West &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Basics" href="basics.html" />
    <link rel="prev" title="West Release Notes" href="release-notes.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User and Developer Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../beyond-GSG.html">Beyond the Getting Started Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arch/index.html">Architecture-related Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/index.html">Documentation Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coccinelle.html">Coccinelle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code-relocation.html">Code And Data Relocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flash_debug/index.html">Flashing and Hardware Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug_tools/index.html">Debugging and Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../device_mgmt/index.html">Device Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dts/index.html">Devicetree Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_vars.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../emulator/index.html">Peripheral and Hardware Emulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules.html">Modules (External projects)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platformio/index.html">Using with PlatformIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../portability/index.html">OS Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../porting/index.html">Porting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/index.html">State Machine Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/index.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tfm/index.html">Trusted Firmware-M</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">West (Zephyr’s meta-tool)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install.html">Installing west</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes.html">West Release Notes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Troubleshooting West</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#west-update-fetching-failures"><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> fetching failures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#west-is-not-recognized-as-an-internal-or-external-command-operable-program-or-batch-file">“‘west’ is not recognized as an internal or external command, operable program or batch file.’</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-unexpected-keyword-argument-requires-workspace">“Error: unexpected keyword argument ‘requires_workspace’”</a></li>
<li class="toctree-l4"><a class="reference internal" href="#invalid-choice-build-or-flash-etc">“invalid choice: ‘build’” (or ‘flash’, etc.)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#invalid-choice-post-init">“invalid choice: ‘post-init’”</a></li>
<li class="toctree-l4"><a class="reference internal" href="#already-in-an-installation">“already in an installation”</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="built-in.html">Built-in commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="workspaces.html">Workspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="manifest.html">West Manifests</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="extensions.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-flash-debug.html">Building, Flashing and Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="sign.html">Signing Binaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="zephyr-cmds.html">Additional Zephyr extension commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="why.html">History and Motivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="moving-to-west.html">Moving to West</a></li>
<li class="toctree-l3"><a class="reference internal" href="without-west.html">Using Zephyr without west</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimizations/index.html">Optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zephyr_cmake_package.html">Zephyr CMake Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">User and Developer Guides</a> &raquo;</li>
  
     <li><a href="index.html">West (Zephyr’s meta-tool)</a> &raquo;</li>
  
  <li>Troubleshooting West</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/guides/west/troubleshooting.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="troubleshooting-west">
<span id="west-troubleshooting"></span><h1>Troubleshooting West<a class="headerlink" href="#troubleshooting-west" title="Permalink to this headline">¶</a></h1>
<p>This page covers common issues with west and how to solve them.</p>
<div class="section" id="west-update-fetching-failures">
<h2><code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> fetching failures<a class="headerlink" href="#west-update-fetching-failures" title="Permalink to this headline">¶</a></h2>
<p>One good way to troubleshoot fetching issues is to run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">update</span></code> in
verbose mode, like this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>west -v update
</pre></div>
</div>
<p>The output includes Git commands run by west and their outputs. Look for
something like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>=== updating your_project (path/to/your/project):
west.manifest: your_project: checking if cloned
[...other west.manifest logs...]
--- your_project: fetching, need revision SOME_SHA
west.manifest: running &#39;git fetch ... https://github.com/your-username/your_project ...&#39; in /some/directory
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> command example in the last line above is what needs to
succeed.</p>
<p>One strategy is to go to <code class="docutils literal notranslate"><span class="pre">/some/directory</span></code>, copy/paste and run the entire
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> command, then debug from there using the documentation for your
credential storage helper.</p>
<p>If you’re behind a corporate firewall and may have proxy or other issues,
<code class="docutils literal notranslate"><span class="pre">curl</span> <span class="pre">-v</span> <span class="pre">FETCH_URL</span></code> (for HTTPS URLs) or <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">-v</span> <span class="pre">FETCH_URL</span></code> (for SSH URLs)
may be helpful.</p>
<p>If you can get the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> command to run successfully without prompting
for a password when you run it directly, you will be able to run <code class="docutils literal notranslate"><span class="pre">west</span>
<span class="pre">update</span></code> without entering your password in that same shell.</p>
</div>
<div class="section" id="west-is-not-recognized-as-an-internal-or-external-command-operable-program-or-batch-file">
<h2>“‘west’ is not recognized as an internal or external command, operable program or batch file.’<a class="headerlink" href="#west-is-not-recognized-as-an-internal-or-external-command-operable-program-or-batch-file" title="Permalink to this headline">¶</a></h2>
<p>On Windows, this means that either west is not installed, or your <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code>
environment variable does not contain the directory where pip installed
<code class="file docutils literal notranslate"><span class="pre">west.exe</span></code>.</p>
<p>First, make sure you’ve installed west; see <a class="reference internal" href="install.html#west-install"><span class="std std-ref">Installing west</span></a>. Then try
running <code class="docutils literal notranslate"><span class="pre">west</span></code> from a new <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> window. If that still doesn’t work,
keep reading.</p>
<p>You need to find the directory containing <code class="file docutils literal notranslate"><span class="pre">west.exe</span></code>, then add it to your
<span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code>. (This <span class="target" id="index-2"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code> change should have been done for you when
you installed Python and pip, so ordinarily you should not need to follow these
steps.)</p>
<p>Run this command in <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">show</span> <span class="n">west</span>
</pre></div>
</div>
<p>Then:</p>
<ol class="arabic">
<li><p>Look for a line in the output that looks like <code class="docutils literal notranslate"><span class="pre">Location:</span>
<span class="pre">C:\foo\python\python38\lib\site-packages</span></code>. The exact location
will be different on your computer.</p></li>
<li><p>Look for a file named <code class="docutils literal notranslate"><span class="pre">west.exe</span></code> in the <code class="docutils literal notranslate"><span class="pre">scripts</span></code> directory
<code class="docutils literal notranslate"><span class="pre">C:\foo\python\python38\scripts</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Notice how <code class="docutils literal notranslate"><span class="pre">lib\site-packages</span></code> in the <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">show</span></code> output was changed
to <code class="docutils literal notranslate"><span class="pre">scripts</span></code>!</p>
</div>
</li>
<li><p>If you see <code class="docutils literal notranslate"><span class="pre">west.exe</span></code> in the <code class="docutils literal notranslate"><span class="pre">scripts</span></code> directory, add the full path to
<code class="docutils literal notranslate"><span class="pre">scripts</span></code> to your <span class="target" id="index-3"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code> using a command like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setx</span> <span class="n">PATH</span> <span class="s2">&quot;%PATH%;C:</span><span class="se">\f</span><span class="s2">oo\python\python38\scripts&quot;</span>
</pre></div>
</div>
<p><strong>Do not just copy/paste this command</strong>. The <code class="docutils literal notranslate"><span class="pre">scripts</span></code> directory location
will be different on your system.</p>
</li>
<li><p>Close your <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code> window and open a new one. You should be able to run
<code class="docutils literal notranslate"><span class="pre">west</span></code>.</p></li>
</ol>
</div>
<div class="section" id="error-unexpected-keyword-argument-requires-workspace">
<h2>“Error: unexpected keyword argument ‘requires_workspace’”<a class="headerlink" href="#error-unexpected-keyword-argument-requires-workspace" title="Permalink to this headline">¶</a></h2>
<p>This error occurs on some Linux distributions after upgrading to west 0.7.0 or
later from 0.6.x. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ west update
[... stack trace ...]
TypeError: __init__() got an unexpected keyword argument &#39;requires_workspace&#39;
</pre></div>
</div>
<p>This appears to be a problem with the distribution’s pip; see <a class="reference external" href="https://github.com/zephyrproject-rtos/west/issues/373#issuecomment-583489272">this comment in
west issue 373</a> for details. Some versions of <strong>Ubuntu</strong> and <strong>Linux Mint</strong> are known to
have this problem. Some users report issues on Fedora as well.</p>
<p>Neither macOS nor Windows users have reported this issue. There have been no
reports of this issue on other Linux distributions, like Arch Linux, either.</p>
<p><strong>Workaround 1</strong>: remove the old version, then upgrade:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ pip3 show west | grep Location: | cut -f 2 -d &#39; &#39;
/home/foo/.local/lib/python3.6/site-packages
$ rm -r /home/foo/.local/lib/python3.6/site-packages/west
$ pip3 install --user west==0.7.0
</pre></div>
</div>
<p><strong>Workaround 2</strong>: install west in a Python virtual environment</p>
<p>One option is to use the <a class="reference external" href="https://docs.python.org/3/library/venv.html">venv module</a> that’s part of the Python 3 standard
library. Some distributions remove this module from their base Python 3
packages, so you may need to do some additional work to get it installed on
your system.</p>
</div>
<div class="section" id="invalid-choice-build-or-flash-etc">
<h2>“invalid choice: ‘build’” (or ‘flash’, etc.)<a class="headerlink" href="#invalid-choice-build-or-flash-etc" title="Permalink to this headline">¶</a></h2>
<p>If you see an unexpected error like this when trying to run a Zephyr extension
command (like <a class="reference internal" href="build-flash-debug.html#west-flashing"><span class="std std-ref">west flash</span></a>, <a class="reference internal" href="build-flash-debug.html#west-building"><span class="std std-ref">west build</span></a>, etc.):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ west build [...]
west: error: argument &lt;command&gt;: invalid choice: &#39;build&#39; (choose from &#39;init&#39;, [...])

$ west flash [...]
west: error: argument &lt;command&gt;: invalid choice: &#39;flash&#39; (choose from &#39;init&#39;, [...])
</pre></div>
</div>
<p>The most likely cause is that you’re running the command outside of a
<a class="reference internal" href="basics.html#west-workspace"><span class="std std-ref">west workspace</span></a>. West needs to know where your workspace
is to find <a class="reference internal" href="extensions.html#west-extensions"><span class="std std-ref">Extensions</span></a>.</p>
<p>To fix this, you have two choices:</p>
<ol class="arabic">
<li><p>Run the command from inside a workspace (e.g. the <code class="file docutils literal notranslate"><span class="pre">zephyrproject</span></code>
directory you created when you <a class="reference internal" href="../../getting_started/index.html#getting-started"><span class="std std-ref">got started</span></a>).</p>
<p>For example, create your build directory inside the workspace, or run <code class="docutils literal notranslate"><span class="pre">west</span>
<span class="pre">flash</span> <span class="pre">--build-dir</span> <span class="pre">YOUR_BUILD_DIR</span></code> from inside the workspace.</p>
</li>
<li><p>Set the <span class="target" id="index-4"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ZEPHYR_BASE</span></code> <a class="reference internal" href="../env_vars.html#env-vars"><span class="std std-ref">environment variable</span></a> and re-run
the west extension command. If set, west will use <span class="target" id="index-5"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ZEPHYR_BASE</span></code> to
find your workspace.</p></li>
</ol>
<p>If you’re unsure whether a command is built-in or an extension, run <code class="docutils literal notranslate"><span class="pre">west</span>
<span class="pre">help</span></code> from inside your workspace. The output prints extension commands
separately, and looks like this for mainline Zephyr:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ west help

built-in commands for managing git repositories:
  init:                 create a west workspace
  [...]

other built-in commands:
  help:                 get help for west or a command
  [...]

extension commands from project manifest (path: zephyr):
  build:                compile a Zephyr application
  flash:                flash and run a binary on a board
  [...]
</pre></div>
</div>
</div>
<div class="section" id="invalid-choice-post-init">
<h2>“invalid choice: ‘post-init’”<a class="headerlink" href="#invalid-choice-post-init" title="Permalink to this headline">¶</a></h2>
<p>If you see this error when running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">init</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>west: error: argument &lt;command&gt;: invalid choice: &#39;post-init&#39;
(choose from &#39;init&#39;, &#39;update&#39;, &#39;list&#39;, &#39;manifest&#39;, &#39;diff&#39;,
&#39;status&#39;, &#39;forall&#39;, &#39;config&#39;, &#39;selfupdate&#39;, &#39;help&#39;)
</pre></div>
</div>
<p>Then you have an old version of west installed, and are trying to use it in a
workspace that requires a more recent version.</p>
<p>The easiest way to resolve this issue is to upgrade west and retry as follows:</p>
<ol class="arabic simple">
<li><p>Install the latest west with the <code class="docutils literal notranslate"><span class="pre">-U</span></code> option for <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span></code> as shown
in <a class="reference internal" href="install.html#west-install"><span class="std std-ref">Installing west</span></a>.</p></li>
<li><p>Back up any contents of <code class="file docutils literal notranslate"><span class="pre">zephyrproject/.west/config</span></code> that you want to
save. (If you don’t have any configuration options set, it’s safe to skip
this step.)</p></li>
<li><p>Completely remove the <code class="file docutils literal notranslate"><span class="pre">zephyrproject/.west</span></code> directory (if you don’t,
you will get the “already in a workspace” error message discussed next).</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">init</span></code> again.</p></li>
</ol>
</div>
<div class="section" id="already-in-an-installation">
<h2>“already in an installation”<a class="headerlink" href="#already-in-an-installation" title="Permalink to this headline">¶</a></h2>
<p>You may see this error when running <code class="docutils literal notranslate"><span class="pre">west</span> <span class="pre">init</span></code> with west 0.6:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>FATAL ERROR: already in an installation (&lt;some directory&gt;), aborting
</pre></div>
</div>
<p>If this is unexpected and you’re really trying to create a new west workspace,
then it’s likely that west is using the <span class="target" id="index-6"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ZEPHYR_BASE</span></code> <a class="reference internal" href="../env_vars.html#env-vars"><span class="std std-ref">environment
variable</span></a> to locate a workspace elsewhere on your system.</p>
<p>This is intentional; it allows you to put your Zephyr applications in
any directory and still use west to build, flash, and debug them, for example.</p>
<p>To resolve this issue, unset <span class="target" id="index-7"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ZEPHYR_BASE</span></code> and try again.</p>
</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>