<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.2" xml:lang="en-US">
  <compounddef id="timer_2timer__api_2src_2main_8c" kind="file" language="C++">
    <compoundname>main.c</compoundname>
    <includes refid="stdlib_8h" local="no">stdlib.h</includes>
    <includes refid="ztest_8h" local="no">ztest.h</includes>
    <includes refid="include_2zephyr_2types_8h" local="no">zephyr/types.h</includes>
    <incdepgraph>
      <node id="19">
        <label>app_memory/app_memdomain.h</label>
        <link refid="app__memdomain_8h"/>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
      </node>
      <node id="79">
        <label>app_memory/mem_domain.h</label>
        <link refid="mem__domain_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
      </node>
      <node id="72">
        <label>arch/arch_inlines.h</label>
        <link refid="arch__inlines_8h"/>
      </node>
      <node id="67">
        <label>arch/cpu.h</label>
        <link refid="include_2arch_2cpu_8h"/>
        <childnode refid="68" relation="include">
        </childnode>
      </node>
      <node id="60">
        <label>arch/structs.h</label>
        <link refid="structs_8h"/>
      </node>
      <node id="66">
        <label>arch/syscall.h</label>
        <link refid="arch_2syscall_8h"/>
      </node>
      <node id="31">
        <label>devicetree.h</label>
        <link refid="devicetree_8h"/>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
      </node>
      <node id="35">
        <label>devicetree/clocks.h</label>
        <link refid="clocks_8h"/>
      </node>
      <node id="38">
        <label>devicetree/dma.h</label>
        <link refid="devicetree_2dma_8h"/>
      </node>
      <node id="40">
        <label>devicetree/fixed-partitions.h</label>
        <link refid="fixed-partitions_8h"/>
      </node>
      <node id="36">
        <label>devicetree/gpio.h</label>
        <link refid="devicetree_2gpio_8h"/>
      </node>
      <node id="34">
        <label>devicetree/io-channels.h</label>
        <link refid="io-channels_8h"/>
      </node>
      <node id="42">
        <label>devicetree/ordinals.h</label>
        <link refid="ordinals_8h"/>
      </node>
      <node id="43">
        <label>devicetree/pinctrl.h</label>
        <link refid="devicetree_2pinctrl_8h"/>
      </node>
      <node id="39">
        <label>devicetree/pwms.h</label>
        <link refid="pwms_8h"/>
      </node>
      <node id="37">
        <label>devicetree/spi.h</label>
        <link refid="devicetree_2spi_8h"/>
      </node>
      <node id="41">
        <label>devicetree/zephyr.h</label>
        <link refid="devicetree_2zephyr_8h"/>
      </node>
      <node id="76">
        <label>fatal.h</label>
        <link refid="fatal_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="46">
        <label>init.h</label>
        <link refid="init_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="77">
        <label>irq.h</label>
        <link refid="irq_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="70">
        <label>irq_offload.h</label>
        <link refid="irq__offload_8h"/>
      </node>
      <node id="47">
        <label>kernel.h</label>
        <link refid="include_2kernel_8h"/>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
      </node>
      <node id="62">
        <label>kernel/mempool_heap.h</label>
        <link refid="mempool__heap_8h"/>
      </node>
      <node id="52">
        <label>kernel/sched_priq.h</label>
        <link refid="sched__priq_8h"/>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
      </node>
      <node id="61">
        <label>kernel/stats.h</label>
        <link refid="kernel_2stats_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="80">
        <label>kernel/thread.h</label>
        <link refid="kernel_2thread_8h"/>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="78">
        <label>kernel/thread_stack.h</label>
        <link refid="kernel_2thread__stack_8h"/>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="48">
        <label>kernel_includes.h</label>
        <link refid="kernel__includes_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
      </node>
      <node id="58">
        <label>kernel_structs.h</label>
        <link refid="kernel__structs_8h"/>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="63">
        <label>kernel_version.h</label>
        <link refid="kernel__version_8h"/>
      </node>
      <node id="30">
        <label>linker/devicetree_reserved.h</label>
        <link refid="devicetree__reserved_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
      </node>
      <node id="20">
        <label>linker/linker-defs.h</label>
        <link refid="linker-defs_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
      </node>
      <node id="23">
        <label>linker/section_tags.h</label>
        <link refid="section__tags_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="22">
        <label>linker/sections.h</label>
        <link refid="sections_8h"/>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="75">
        <label>spinlock.h</label>
        <link refid="spinlock_8h"/>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
      </node>
      <node id="51">
        <label>sys/__assert.h</label>
        <link refid="____assert_8h_source"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="68">
        <label>sys/arch_interface.h</label>
        <link refid="arch__interface_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
      </node>
      <node id="49">
        <label>sys/atomic.h</label>
        <link refid="atomic_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
      </node>
      <node id="50">
        <label>sys/atomic_builtin.h</label>
        <link refid="atomic__builtin_8h"/>
      </node>
      <node id="44">
        <label>sys/dlist.h</label>
        <link refid="dlist_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="84">
        <label>sys/errno_private.h</label>
        <link refid="errno__private_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="85" relation="include">
        </childnode>
      </node>
      <node id="81">
        <label>sys/kobject.h</label>
        <link refid="include_2sys_2kobject_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
      </node>
      <node id="56">
        <label>list_gen.h</label>
        <link refid="list__gen_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>sys/printk.h</label>
        <link refid="printk_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="53">
        <label>sys/rb.h</label>
        <link refid="rb_8h"/>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="57">
        <label>sys/sflist.h</label>
        <link refid="sflist_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="55">
        <label>sys/slist.h</label>
        <link refid="slist_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="59">
        <label>sys/sys_heap.h</label>
        <link refid="sys__heap_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="74">
        <label>sys/time_units.h</label>
        <link refid="time__units_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>sys/util.h</label>
        <link refid="util_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="26">
        <label>sys/util_internal.h</label>
        <link refid="util__internal_8h"/>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="27">
        <label>util_loops.h</label>
        <link refid="util__loops_8h"/>
      </node>
      <node id="25">
        <label>sys/util_macro.h</label>
        <link refid="util__macro_8h"/>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="73">
        <label>sys_clock.h</label>
        <link refid="include_2sys__clock_8h"/>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
      </node>
      <node id="64">
        <label>syscall.h</label>
        <link refid="syscall_8h"/>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="71">
        <label>timing/types.h</label>
        <link refid="include_2timing_2types_8h"/>
      </node>
      <node id="7">
        <label>toolchain.h</label>
        <link refid="toolchain_8h"/>
      </node>
      <node id="21">
        <label>toolchain/common.h</label>
        <link refid="common_8h"/>
      </node>
      <node id="87">
        <label>tracing/tracing.h</label>
        <link refid="tracing_2tracing_8h"/>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
      </node>
      <node id="86">
        <label>tracing/tracing_macros.h</label>
        <link refid="tracing__macros_8h"/>
      </node>
      <node id="88">
        <label>tracking.h</label>
        <link refid="tracking_8h"/>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
      </node>
      <node id="28">
        <label>zephyr/types.h</label>
        <link refid="include_2zephyr_2types_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="83">
        <label>errno.h</label>
        <link refid="errno_8h"/>
        <childnode refid="84" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>inttypes.h</label>
        <link refid="inttypes_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>limits.h</label>
        <link refid="limits_8h"/>
      </node>
      <node id="15">
        <label>stdbool.h</label>
        <link refid="stdbool_8h"/>
      </node>
      <node id="10">
        <label>stdint.h</label>
        <link refid="stdint_8h"/>
      </node>
      <node id="13">
        <label>stdio.h</label>
        <link refid="stdio_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>stdlib.h</label>
        <link refid="stdlib_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>string.h</label>
        <link refid="string_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="29">
        <label>offsets.h</label>
        <link refid="offsets_8h"/>
      </node>
      <node id="65">
        <label>syscall_list.h</label>
        <link refid="syscall__list_8h"/>
      </node>
      <node id="89">
        <label>syscalls/kernel.h</label>
        <link refid="subsys_2testsuite_2ztest_2include_2syscalls_2kernel_8h"/>
      </node>
      <node id="82">
        <label>syscalls/kobject.h</label>
        <link refid="subsys_2testsuite_2ztest_2include_2syscalls_2kobject_8h"/>
      </node>
      <node id="5">
        <label>ztest.h</label>
        <link refid="ztest_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
      </node>
      <node id="12">
        <label>ztest_assert.h</label>
        <link refid="ztest__assert_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="16">
        <label>ztest_mock.h</label>
        <link refid="ztest__mock_8h"/>
      </node>
      <node id="17">
        <label>ztest_test.h</label>
        <link refid="ztest__test_8h"/>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>ztest_test_deprecated.h</label>
        <link refid="ztest__test__deprecated_8h"/>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>tests/kernel/timer/timer_api/src/main.c</label>
        <link refid="timer_2timer__api_2src_2main_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="54">
        <label>alloca.h</label>
      </node>
      <node id="69">
        <label>arch/cpu.h</label>
      </node>
      <node id="33">
        <label>devicetree_fixups.h</label>
      </node>
      <node id="32">
        <label>devicetree_unfixed.h</label>
      </node>
      <node id="45">
        <label>kernel.h</label>
      </node>
      <node id="8">
        <label>stdarg.h</label>
      </node>
      <node id="3">
        <label>stddef.h</label>
      </node>
      <node id="85">
        <label>syscalls/errno_private.h</label>
      </node>
      <node id="90">
        <label>syscalls/ztest_test.h</label>
      </node>
      <node id="91">
        <label>tc_util.h</label>
      </node>
      <node id="11">
        <label>zephyr.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="structtimer__data" prot="public">timer_data</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" prot="public" static="no">
        <name>DURATION</name>
        <initializer>100</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="17" column="9" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="17" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" prot="public" static="no">
        <name>PERIOD</name>
        <initializer>50</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="18" column="9" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="18" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" prot="public" static="no">
        <name>EXPIRE_TIMES</name>
        <initializer>4</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="19" column="9" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1af62086742940818060c4023ea63ce897" prot="public" static="no">
        <name>WITHIN_ERROR</name>
        <param><defname>var</defname></param>
        <param><defname>target</defname></param>
        <param><defname>epsilon</defname></param>
        <initializer>(<ref refid="stdlib_8h_1ae0743c61576232ed6a443e6269af2b84" kindref="member">abs</ref>((<ref refid="sched_2preempt_2src_2main_8c_1ae8aa5cb4faa95420993aad5d4f2e839f" kindref="member">target</ref>) - (var)) &lt;= (epsilon))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="20" column="9" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1a6b5133be08b54d547867bb8fca07ae31" prot="public" static="no">
        <name>INEXACT_MS_CONVERT</name>
        <initializer>((<ref refid="ztest_8h_1a5b30ac02803b92fea0759730f33b9e35" kindref="member">CONFIG_SYS_CLOCK_TICKS_PER_SEC</ref> % <ref refid="include_2sys__clock_8h_1a222f9dff749accf8de62bc4b52c7bdcd" kindref="member">MSEC_PER_SEC</ref>) != 0)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="29" column="9" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="29" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1a86eb365326b9f93660072da84ccce83a" prot="public" static="no">
        <name>BUSY_TICK_SLEW_PPM</name>
        <initializer>0U</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="38" column="9" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="38" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1aea2072dedc80bb74a91bd4e8c9aaba23" prot="public" static="no">
        <name>PPM_DIVISOR</name>
        <initializer>1000000U</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="40" column="10" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="40" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1ae8205be8242f8a2ddaa6a0347a56fae1" prot="public" static="no">
        <name>BUSY_SLEW_THRESHOLD_TICKS</name>
        <param><defname>_us</defname></param>
        <initializer>	<ref refid="time__units_8h_1ab41e14896548ab9987c6112200bdbe53" kindref="member">k_us_to_ticks_ceil32</ref>((_us) * <ref refid="timer_2timer__api_2src_2main_8c_1a86eb365326b9f93660072da84ccce83a" kindref="member">BUSY_TICK_SLEW_PPM</ref>		\
			     / <ref refid="timer_2timer__api_2src_2main_8c_1aea2072dedc80bb74a91bd4e8c9aaba23" kindref="member">PPM_DIVISOR</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="48" column="9" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="48" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" prot="public" static="no">
        <name>TIMER_ASSERT</name>
        <param><defname>exp</defname></param>
        <param><defname>tmr</defname></param>
        <initializer>	do {					 \
		if (!(exp)) {			 \
			<ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(tmr);	 \
			<ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(exp, NULL); \
		}				 \
	} while (0)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="72" column="9" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="72" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer duration_timer</definition>
        <argsstring></argsstring>
        <name>duration_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="58" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="58" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer period0_timer</definition>
        <argsstring></argsstring>
        <name>period0_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="59" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="59" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1afaa4c7288a3f3d1fba79c6f4fb53b13c" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer expire_timer</definition>
        <argsstring></argsstring>
        <name>expire_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="60" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="60" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1a56b387ef177ce009c9d61c4e91cb6065" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer sync_timer</definition>
        <argsstring></argsstring>
        <name>sync_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="61" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="61" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer periodicity_timer</definition>
        <argsstring></argsstring>
        <name>periodicity_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="62" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="62" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer status_timer</definition>
        <argsstring></argsstring>
        <name>status_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="63" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="63" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer status_anytime_timer</definition>
        <argsstring></argsstring>
        <name>status_anytime_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="64" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="64" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer status_sync_timer</definition>
        <argsstring></argsstring>
        <name>status_sync_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="65" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="65" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" prot="public" static="yes" mutable="no">
        <type>struct k_timer</type>
        <definition>struct k_timer remain_timer</definition>
        <argsstring></argsstring>
        <name>remain_timer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="66" column="21" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="66" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1ab3181a6cac47dfc801fd7e5b69b9bdd2" prot="public" static="yes" mutable="no">
        <type><ref refid="group__ztest__test_1gac3de5965061b1164a8033712c9094e23" kindref="member">ZTEST_BMEM</ref> struct <ref refid="structtimer__data" kindref="compound">timer_data</ref></type>
        <definition>ZTEST_BMEM struct timer_data tdata</definition>
        <argsstring></argsstring>
        <name>tdata</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="68" column="35" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="68" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" prot="public" static="yes" mutable="no">
        <type><ref refid="group__ztest__test_1ga2c7d0aa85e7f320d582395c5ded90133" kindref="member">ZTEST_DMEM</ref> struct k_timer *</type>
        <definition>ZTEST_DMEM struct k_timer* user_data_timer[5]</definition>
        <argsstring>[5]</argsstring>
        <name>user_data_timer</name>
        <initializer>= {
	&amp;timer0, &amp;timer1, &amp;timer2, &amp;timer3, &amp;timer4
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="586" column="32" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="586" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1a862de962130decf51321624c10294338" prot="public" static="yes" mutable="no">
        <type>const <ref refid="stdint_8h_1a0bd5dec00e345e69027427f8621d6a6c" kindref="member">intptr_t</ref></type>
        <definition>const intptr_t user_data[5]</definition>
        <argsstring>[5]</argsstring>
        <name>user_data</name>
        <initializer>= { 0x1337, 0xbabe, 0xd00d, 0xdeaf, 0xfade }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="590" column="23" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="590" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="timer_2timer__api_2src_2main_8c_1aa29bfc029aacd80cd9933622817193b1" prot="public" static="yes" mutable="no">
        <type><ref refid="group__ztest__test_1gac3de5965061b1164a8033712c9094e23" kindref="member">ZTEST_BMEM</ref> int</type>
        <definition>ZTEST_BMEM int user_data_correct[5]</definition>
        <argsstring>[5]</argsstring>
        <name>user_data_correct</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="592" column="23" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="592" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a43eb2123f52c8b76a63dabeb71ec213d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void duration_expire</definition>
        <argsstring>(struct k_timer *timer)</argsstring>
        <name>duration_expire</name>
        <param>
          <type>struct k_timer *</type>
          <declname>timer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: expire function</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="115" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="115" bodyend="130" declfile="tests/kernel/timer/timer_api/src/main.c" declline="52" declcolumn="13"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void duration_stop</definition>
        <argsstring>(struct k_timer *timer)</argsstring>
        <name>duration_stop</name>
        <param>
          <type>struct k_timer *</type>
          <declname>timer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="132" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="132" bodyend="135" declfile="tests/kernel/timer/timer_api/src/main.c" declline="53" declcolumn="13"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a25cf1679354de1287a59fc14efdbe2ae" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>K_TIMER_DEFINE</definition>
        <argsstring>(ktimer, duration_expire, duration_stop)</argsstring>
        <name>K_TIMER_DEFINE</name>
        <param>
          <type>ktimer</type>
        </param>
        <param>
          <type><ref refid="timer_2timer__api_2src_2main_8c_1a43eb2123f52c8b76a63dabeb71ec213d" kindref="member">duration_expire</ref></type>
        </param>
        <param>
          <type><ref refid="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" kindref="member">duration_stop</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>TESTPOINT: init timer via K_TIMER_DEFINE </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="56" column="1" declfile="tests/kernel/timer/timer_api/src/main.c" declline="56" declcolumn="1"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1af2e8a67ef3d8fcb46042effc3a3688fe" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_time_conversions</definition>
        <argsstring>(void)</argsstring>
        <name>test_time_conversions</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="70" column="13" bodyfile="tests/kernel/timer/timer_api/src/timer_convert.c" bodystart="195" bodyend="212" declfile="tests/kernel/timer/timer_api/src/main.c" declline="70" declcolumn="13"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void init_timer_data</definition>
        <argsstring>(void)</argsstring>
        <name>init_timer_data</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="80" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="80" bodyend="90"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a88042b664617804202da5e67e382e49d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="stdbool_8h_1abb452686968e48b67397da5f97445f5b" kindref="member">bool</ref></type>
        <definition>static bool interval_check</definition>
        <argsstring>(int64_t interval, int64_t desired)</argsstring>
        <name>interval_check</name>
        <param>
          <type><ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref></type>
          <declname>interval</declname>
        </param>
        <param>
          <type><ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref></type>
          <declname>desired</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="92" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="92" bodyend="112"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a913141d80730d97c0f0bfd240e4380e2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void period0_expire</definition>
        <argsstring>(struct k_timer *timer)</argsstring>
        <name>period0_expire</name>
        <param>
          <type>struct k_timer *</type>
          <declname>timer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="137" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="137" bodyend="140"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a59237f3212fb327cb55f2b53a3999243" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void status_expire</definition>
        <argsstring>(struct k_timer *timer)</argsstring>
        <name>status_expire</name>
        <param>
          <type>struct k_timer *</type>
          <declname>timer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: status get upon timer expired</para>
<para>TESTPOINT: remaining get upon timer expired</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="142" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="142" bodyend="152"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void busy_wait_ms</definition>
        <argsstring>(int32_t ms)</argsstring>
        <name>busy_wait_ms</name>
        <param>
          <type><ref refid="stdint_8h_1a0c18914b3041c2f583aba76f418399c2" kindref="member">int32_t</ref></type>
          <declname>ms</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="154" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="154" bodyend="157"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a868e7e809b9528db0248f399ef6ae280" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void status_stop</definition>
        <argsstring>(struct k_timer *timer)</argsstring>
        <name>status_stop</name>
        <param>
          <type>struct k_timer *</type>
          <declname>timer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: remaining get upon timer stopped</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="159" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="159" bodyend="163"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1gaf7cea6ba08cc085dfe78f6f051ba32aa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_duration_period</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_duration_period</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test duration and period of Timer. </para>
        </briefdescription>
        <detaileddescription>
<para>Validates initial duration and period of timer.</para>
<para>It initializes the timer with <ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, then starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> with specific initial duration and period. Stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> and checks for proper completion of duration and period.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>, <ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get()</ref>, <ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: init timer via k_timer_init</para>
<para>TESTPOINT: check expire and stop times</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="188" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="188" bodyend="202"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga81b2ddaaa7dc2df0502a7dc5da38a81b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_restart</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_restart</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test restart the timer. </para>
        </briefdescription>
        <detaileddescription>
<para>Validates initial duration and period of timer. Start the timer with specific duration and period. Then starts the timer again, and check the status of timer.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>, <ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get()</ref>, <ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: restart the timer</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="218" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="218" bodyend="234"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga43e8aa930c3dc637f9d4d6524b4b521c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_period_0</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_period_0</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test Timer with zero period value. </para>
        </briefdescription>
        <detaileddescription>
<para>Validates initial timer duration, keeping timer period to zero. Basically, acting as one-shot timer. It initializes the timer with <ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, then starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> with specific initial duration and period as zero. Stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> and checks for proper completion.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>, <ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get()</ref>, <ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: set period 0</para>
<para>TESTPOINT: ensure it is one-shot timer</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="252" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="252" bodyend="272"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga6397043572ff0582b5f30c34c95cc0ed" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_period_k_forever</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_period_k_forever</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test Timer with K_FOREVER period value. </para>
        </briefdescription>
        <detaileddescription>
<para>Validates initial timer duration, keeping timer period to K_FOREVER. Basically, acting as one-shot timer. It initializes the timer with <ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, then starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> with specific initial duration and period as zero. Stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> and checks for proper completion.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>, <ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get()</ref>, <ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: set period 0</para>
<para>TESTPOINT: ensure it is one-shot timer</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="289" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="289" bodyend="311"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga6537e057cfbdec8841182ef73d536fae" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_expirefn_null</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_expirefn_null</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test Timer without any timer expiry callback function. </para>
        </briefdescription>
        <detaileddescription>
<para>Validates timer without any expiry_fn(set to NULL). expiry_fn() is a function that is invoked each time the timer expires.</para>
<para>It initializes the timer with <ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, then starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>. Stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> and checks for expire_cnt to zero, as expiry_fn was not defined at all.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>, <ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get()</ref>, <ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: expire function NULL</para>
<para>TESTPOINT: expire handler is not invoked</para>
<para>TESTPOINT: stop handler is invoked</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="328" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="328" bodyend="343"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a7a080a78abe0e5a804e9e4fed407673e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void tick_sync</definition>
        <argsstring>(void)</argsstring>
        <name>tick_sync</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="348" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="348" bodyend="353"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1gac9e54492a90d9dac6034f7c054deba9a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_periodicity</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_periodicity</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test to check timer periodicity. </para>
        </briefdescription>
        <detaileddescription>
<para>Timer test to check for the predictability with which the timer expires depending on the period configured.</para>
<para>It initializes the timer with <ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, then starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> with specific period. It resets the timer’s status to zero with k_timer_status_sync and identifies the delta between each timer expiry to check for the timer expiration period correctness. Finally, stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>, <ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get()</ref>, <ref refid="group__clock__apis_1gad748b2fe83b36884dc087b4af367de80" kindref="member">k_uptime_delta()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: set duration 0</para>
<para>TESTPOINT: expired times returned by status sync</para>
<para>TESTPOINT: check if timer fired within 1ms of the expected period (firing time).</para>
<para>Please note, that expected firing time is not the one requested, as the kernel uses the ticks to manage time. The actual perioid will be equal to [tick time] multiplied by k_ms_to_ticks_ceil32(PERIOD).</para>
<para>In the case of inexact conversion the delta will occasionally be one less than the expected number.</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="372" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="372" bodyend="423"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga53039f9a0d03980e0a3c69f0e59a42bc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_status_get</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_status_get</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test Timer status and time remaining before next expiry. </para>
        </briefdescription>
        <detaileddescription>
<para>Timer test to validate timer status and next trigger expiry time</para>
<para>It initializes the timer with <ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, then starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> and checks for timer current status with <ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get()</ref> and remaining time before next expiry using <ref refid="group__timer__apis_1ga6c6d8b0aa59bfa0f5924e95ccf756259" kindref="member">k_timer_remaining_get()</ref>. Stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get()</ref>, <ref refid="group__timer__apis_1ga6c6d8b0aa59bfa0f5924e95ccf756259" kindref="member">k_timer_remaining_get()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: status get upon timer starts</para>
<para>TESTPOINT: remaining get upon timer starts</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="440" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="440" bodyend="452"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga10b481da2bfd144c8902689d06f16434" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_status_get_anytime</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_status_get_anytime</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test Timer status randomly after certain duration. </para>
        </briefdescription>
        <detaileddescription>
<para>Validate timer status function using <ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get()</ref>.</para>
<para>It initializes the timer with <ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, then starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> with specific initial duration and period. Checks for timer status randomly after certain duration. Stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>, <ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: status get at any time</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="469" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="469" bodyend="485"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga19487c94e7c631027e3ba4ac02daa8f2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_status_sync</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_status_sync</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test Timer thread synchronization. </para>
        </briefdescription>
        <detaileddescription>
<para>Validate thread synchronization by blocking the calling thread until the timer expires.</para>
<para>It initializes the timer with <ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, then starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> and checks timer status with <ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync()</ref> for thread synchronization with expiry count. Stops the timer using k_timer_stop.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: check timer not expire</para>
<para>TESTPOINT: expired times returned by status sync</para>
<para>TESTPOINT: check timer not expire</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="503" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="503" bodyend="526"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga46fd6c4d7cd4638cf87e9ca10c524ada" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_k_define</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_k_define</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test statically defined Timer init. </para>
        </briefdescription>
        <detaileddescription>
<para>Validate statically defined timer init using K_TIMER_DEFINE</para>
<para>It creates prototype of K_TIMER_DEFINE to statically define timer init and starts the timer with <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> with specific initial duration and period. Stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> and checks for proper completion of duration and period.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="obj__tracking_2src_2main_8c_1ad8c286584d1c6cae5e5866e4af529b6b" kindref="member">K_TIMER_DEFINE()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> <ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get()</ref>, <ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>TESTPOINT: init timer via k_timer_init</para>
<para>TESTPOINT: check expire and stop times</para>
<para>TESTPOINT: init timer via k_timer_init</para>
<para>TESTPOINT: check expire and stop times</para>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="543" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="543" bodyend="576"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void user_data_timer_handler</definition>
        <argsstring>(struct k_timer *timer)</argsstring>
        <name>user_data_timer_handler</name>
        <param>
          <type>struct k_timer *</type>
          <declname>timer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="594" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="594" bodyend="609" declfile="tests/kernel/timer/timer_api/src/main.c" declline="578" declcolumn="13"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1ad4edb0e81684de7a5ebd1862f62bb4ab" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>K_TIMER_DEFINE</definition>
        <argsstring>(timer0, user_data_timer_handler, NULL)</argsstring>
        <name>K_TIMER_DEFINE</name>
        <param>
          <type>timer0</type>
        </param>
        <param>
          <type><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref></type>
        </param>
        <param>
          <type>NULL</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="580" column="1" declfile="tests/kernel/timer/timer_api/src/main.c" declline="580" declcolumn="1"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1aec0e72e04894f984510efda2942859e8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>K_TIMER_DEFINE</definition>
        <argsstring>(timer1, user_data_timer_handler, NULL)</argsstring>
        <name>K_TIMER_DEFINE</name>
        <param>
          <type>timer1</type>
        </param>
        <param>
          <type><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref></type>
        </param>
        <param>
          <type>NULL</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="581" column="1" declfile="tests/kernel/timer/timer_api/src/main.c" declline="581" declcolumn="1"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a795257ee6775469163c43e232023f3bc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>K_TIMER_DEFINE</definition>
        <argsstring>(timer2, user_data_timer_handler, NULL)</argsstring>
        <name>K_TIMER_DEFINE</name>
        <param>
          <type>timer2</type>
        </param>
        <param>
          <type><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref></type>
        </param>
        <param>
          <type>NULL</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="582" column="1" declfile="tests/kernel/timer/timer_api/src/main.c" declline="582" declcolumn="1"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a6c8d89bcc516180011953aeae2353745" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>K_TIMER_DEFINE</definition>
        <argsstring>(timer3, user_data_timer_handler, NULL)</argsstring>
        <name>K_TIMER_DEFINE</name>
        <param>
          <type>timer3</type>
        </param>
        <param>
          <type><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref></type>
        </param>
        <param>
          <type>NULL</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="583" column="1" declfile="tests/kernel/timer/timer_api/src/main.c" declline="583" declcolumn="1"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a521d9f76f8ab786cda7b17eff2ddc34b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>K_TIMER_DEFINE</definition>
        <argsstring>(timer4, user_data_timer_handler, NULL)</argsstring>
        <name>K_TIMER_DEFINE</name>
        <param>
          <type>timer4</type>
        </param>
        <param>
          <type><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref></type>
        </param>
        <param>
          <type>NULL</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="584" column="1" declfile="tests/kernel/timer/timer_api/src/main.c" declline="584" declcolumn="1"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga97a4618f1cbc7631944596f36b44daea" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_user_data</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_user_data</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test user-specific data associated with timer. </para>
        </briefdescription>
        <detaileddescription>
<para>Validate user-specific data associated with timer</para>
<para>It creates prototype of K_TIMER_DEFINE and starts the timer using <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref> with specific initial duration, alongwith associated user data using k_timer_user_data_set and <ref refid="group__timer__apis_1ga19a7d99a01a83828efd7f0d3bf2dd358" kindref="member">k_timer_user_data_get()</ref>. Stops the timer using <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> and checks for correct data retrieval after timer completion.</para>
<para><simplesect kind="see"><para><ref refid="obj__tracking_2src_2main_8c_1ad8c286584d1c6cae5e5866e4af529b6b" kindref="member">K_TIMER_DEFINE()</ref>, <ref refid="group__timer__apis_1gadba1884961e790dd9c5d567de91cc7e2" kindref="member">k_timer_user_data_set()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga19a7d99a01a83828efd7f0d3bf2dd358" kindref="member">k_timer_user_data_get()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="627" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="627" bodyend="663"/>
      </memberdef>
      <memberdef kind="function" id="group__kernel__timer__tests_1ga484adb1538ba16eb0f708e932167e75b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timer_remaining</definition>
        <argsstring>(void)</argsstring>
        <name>test_timer_remaining</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Test accuracy of <ref refid="group__timer__apis_1ga6c6d8b0aa59bfa0f5924e95ccf756259" kindref="member">k_timer_remaining_get()</ref> </para>
        </briefdescription>
        <detaileddescription>
<para>Validate countdown of time to expiration</para>
<para>Starts a timer, busy-waits for half the DURATION, then checks the remaining time to expiration and stops the timer. The remaining time should reflect the passage of at least the busy-wait interval.</para>
<para><simplesect kind="see"><para><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init()</ref>, <ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start()</ref>, <ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop()</ref>, <ref refid="group__timer__apis_1ga6c6d8b0aa59bfa0f5924e95ccf756259" kindref="member">k_timer_remaining_get()</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="680" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="680" bodyend="731"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a54d25484bec7db0fe64cbfc27be4ac0a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_timeout_abs</definition>
        <argsstring>(void)</argsstring>
        <name>test_timeout_abs</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="733" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="733" bodyend="784"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1aadee2feb34b08bf226d973bbe93ee8ac" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_sleep_abs</definition>
        <argsstring>(void)</argsstring>
        <name>test_sleep_abs</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="786" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="786" bodyend="812"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void timer_init</definition>
        <argsstring>(struct k_timer *timer, k_timer_expiry_t expiry_fn, k_timer_stop_t stop_fn)</argsstring>
        <name>timer_init</name>
        <param>
          <type>struct k_timer *</type>
          <declname>timer</declname>
        </param>
        <param>
          <type><ref refid="group__timer__apis_1ga37bcd42a457855a68b74570c979ababa" kindref="member">k_timer_expiry_t</ref></type>
          <declname>expiry_fn</declname>
        </param>
        <param>
          <type><ref refid="group__timer__apis_1ga16fbd44c08a26c4fdeb7f542f2a03a15" kindref="member">k_timer_stop_t</ref></type>
          <declname>stop_fn</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="814" column="13" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="814" bodyend="822"/>
      </memberdef>
      <memberdef kind="function" id="timer_2timer__api_2src_2main_8c_1a8a4533f287d99bb2d7c24c0e29c9a449" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void test_main</definition>
        <argsstring>(void)</argsstring>
        <name>test_main</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>test case main entry </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/kernel/timer/timer_api/src/main.c" line="824" column="6" bodyfile="tests/kernel/timer/timer_api/src/main.c" bodystart="824" bodyend="858"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2016<sp/>Intel<sp/>Corporation</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>Apache-2.0</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="stdlib_8h" kindref="compound">stdlib.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="ztest_8h" kindref="compound">ztest.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="include_2zephyr_2types_8h" kindref="compound">zephyr/types.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtimer__data" kindref="compound">timer_data</ref><sp/>{</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtimer__data_1a8918ae18941fa56e4fe65d3c2e905e4c" kindref="member">expire_cnt</ref>;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structtimer__data_1a84ba021aa9bb418b5dc5e49541b5228c" kindref="member">stop_cnt</ref>;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref><sp/><ref refid="structtimer__data_1aaf3548be9141d96de43410ef37eb933e" kindref="member">timestamp</ref>;</highlight></codeline>
<codeline lineno="15"><highlight class="normal">};</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DURATION<sp/>100</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PERIOD<sp/>50</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>EXPIRE_TIMES<sp/>4</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WITHIN_ERROR(var,<sp/>target,<sp/>epsilon)<sp/>(abs((target)<sp/>-<sp/>(var))<sp/>&lt;=<sp/>(epsilon))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>ms<sp/>can<sp/>be<sp/>converted<sp/>precisely<sp/>to<sp/>ticks<sp/>only<sp/>when<sp/>a<sp/>ms<sp/>is<sp/>exactly</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*<sp/>represented<sp/>by<sp/>an<sp/>integral<sp/>number<sp/>of<sp/>ticks.<sp/><sp/>If<sp/>the<sp/>conversion<sp/>is</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*<sp/>not<sp/>precise,<sp/>then<sp/>the<sp/>reverse<sp/>conversion<sp/>of<sp/>a<sp/>difference<sp/>in<sp/>ms<sp/>can</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*<sp/>end<sp/>up<sp/>being<sp/>off<sp/>by<sp/>a<sp/>tick<sp/>depending<sp/>on<sp/>the<sp/>relative<sp/>error<sp/>between</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*<sp/>the<sp/>first<sp/>and<sp/>second<sp/>ms<sp/>conversion,<sp/>and<sp/>we<sp/>need<sp/>to<sp/>adjust<sp/>the</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>*<sp/>tolerance<sp/>interval.</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>INEXACT_MS_CONVERT<sp/>((CONFIG_SYS_CLOCK_TICKS_PER_SEC<sp/>%<sp/>MSEC_PER_SEC)<sp/>!=<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>CONFIG_NRF_RTC_TIMER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>On<sp/>Nordic<sp/>SOCs<sp/>one<sp/>or<sp/>both<sp/>of<sp/>the<sp/>tick<sp/>and<sp/>busy-wait<sp/>clocks<sp/>may</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/>*<sp/>derive<sp/>from<sp/>sources<sp/>that<sp/>have<sp/>slews<sp/>that<sp/>sum<sp/>to<sp/>+/-<sp/>13%.</highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BUSY_TICK_SLEW_PPM<sp/>130000U</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>On<sp/>other<sp/>platforms<sp/>assume<sp/>the<sp/>clocks<sp/>are<sp/>perfectly<sp/>aligned.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BUSY_TICK_SLEW_PPM<sp/>0U</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PPM_DIVISOR<sp/>1000000U</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>tick<sp/>clock<sp/>is<sp/>faster<sp/>or<sp/>slower<sp/>than<sp/>the<sp/>busywait<sp/>clock<sp/>the</highlight></codeline>
<codeline lineno="43"><highlight class="comment"><sp/>*<sp/>remaining<sp/>time<sp/>for<sp/>a<sp/>partially<sp/>elapsed<sp/>timer<sp/>in<sp/>ticks<sp/>will<sp/>be</highlight></codeline>
<codeline lineno="44"><highlight class="comment"><sp/>*<sp/>larger<sp/>or<sp/>smaller<sp/>than<sp/>expected<sp/>by<sp/>a<sp/>value<sp/>that<sp/>depends<sp/>on<sp/>the<sp/>slew</highlight></codeline>
<codeline lineno="45"><highlight class="comment"><sp/>*<sp/>between<sp/>the<sp/>two<sp/>clocks.<sp/><sp/>Produce<sp/>a<sp/>maximum<sp/>error<sp/>for<sp/>a<sp/>given</highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/>*<sp/>duration<sp/>in<sp/>microseconds.</highlight></codeline>
<codeline lineno="47"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BUSY_SLEW_THRESHOLD_TICKS(_us)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="49"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k_us_to_ticks_ceil32((_us)<sp/>*<sp/>BUSY_TICK_SLEW_PPM<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="50"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>/<sp/>PPM_DIVISOR)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a43eb2123f52c8b76a63dabeb71ec213d" kindref="member">duration_expire</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" kindref="member">duration_stop</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><ref refid="obj__tracking_2src_2main_8c_1ad8c286584d1c6cae5e5866e4af529b6b" kindref="member">K_TIMER_DEFINE</ref>(ktimer,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a43eb2123f52c8b76a63dabeb71ec213d" kindref="member">duration_expire</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" kindref="member">duration_stop</ref>);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" kindref="member">duration_timer</ref>;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1afaa4c7288a3f3d1fba79c6f4fb53b13c" kindref="member">expire_timer</ref>;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a56b387ef177ce009c9d61c4e91cb6065" kindref="member">sync_timer</ref>;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" kindref="member">status_timer</ref>;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__ztest__test__deprecated_1gac3de5965061b1164a8033712c9094e23" kindref="member">ZTEST_BMEM</ref><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structtimer__data" kindref="compound">timer_data</ref><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1af2e8a67ef3d8fcb46042effc3a3688fe" kindref="member">test_time_conversions</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TIMER_ASSERT(exp,<sp/>tmr)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="73"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>do<sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="74"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(!(exp))<sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="75"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k_timer_stop(tmr);<sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="76"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>zassert_true(exp,<sp/>NULL);<sp/>\</highlight></codeline>
<codeline lineno="77"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="78"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/>while<sp/>(0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="81"><highlight class="normal">{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a" kindref="member">IS_ENABLED</ref>(CONFIG_MULTITHREADING))<sp/>{</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__thread__apis_1gaeac56bb072ce295b9fdc372ab8cee67e" kindref="member">k_usleep</ref>(1);<sp/></highlight><highlight class="comment">/*<sp/>align<sp/>to<sp/>tick<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.timestamp<sp/>=<sp/><ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get</ref>();</highlight></codeline>
<codeline lineno="90"><highlight class="normal">}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a88042b664617804202da5e67e382e49d" kindref="member">interval_check</ref>(<ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref><sp/>interval,<sp/><ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref><sp/>desired)</highlight></codeline>
<codeline lineno="93"><highlight class="normal">{</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref><sp/>slop<sp/>=<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a6b5133be08b54d547867bb8fca07ae31" kindref="member">INEXACT_MS_CONVERT</ref><sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Tickless<sp/>kernels<sp/>will<sp/>advance<sp/>time<sp/>inside<sp/>of<sp/>an<sp/>ISR,<sp/>so<sp/>it</highlight></codeline>
<codeline lineno="97"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>is<sp/>always<sp/>possible<sp/>(especially<sp/>with<sp/>high<sp/>tick<sp/>rates<sp/>and</highlight></codeline>
<codeline lineno="98"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>slow<sp/>CPUs)<sp/>for<sp/>us<sp/>to<sp/>arrive<sp/>at<sp/>the<sp/>uptime<sp/>check<sp/>above<sp/>too</highlight></codeline>
<codeline lineno="99"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>late<sp/>to<sp/>see<sp/>a<sp/>full<sp/>period<sp/>elapse<sp/>before<sp/>the<sp/>next<sp/>period.</highlight></codeline>
<codeline lineno="100"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>We<sp/>can<sp/>alias<sp/>at<sp/>both<sp/>sides<sp/>of<sp/>the<sp/>interval,<sp/>so<sp/>two</highlight></codeline>
<codeline lineno="101"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>one-ticks<sp/>deltas<sp/>(NOT<sp/>one<sp/>two-tick<sp/>delta!)</highlight></codeline>
<codeline lineno="102"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a" kindref="member">IS_ENABLED</ref>(CONFIG_TICKLESS_KERNEL))<sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>slop<sp/>+=<sp/>2<sp/>*<sp/><ref refid="time__units_8h_1a3a3dc1691a68c9426f345748ca340ac6" kindref="member">k_ticks_to_ms_ceil32</ref>(1);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="stdlib_8h_1ae0743c61576232ed6a443e6269af2b84" kindref="member">abs</ref>(interval<sp/>-<sp/>desired)<sp/>&gt;<sp/>slop)<sp/>{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="112"><highlight class="normal">}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>entry<sp/>routines<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a43eb2123f52c8b76a63dabeb71ec213d" kindref="member">duration_expire</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)</highlight></codeline>
<codeline lineno="116"><highlight class="normal">{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref><sp/>interval<sp/>=<sp/><ref refid="group__clock__apis_1gad748b2fe83b36884dc087b4af367de80" kindref="member">k_uptime_delta</ref>(&amp;<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.timestamp);</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt++;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1a88042b664617804202da5e67e382e49d" kindref="member">interval_check</ref>(interval,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1a88042b664617804202da5e67e382e49d" kindref="member">interval_check</ref>(interval,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>),<sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>&gt;=<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref>)<sp/>{</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" kindref="member">duration_stop</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)</highlight></codeline>
<codeline lineno="133"><highlight class="normal">{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt++;</highlight></codeline>
<codeline lineno="135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a913141d80730d97c0f0bfd240e4380e2" kindref="member">period0_expire</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)</highlight></codeline>
<codeline lineno="138"><highlight class="normal">{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt++;</highlight></codeline>
<codeline lineno="140"><highlight class="normal">}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a59237f3212fb327cb55f2b53a3999243" kindref="member">status_expire</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)</highlight></codeline>
<codeline lineno="143"><highlight class="normal">{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get</ref>(<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)<sp/>==<sp/>1,<sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1ga6c6d8b0aa59bfa0f5924e95ccf756259" kindref="member">k_timer_remaining_get</ref>(<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)<sp/>&gt;=<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>,<sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>&gt;=<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref>)<sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal">}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="stdint_8h_1a0c18914b3041c2f583aba76f418399c2" kindref="member">int32_t</ref><sp/><ref refid="kobject_8c_1a14afa64cf434f39c0f93fedf0e2616d9" kindref="member">ms</ref>)</highlight></codeline>
<codeline lineno="155"><highlight class="normal">{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait</ref>(<ref refid="kobject_8c_1a14afa64cf434f39c0f93fedf0e2616d9" kindref="member">ms</ref>*1000);</highlight></codeline>
<codeline lineno="157"><highlight class="normal">}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a868e7e809b9528db0248f399ef6ae280" kindref="member">status_stop</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)</highlight></codeline>
<codeline lineno="160"><highlight class="normal">{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1ga6c6d8b0aa59bfa0f5924e95ccf756259" kindref="member">k_timer_remaining_get</ref>(<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)<sp/>==<sp/>0,<sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="163"><highlight class="normal">}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1gaf7cea6ba08cc085dfe78f6f051ba32aa" kindref="member">test_timer_duration_period</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="189"><highlight class="normal">{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" kindref="member">duration_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>*<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref>,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" kindref="member">duration_timer</ref>);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>==<sp/>1,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" kindref="member">duration_timer</ref>);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" kindref="member">duration_timer</ref>,<sp/><ref refid="group__clock__apis_1ga0bb4b83f0222193b21a8910311bab0ca" kindref="member">K_FOREVER</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>==<sp/>1,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" kindref="member">duration_timer</ref>);</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environemtn<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" kindref="member">duration_timer</ref>);</highlight></codeline>
<codeline lineno="202"><highlight class="normal">}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga81b2ddaaa7dc2df0502a7dc5da38a81b" kindref="member">test_timer_restart</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="219"><highlight class="normal">{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>*<sp/>(<ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref><sp/>-<sp/>1)<sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Restart<sp/>timer,<sp/>timer&apos;s<sp/>status<sp/>is<sp/>reset<sp/>to<sp/>zero<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>)<sp/>==<sp/>0,</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>);</highlight></codeline>
<codeline lineno="234"><highlight class="normal">}</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga43e8aa930c3dc637f9d4d6524b4b521c" kindref="member">test_timer_period_0</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="253"><highlight class="normal">{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>,</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1gaeda983960bd25f1dba7a386ad720e395" kindref="member">K_TICKS</ref>(<ref refid="time__units_8h_1a9c59e6705a351d44779f6320ba51641a" kindref="member">k_ms_to_ticks_floor32</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>)</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/><ref refid="timer_2timer__api_2src_2main_8c_1ae8205be8242f8a2ddaa6a0347a56fae1" kindref="member">BUSY_SLEW_THRESHOLD_TICKS</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><ref refid="include_2sys__clock_8h_1a2d66311052e2bddf914610fb7345ff27" kindref="member">USEC_PER_MSEC</ref>)),</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1ga3d9541cfe2e8395af66d186efa77362f" kindref="member">K_NO_WAIT</ref>);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Need<sp/>to<sp/>wait<sp/>at<sp/>least<sp/>2<sp/>durations<sp/>to<sp/>ensure<sp/>one-shot<sp/>behavior.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(2<sp/>*<sp/><ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>((<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>1)</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/>(<ref refid="timer_2timer__api_2src_2main_8c_1a6b5133be08b54d547867bb8fca07ae31" kindref="member">INEXACT_MS_CONVERT</ref></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>0)),<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>);</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>==<sp/>0,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environemtn<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>);</highlight></codeline>
<codeline lineno="272"><highlight class="normal">}</highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga6397043572ff0582b5f30c34c95cc0ed" kindref="member">test_timer_period_k_forever</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="290"><highlight class="normal">{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>,</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1gaeda983960bd25f1dba7a386ad720e395" kindref="member">K_TICKS</ref>(<ref refid="time__units_8h_1a9c59e6705a351d44779f6320ba51641a" kindref="member">k_ms_to_ticks_floor32</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>)<sp/>-</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ae8205be8242f8a2ddaa6a0347a56fae1" kindref="member">BUSY_SLEW_THRESHOLD_TICKS</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>*<sp/><ref refid="include_2sys__clock_8h_1a2d66311052e2bddf914610fb7345ff27" kindref="member">USEC_PER_MSEC</ref>)),</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1ga0bb4b83f0222193b21a8910311bab0ca" kindref="member">K_FOREVER</ref>);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.timestamp<sp/>=<sp/><ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get</ref>();</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Need<sp/>to<sp/>wait<sp/>at<sp/>least<sp/>2<sp/>durations<sp/>to<sp/>ensure<sp/>one-shot<sp/>behavior.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(2<sp/>*<sp/><ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>((<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>1)<sp/>||</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="timer_2timer__api_2src_2main_8c_1a6b5133be08b54d547867bb8fca07ae31" kindref="member">INEXACT_MS_CONVERT</ref><sp/>&amp;&amp;<sp/>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>0)),</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>==<sp/>0,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>);</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environemtn<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>);</highlight></codeline>
<codeline lineno="311"><highlight class="normal">}</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga6537e057cfbdec8841182ef73d536fae" kindref="member">test_timer_expirefn_null</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="329"><highlight class="normal">{</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1afaa4c7288a3f3d1fba79c6f4fb53b13c" kindref="member">expire_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>*<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1afaa4c7288a3f3d1fba79c6f4fb53b13c" kindref="member">expire_timer</ref>);</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>0,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1afaa4c7288a3f3d1fba79c6f4fb53b13c" kindref="member">expire_timer</ref>);</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>==<sp/>1,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1afaa4c7288a3f3d1fba79c6f4fb53b13c" kindref="member">expire_timer</ref>);</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1afaa4c7288a3f3d1fba79c6f4fb53b13c" kindref="member">expire_timer</ref>);</highlight></codeline>
<codeline lineno="343"><highlight class="normal">}</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Wait<sp/>for<sp/>the<sp/>next<sp/>expiration<sp/>of<sp/>an<sp/>OS<sp/>timer<sp/>tick,<sp/>to<sp/>synchronize</highlight></codeline>
<codeline lineno="346"><highlight class="comment"><sp/>*<sp/>test<sp/>start</highlight></codeline>
<codeline lineno="347"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7a080a78abe0e5a804e9e4fed407673e" kindref="member">tick_sync</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="349"><highlight class="normal">{</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a56b387ef177ce009c9d61c4e91cb6065" kindref="member">sync_timer</ref>,<sp/><ref refid="group__clock__apis_1ga3d9541cfe2e8395af66d186efa77362f" kindref="member">K_NO_WAIT</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(1));</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a56b387ef177ce009c9d61c4e91cb6065" kindref="member">sync_timer</ref>);</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a56b387ef177ce009c9d61c4e91cb6065" kindref="member">sync_timer</ref>);</highlight></codeline>
<codeline lineno="353"><highlight class="normal">}</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1gac9e54492a90d9dac6034f7c054deba9a" kindref="member">test_timer_periodicity</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="373"><highlight class="normal">{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref><sp/>period_ms<sp/>=<sp/><ref refid="time__units_8h_1a828a817b2dbade336bc9934576984490" kindref="member">k_ticks_to_ms_floor64</ref>(<ref refid="time__units_8h_1adb979ca17d5a910b2d287522256e7872" kindref="member">k_ms_to_ticks_ceil32</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref><sp/>delta;</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>at<sp/>a<sp/>tick<sp/>boundary,<sp/>otherwise<sp/>a<sp/>tick<sp/>expiring<sp/>between</highlight></codeline>
<codeline lineno="378"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>unlocked<sp/>(and<sp/>unlockable)<sp/>start/uptime/sync<sp/>steps<sp/>below</highlight></codeline>
<codeline lineno="379"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>will<sp/>throw<sp/>off<sp/>the<sp/>math.</highlight></codeline>
<codeline lineno="380"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7a080a78abe0e5a804e9e4fed407673e" kindref="member">tick_sync</ref>();</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>,<sp/><ref refid="group__clock__apis_1ga3d9541cfe2e8395af66d186efa77362f" kindref="member">K_NO_WAIT</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>clear<sp/>the<sp/>expiration<sp/>that<sp/>would<sp/>have<sp/>happened<sp/>due<sp/>to</highlight></codeline>
<codeline lineno="388"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>whatever<sp/>duration<sp/>that<sp/>was<sp/>set.<sp/>Since<sp/>timer<sp/>is<sp/>likely</highlight></codeline>
<codeline lineno="389"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>to<sp/>fire<sp/>before<sp/>call<sp/>to<sp/>k_timer_status_sync(),<sp/>we<sp/>have</highlight></codeline>
<codeline lineno="390"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>to<sp/>synchronize<sp/>twice<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>timestamp<sp/>will</highlight></codeline>
<codeline lineno="391"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>be<sp/>fetched<sp/>as<sp/>soon<sp/>as<sp/>possible<sp/>after<sp/>timer<sp/>firing.</highlight></codeline>
<codeline lineno="392"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>);</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.timestamp<sp/>=<sp/><ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get</ref>();</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>)<sp/>==<sp/>1,</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delta<sp/>=<sp/><ref refid="group__clock__apis_1gad748b2fe83b36884dc087b4af367de80" kindref="member">k_uptime_delta</ref>(&amp;<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.timestamp);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af62086742940818060c4023ea63ce897" kindref="member">WITHIN_ERROR</ref>(delta,<sp/>period_ms,<sp/>1)</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/>(<ref refid="timer_2timer__api_2src_2main_8c_1a6b5133be08b54d547867bb8fca07ae31" kindref="member">INEXACT_MS_CONVERT</ref></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(delta<sp/>==<sp/>period_ms<sp/>-<sp/>1)),</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>);</highlight></codeline>
<codeline lineno="423"><highlight class="normal">}</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga53039f9a0d03980e0a3c69f0e59a42bc" kindref="member">test_timer_status_get</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="441"><highlight class="normal">{</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" kindref="member">status_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" kindref="member">status_timer</ref>)<sp/>==<sp/>0,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" kindref="member">status_timer</ref>);</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1ga6c6d8b0aa59bfa0f5924e95ccf756259" kindref="member">k_timer_remaining_get</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" kindref="member">status_timer</ref>)<sp/>&gt;=<sp/><ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>/<sp/>2,</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" kindref="member">status_timer</ref>);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" kindref="member">status_timer</ref>);</highlight></codeline>
<codeline lineno="452"><highlight class="normal">}</highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga10b481da2bfd144c8902689d06f16434" kindref="member">test_timer_status_get_anytime</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="470"><highlight class="normal">{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>*<sp/>(<ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref><sp/>-<sp/>1)<sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>)<sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref>,</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>);</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>);</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1gad532f4834cd4cf8be27b089e6ea347ce" kindref="member">k_timer_status_get</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>)<sp/>==<sp/>1,</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>);</highlight></codeline>
<codeline lineno="482"><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>);</highlight></codeline>
<codeline lineno="485"><highlight class="normal">}</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga19487c94e7c631027e3ba4ac02daa8f2" kindref="member">test_timer_status_sync</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="504"><highlight class="normal">{</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="507"><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>i,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>);</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>)<sp/>==<sp/>1,</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>(i<sp/>+<sp/>1),<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>);</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>*2);</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(<ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>),<sp/>NULL);</highlight></codeline>
<codeline lineno="522"><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>);</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1gacc41f998b701997e4eafb6ed7b9d537c" kindref="member">zassert_false</ref>(<ref refid="group__timer__apis_1ga81d6d95b7021e26ad4cab161318e04f2" kindref="member">k_timer_status_sync</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>),<sp/>NULL);</highlight></codeline>
<codeline lineno="526"><highlight class="normal">}</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga46fd6c4d7cd4638cf87e9ca10c524ada" kindref="member">test_timer_k_define</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="544"><highlight class="normal">{</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;ktimer,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>*<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="549"><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref>,<sp/>&amp;ktimer);</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>==<sp/>1,<sp/>&amp;ktimer);</highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;ktimer);</highlight></codeline>
<codeline lineno="556"><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;ktimer,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>the<sp/>k_timer_start()<sp/>again<sp/>to<sp/>make<sp/>sure<sp/>that</highlight></codeline>
<codeline lineno="562"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>initial<sp/>timeout<sp/>request<sp/>gets<sp/>cancelled<sp/>and<sp/>new</highlight></codeline>
<codeline lineno="563"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>one<sp/>will<sp/>get<sp/>added.</highlight></codeline>
<codeline lineno="564"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;ktimer,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref>));</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.timestamp<sp/>=<sp/><ref refid="group__clock__apis_1gae3e992cd3257c23d5b26d765fcbb2b69" kindref="member">k_uptime_get</ref>();</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>*<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref><sp/>+<sp/><ref refid="timer_2timer__api_2src_2main_8c_1af281425e62298bac2df0fbe8690a4844" kindref="member">PERIOD</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9b6ecbe24c4fa31e352607e9997a55ce" kindref="member">EXPIRE_TIMES</ref>,<sp/>&amp;ktimer);</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>==<sp/>1,<sp/>&amp;ktimer);</highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>cleanup<sp/>environment<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;ktimer);</highlight></codeline>
<codeline lineno="576"><highlight class="normal">}</highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><ref refid="obj__tracking_2src_2main_8c_1ad8c286584d1c6cae5e5866e4af529b6b" kindref="member">K_TIMER_DEFINE</ref>(timer0,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref>,<sp/>NULL);</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><ref refid="obj__tracking_2src_2main_8c_1ad8c286584d1c6cae5e5866e4af529b6b" kindref="member">K_TIMER_DEFINE</ref>(timer1,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref>,<sp/>NULL);</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><ref refid="obj__tracking_2src_2main_8c_1ad8c286584d1c6cae5e5866e4af529b6b" kindref="member">K_TIMER_DEFINE</ref>(timer2,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref>,<sp/>NULL);</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><ref refid="obj__tracking_2src_2main_8c_1ad8c286584d1c6cae5e5866e4af529b6b" kindref="member">K_TIMER_DEFINE</ref>(timer3,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref>,<sp/>NULL);</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><ref refid="obj__tracking_2src_2main_8c_1ad8c286584d1c6cae5e5866e4af529b6b" kindref="member">K_TIMER_DEFINE</ref>(timer4,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref>,<sp/>NULL);</highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__ztest__test__deprecated_1ga2c7d0aa85e7f320d582395c5ded90133" kindref="member">ZTEST_DMEM</ref><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_timer<sp/>*<ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[5]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;timer0,<sp/>&amp;timer1,<sp/>&amp;timer2,<sp/>&amp;timer3,<sp/>&amp;timer4</highlight></codeline>
<codeline lineno="588"><highlight class="normal">};</highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="stdint_8h_1a0bd5dec00e345e69027427f8621d6a6c" kindref="member">intptr_t</ref><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a862de962130decf51321624c10294338" kindref="member">user_data</ref>[5]<sp/>=<sp/>{<sp/>0x1337,<sp/>0xbabe,<sp/>0xd00d,<sp/>0xdeaf,<sp/>0xfade<sp/>};</highlight></codeline>
<codeline lineno="591"><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__ztest__test__deprecated_1gac3de5965061b1164a8033712c9094e23" kindref="member">ZTEST_BMEM</ref><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aa29bfc029aacd80cd9933622817193b1" kindref="member">user_data_correct</ref>[5];</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a92315391091f231cf171c6608f3e3519" kindref="member">user_data_timer_handler</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>)</highlight></codeline>
<codeline lineno="595"><highlight class="normal">{</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>timer_num<sp/>=<sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref><sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[0]<sp/>?<sp/>0<sp/>:</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref><sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[1]<sp/>?<sp/>1<sp/>:</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref><sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[2]<sp/>?<sp/>2<sp/>:</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref><sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[3]<sp/>?<sp/>3<sp/>:</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref><sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[4]<sp/>?<sp/>4<sp/>:<sp/>-1;</highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(timer_num<sp/>==<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0bd5dec00e345e69027427f8621d6a6c" kindref="member">intptr_t</ref><sp/>data_retrieved<sp/>=<sp/>(<ref refid="stdint_8h_1a0bd5dec00e345e69027427f8621d6a6c" kindref="member">intptr_t</ref>)<ref refid="group__timer__apis_1ga19a7d99a01a83828efd7f0d3bf2dd358" kindref="member">k_timer_user_data_get</ref>(<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>);</highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aa29bfc029aacd80cd9933622817193b1" kindref="member">user_data_correct</ref>[timer_num]<sp/>=<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a862de962130decf51321624c10294338" kindref="member">user_data</ref>[timer_num]<sp/>==<sp/>data_retrieved;</highlight></codeline>
<codeline lineno="609"><highlight class="normal">}</highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga97a4618f1cbc7631944596f36b44daea" kindref="member">test_timer_user_data</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="628"><highlight class="normal">{</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ii;</highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(ii<sp/>=<sp/>0;<sp/>ii<sp/>&lt;<sp/>5;<sp/>ii++)<sp/>{</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0bd5dec00e345e69027427f8621d6a6c" kindref="member">intptr_t</ref><sp/>check;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1gadba1884961e790dd9c5d567de91cc7e2" kindref="member">k_timer_user_data_set</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[ii],</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)<ref refid="timer_2timer__api_2src_2main_8c_1a862de962130decf51321624c10294338" kindref="member">user_data</ref>[ii]);</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>check<sp/>=<sp/>(<ref refid="stdint_8h_1a0bd5dec00e345e69027427f8621d6a6c" kindref="member">intptr_t</ref>)<ref refid="group__timer__apis_1ga19a7d99a01a83828efd7f0d3bf2dd358" kindref="member">k_timer_user_data_get</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[ii]);</highlight></codeline>
<codeline lineno="637"><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(check<sp/>==<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a862de962130decf51321624c10294338" kindref="member">user_data</ref>[ii],<sp/>NULL);</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(ii<sp/>=<sp/>0;<sp/>ii<sp/>&lt;<sp/>5;<sp/>ii++)<sp/>{</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[ii],<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(50<sp/>+<sp/>ii<sp/>*<sp/>50),</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1ga3d9541cfe2e8395af66d186efa77362f" kindref="member">K_NO_WAIT</ref>);</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="645"><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0a8582351ac627ee8bde2973c825e47f" kindref="member">uint32_t</ref><sp/>wait_ms<sp/>=<sp/>50<sp/>*<sp/>ii<sp/>+<sp/>50;</highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a" kindref="member">IS_ENABLED</ref>(CONFIG_MULTITHREADING))<sp/>{</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__thread__apis_1ga51307cdfe153ab3e918b18755d97c5d9" kindref="member">k_msleep</ref>(wait_ms);</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0a8582351ac627ee8bde2973c825e47f" kindref="member">uint32_t</ref><sp/>wait_us<sp/>=<sp/>1000<sp/>*<sp/>wait_ms;</highlight></codeline>
<codeline lineno="652"><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__thread__apis_1ga550b642e071480323e589866abb99c22" kindref="member">k_busy_wait</ref>(wait_us<sp/>+<sp/>(wait_us<sp/>*<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a86eb365326b9f93660072da84ccce83a" kindref="member">BUSY_TICK_SLEW_PPM</ref>)<sp/>/<sp/><ref refid="timer_2timer__api_2src_2main_8c_1aea2072dedc80bb74a91bd4e8c9aaba23" kindref="member">PPM_DIVISOR</ref>);</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(ii<sp/>=<sp/>0;<sp/>ii<sp/>&lt;<sp/>5;<sp/>ii++)<sp/>{</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1ab2982b052929f9a89173ade5d360695e" kindref="member">user_data_timer</ref>[ii]);</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="659"><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(ii<sp/>=<sp/>0;<sp/>ii<sp/>&lt;<sp/>5;<sp/>ii++)<sp/>{</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa29bfc029aacd80cd9933622817193b1" kindref="member">user_data_correct</ref>[ii],<sp/>NULL);</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="663"><highlight class="normal">}</highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__kernel__timer__tests_1ga484adb1538ba16eb0f708e932167e75b" kindref="member">test_timer_remaining</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="681"><highlight class="normal">{</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0a8582351ac627ee8bde2973c825e47f" kindref="member">uint32_t</ref><sp/>dur_ticks<sp/>=<sp/><ref refid="time__units_8h_1adb979ca17d5a910b2d287522256e7872" kindref="member">k_ms_to_ticks_ceil32</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>);</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0a8582351ac627ee8bde2973c825e47f" kindref="member">uint32_t</ref><sp/>target_rem_ticks<sp/>=<sp/><ref refid="time__units_8h_1adb979ca17d5a910b2d287522256e7872" kindref="member">k_ms_to_ticks_ceil32</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0a8582351ac627ee8bde2973c825e47f" kindref="member">uint32_t</ref><sp/>rem_ms,<sp/>rem_ticks,<sp/>exp_ticks;</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0c18914b3041c2f583aba76f418399c2" kindref="member">int32_t</ref><sp/>delta_ticks;</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a0a8582351ac627ee8bde2973c825e47f" kindref="member">uint32_t</ref><sp/>slew_ticks;</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref><sp/><ref refid="timer_2starve_2src_2main_8c_1ad2a5acb9b13b943cac9ef0b8c8370100" kindref="member">now</ref>;</highlight></codeline>
<codeline lineno="688"><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>,<sp/><ref refid="group__clock__apis_1ga302af954e87b10a9b731f1ad07775e9f" kindref="member">K_MSEC</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref>),<sp/><ref refid="group__clock__apis_1ga3d9541cfe2e8395af66d186efa77362f" kindref="member">K_NO_WAIT</ref>);</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1abbaa165cf69c8b434237c3ab494a7686" kindref="member">busy_wait_ms</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rem_ticks<sp/>=<sp/><ref refid="group__timer__apis_1ga1176b36b960e786f68eaededf99a88b4" kindref="member">k_timer_remaining_ticks</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>);</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2starve_2src_2main_8c_1ad2a5acb9b13b943cac9ef0b8c8370100" kindref="member">now</ref><sp/>=<sp/><ref refid="group__clock__apis_1ga8f143af2ee4ad42d9f7817ef161cbd13" kindref="member">k_uptime_ticks</ref>();</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rem_ms<sp/>=<sp/><ref refid="group__timer__apis_1ga6c6d8b0aa59bfa0f5924e95ccf756259" kindref="member">k_timer_remaining_get</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>);</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exp_ticks<sp/>=<sp/><ref refid="group__timer__apis_1ga022b4cf5c8d0ee21b6a3b04fd425533f" kindref="member">k_timer_expires_ticks</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>);</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>);</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.expire_cnt<sp/>==<sp/>0,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>);</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1ab6452aff26293544e7b308a33c020c53" kindref="member">TIMER_ASSERT</ref>(<ref refid="msgq_2msgq__api_2src_2main_8c_1aa15baae19d44279cac3d8bf47c9e707f" kindref="member">tdata</ref>.stop_cnt<sp/>==<sp/>1,<sp/>&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>);</highlight></codeline>
<codeline lineno="700"><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="702"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>While<sp/>the<sp/>busy_wait_ms()<sp/>works<sp/>with<sp/>the<sp/>maximum<sp/>possible<sp/>resolution,</highlight></codeline>
<codeline lineno="703"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>k_timer<sp/>api<sp/>is<sp/>limited<sp/>by<sp/>the<sp/>system<sp/>tick<sp/>abstraction.<sp/>As<sp/>result</highlight></codeline>
<codeline lineno="704"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>value<sp/>obtained<sp/>through<sp/>k_timer_remaining_get()<sp/>could<sp/>be<sp/>larger</highlight></codeline>
<codeline lineno="705"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>than<sp/>actual<sp/>remaining<sp/>time<sp/>with<sp/>maximum<sp/>error<sp/>equal<sp/>to<sp/>one<sp/>tick.</highlight></codeline>
<codeline lineno="706"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(rem_ms<sp/>&lt;=<sp/>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>/<sp/>2)<sp/>+<sp/><ref refid="time__units_8h_1a828a817b2dbade336bc9934576984490" kindref="member">k_ticks_to_ms_floor64</ref>(1),</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NULL);</highlight></codeline>
<codeline lineno="709"><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Half<sp/>the<sp/>value<sp/>of<sp/>DURATION<sp/>in<sp/>ticks<sp/>may<sp/>not<sp/>be<sp/>the<sp/>value<sp/>of</highlight></codeline>
<codeline lineno="711"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>half<sp/>DURATION<sp/>in<sp/>ticks,<sp/>when<sp/>DURATION/2<sp/>is<sp/>not<sp/>an<sp/>integer</highlight></codeline>
<codeline lineno="712"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>multiple<sp/>of<sp/>ticks,<sp/>so<sp/>target_rem_ticks<sp/>is<sp/>used<sp/>rather<sp/>than</highlight></codeline>
<codeline lineno="713"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>dur_ticks/2.<sp/><sp/>Also<sp/>set<sp/>a<sp/>threshold<sp/>based<sp/>on<sp/>expected<sp/>clock</highlight></codeline>
<codeline lineno="714"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>skew.</highlight></codeline>
<codeline lineno="715"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delta_ticks<sp/>=<sp/>(<ref refid="stdint_8h_1a0c18914b3041c2f583aba76f418399c2" kindref="member">int32_t</ref>)(rem_ticks<sp/>-<sp/>target_rem_ticks);</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>slew_ticks<sp/>=<sp/><ref refid="timer_2timer__api_2src_2main_8c_1ae8205be8242f8a2ddaa6a0347a56fae1" kindref="member">BUSY_SLEW_THRESHOLD_TICKS</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aa312b7c3e9d9981fb0d98cc4428f17bf" kindref="member">DURATION</ref><sp/>*<sp/><ref refid="include_2sys__clock_8h_1a2d66311052e2bddf914610fb7345ff27" kindref="member">USEC_PER_MSEC</ref><sp/>/<sp/>2U);</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(<ref refid="stdlib_8h_1ae0743c61576232ed6a443e6269af2b84" kindref="member">abs</ref>(delta_ticks)<sp/>&lt;=<sp/><ref refid="group__sys-util_1gafa99ec4acc4ecb2dc3c2d05da15d0e3f" kindref="member">MAX</ref>(slew_ticks,<sp/>1U),</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;tick/busy<sp/>slew<sp/>%d<sp/>larger<sp/>than<sp/>test<sp/>threshold<sp/>%u&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delta_ticks,<sp/>slew_ticks);</highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Note<sp/>+1<sp/>tick<sp/>precision:<sp/>even<sp/>though<sp/>we&apos;re<sp/>calcluating<sp/>in</highlight></codeline>
<codeline lineno="723"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>ticks,<sp/>we&apos;re<sp/>waiting<sp/>in<sp/>k_busy_wait(),<sp/>not<sp/>for<sp/>a<sp/>timer</highlight></codeline>
<codeline lineno="724"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>interrupt,<sp/>so<sp/>it&apos;s<sp/>possible<sp/>for<sp/>that<sp/>to<sp/>take<sp/>1<sp/>tick<sp/>longer</highlight></codeline>
<codeline lineno="725"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>than<sp/>expected<sp/>on<sp/>systems<sp/>where<sp/>the<sp/>requested<sp/>microsecond</highlight></codeline>
<codeline lineno="726"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>delay<sp/>cannot<sp/>be<sp/>exactly<sp/>represented<sp/>as<sp/>an<sp/>integer<sp/>number<sp/>of</highlight></codeline>
<codeline lineno="727"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>ticks.</highlight></codeline>
<codeline lineno="728"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(((<ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref>)exp_ticks<sp/>-<sp/>(<ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref>)<ref refid="timer_2starve_2src_2main_8c_1ad2a5acb9b13b943cac9ef0b8c8370100" kindref="member">now</ref>)<sp/>&lt;=<sp/>(dur_ticks<sp/>/<sp/>2)<sp/>+<sp/>1,</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NULL);</highlight></codeline>
<codeline lineno="731"><highlight class="normal">}</highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a54d25484bec7db0fe64cbfc27be4ac0a" kindref="member">test_timeout_abs</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="734"><highlight class="normal">{</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>CONFIG_TIMEOUT_64BIT</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref><sp/>exp_ms<sp/>=<sp/>10000000;</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref><sp/>rem_ticks;</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref><sp/>exp_ticks<sp/>=<sp/><ref refid="time__units_8h_1aadc233ff9661c9bab492b99502614011" kindref="member">k_ms_to_ticks_ceil64</ref>(exp_ms);</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structk__timeout__t" kindref="compound">k_timeout_t</ref><sp/><ref refid="kobject_8c_1a858810a6da56663cf4e01aecb4f6e8aa" kindref="member">t</ref><sp/>=<sp/>K_TIMEOUT_ABS_TICKS(exp_ticks),<sp/><ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref>;</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref><sp/>t0,<sp/>t1;</highlight></codeline>
<codeline lineno="741"><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>the<sp/>other<sp/>generator<sp/>macros<sp/>to<sp/>make<sp/>sure<sp/>they<sp/>produce</highlight></codeline>
<codeline lineno="743"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>same<sp/>(whiteboxed)<sp/>converted<sp/>values</highlight></codeline>
<codeline lineno="744"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref><sp/>=<sp/>K_TIMEOUT_ABS_MS(exp_ms);</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(<ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref>.ticks<sp/>==<sp/><ref refid="kobject_8c_1a858810a6da56663cf4e01aecb4f6e8aa" kindref="member">t</ref>.ticks,<sp/>NULL);</highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref><sp/>=<sp/>K_TIMEOUT_ABS_US(1000<sp/>*<sp/>exp_ms);</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(<ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref>.ticks<sp/>==<sp/><ref refid="kobject_8c_1a858810a6da56663cf4e01aecb4f6e8aa" kindref="member">t</ref>.ticks,<sp/>NULL);</highlight></codeline>
<codeline lineno="750"><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref><sp/>=<sp/>K_TIMEOUT_ABS_NS(1000<sp/>*<sp/>1000<sp/>*<sp/>exp_ms);</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(<ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref>.ticks<sp/>==<sp/><ref refid="kobject_8c_1a858810a6da56663cf4e01aecb4f6e8aa" kindref="member">t</ref>.ticks,<sp/>NULL);</highlight></codeline>
<codeline lineno="753"><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref><sp/>=<sp/>K_TIMEOUT_ABS_CYC(<ref refid="time__units_8h_1a0963f760a8720d7dd0aa4941173fd2df" kindref="member">k_ms_to_cyc_ceil64</ref>(exp_ms));</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(<ref refid="smp_2src_2main_8c_1a8cc42352e1fcd18fbeca6388426f572b" kindref="member">t2</ref>.ticks<sp/>==<sp/><ref refid="kobject_8c_1a858810a6da56663cf4e01aecb4f6e8aa" kindref="member">t</ref>.ticks,<sp/>NULL);</highlight></codeline>
<codeline lineno="756"><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>set<sp/>the<sp/>timeout<sp/>and<sp/>make<sp/>sure<sp/>the<sp/>expiration<sp/>time<sp/>is</highlight></codeline>
<codeline lineno="758"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>correct<sp/>vs.<sp/>current<sp/>time.<sp/><sp/>Tick<sp/>units<sp/>and<sp/>tick<sp/>alignment</highlight></codeline>
<codeline lineno="759"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>makes<sp/>this<sp/>math<sp/>exact,<sp/>no<sp/>slop<sp/>is<sp/>needed.<sp/><sp/>Note<sp/>that<sp/>time</highlight></codeline>
<codeline lineno="760"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>is<sp/>advancing<sp/>always,<sp/>so<sp/>we<sp/>add<sp/>a<sp/>retry<sp/>condition<sp/>to<sp/>be<sp/>sure</highlight></codeline>
<codeline lineno="761"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>that<sp/>a<sp/>tick<sp/>advance<sp/>did<sp/>not<sp/>happen<sp/>between<sp/>our<sp/>reads<sp/>of</highlight></codeline>
<codeline lineno="762"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>&quot;now&quot;<sp/>and<sp/>&quot;expires&quot;.</highlight></codeline>
<codeline lineno="763"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aef8650db8e172162a0b57b3027d313f6" kindref="member">init_timer_data</ref>();</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga3ba70e9f059ff52fd2057ab89ea7f2ee" kindref="member">k_timer_start</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>,<sp/><ref refid="kobject_8c_1a858810a6da56663cf4e01aecb4f6e8aa" kindref="member">t</ref>,<sp/><ref refid="group__clock__apis_1ga0bb4b83f0222193b21a8910311bab0ca" kindref="member">K_FOREVER</ref>);</highlight></codeline>
<codeline lineno="766"><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a" kindref="member">IS_ENABLED</ref>(CONFIG_MULTITHREADING))<sp/>{</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__thread__apis_1gaeac56bb072ce295b9fdc372ab8cee67e" kindref="member">k_usleep</ref>(1);</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="770"><highlight class="normal"></highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t0<sp/>=<sp/><ref refid="group__clock__apis_1ga8f143af2ee4ad42d9f7817ef161cbd13" kindref="member">k_uptime_ticks</ref>();</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rem_ticks<sp/>=<sp/><ref refid="group__timer__apis_1ga1176b36b960e786f68eaededf99a88b4" kindref="member">k_timer_remaining_ticks</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>);</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t1<sp/>=<sp/><ref refid="group__clock__apis_1ga8f143af2ee4ad42d9f7817ef161cbd13" kindref="member">k_uptime_ticks</ref>();</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(t0<sp/>!=<sp/>t1);</highlight></codeline>
<codeline lineno="776"><highlight class="normal"></highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(t0<sp/>+<sp/>rem_ticks<sp/>==<sp/>exp_ticks,</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Wrong<sp/>remaining:<sp/>now<sp/>%lld<sp/>rem<sp/>%lld<sp/>expires<sp/>%lld<sp/>(%d)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref>)t0,<sp/>(<ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref>)rem_ticks,<sp/>(<ref refid="stdint_8h_1a2095b9bffea4b2656950c6c0419edbf1" kindref="member">uint64_t</ref>)exp_ticks,</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t0+rem_ticks-exp_ticks);</highlight></codeline>
<codeline lineno="781"><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga8d3e3356a10d36570e16f7920e4c8772" kindref="member">k_timer_stop</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>);</highlight></codeline>
<codeline lineno="783"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal">}</highlight></codeline>
<codeline lineno="785"><highlight class="normal"></highlight></codeline>
<codeline lineno="786"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1aadee2feb34b08bf226d973bbe93ee8ac" kindref="member">test_sleep_abs</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="787"><highlight class="normal">{</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a" kindref="member">IS_ENABLED</ref>(CONFIG_MULTITHREADING))<sp/>{</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>k_sleep<sp/>is<sp/>not<sp/>supported<sp/>when<sp/>multithreading<sp/>is<sp/>off.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="792"><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sleep_ticks<sp/>=<sp/>50;</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1ac714c0d2c1a4adb10e73cab29623314b" kindref="member">int64_t</ref><sp/>start,<sp/>end;</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__thread__apis_1gaeac56bb072ce295b9fdc372ab8cee67e" kindref="member">k_usleep</ref>(1);<sp/></highlight><highlight class="comment">/*<sp/>tick<sp/>align<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/><ref refid="group__clock__apis_1ga8f143af2ee4ad42d9f7817ef161cbd13" kindref="member">k_uptime_ticks</ref>();</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__thread__apis_1ga48d4b041790454da4d68ac8711f29657" kindref="member">k_sleep</ref>(K_TIMEOUT_ABS_TICKS(start<sp/>+<sp/>sleep_ticks));</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end<sp/>=<sp/><ref refid="group__clock__apis_1ga8f143af2ee4ad42d9f7817ef161cbd13" kindref="member">k_uptime_ticks</ref>();</highlight></codeline>
<codeline lineno="801"><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Systems<sp/>with<sp/>very<sp/>high<sp/>tick<sp/>rates<sp/>and/or<sp/>slow<sp/>idle<sp/>resume</highlight></codeline>
<codeline lineno="803"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>(I&apos;ve<sp/>seen<sp/>this<sp/>on<sp/>intel_adsp)<sp/>can<sp/>occasionally<sp/>take<sp/>more</highlight></codeline>
<codeline lineno="804"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>than<sp/>a<sp/>tick<sp/>to<sp/>return<sp/>from<sp/>k_sleep().<sp/><sp/>Set<sp/>a<sp/>100us<sp/>real</highlight></codeline>
<codeline lineno="805"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/>time<sp/>slop<sp/>or<sp/>more<sp/>depending<sp/>on<sp/>the<sp/>time<sp/>to<sp/>resume</highlight></codeline>
<codeline lineno="806"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__clock__apis_1ga9832cb0adc2d1866420e5c370a0863e2" kindref="member">k_ticks_t</ref><sp/>late<sp/>=<sp/>end<sp/>-<sp/>(start<sp/>+<sp/>sleep_ticks);</highlight></codeline>
<codeline lineno="808"><highlight class="normal"></highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__assert_1ga2f30aa3d3bfe7281b86b725dec394466" kindref="member">zassert_true</ref>(late<sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/>late<sp/>&lt;<sp/><ref refid="time__units_8h_1ab41e14896548ab9987c6112200bdbe53" kindref="member">k_us_to_ticks_ceil32</ref>(250),</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;expected<sp/>wakeup<sp/>at<sp/>%lld,<sp/>got<sp/>%lld<sp/>(late<sp/>%lld)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>+<sp/>sleep_ticks,<sp/>end,<sp/>late);</highlight></codeline>
<codeline lineno="812"><highlight class="normal">}</highlight></codeline>
<codeline lineno="813"><highlight class="normal"></highlight></codeline>
<codeline lineno="814"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>k_timer<sp/>*<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>,<sp/><ref refid="group__timer__apis_1ga37bcd42a457855a68b74570c979ababa" kindref="member">k_timer_expiry_t</ref><sp/>expiry_fn,</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga16fbd44c08a26c4fdeb7f542f2a03a15" kindref="member">k_timer_stop_t</ref><sp/>stop_fn)</highlight></codeline>
<codeline lineno="816"><highlight class="normal">{</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a" kindref="member">IS_ENABLED</ref>(CONFIG_MULTITHREADING))<sp/>{</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__usermode__apis_1ga94087bedf96fe2a2bea437d3d585ca22" kindref="member">k_object_access_grant</ref>(<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>,<sp/><ref refid="group__thread__apis_1ga7ef1ed0fb9513df8096ede1e52fc76b2" kindref="member">k_current_get</ref>());</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="820"><highlight class="normal"></highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__timer__apis_1ga318c846a740b901e5d56876a47ad7f61" kindref="member">k_timer_init</ref>(<ref refid="pending_2src_2main_8c_1a4ced20aea8a1e880c43f684a920b85da" kindref="member">timer</ref>,<sp/>expiry_fn,<sp/>stop_fn);</highlight></codeline>
<codeline lineno="822"><highlight class="normal">}</highlight></codeline>
<codeline lineno="823"><highlight class="normal"></highlight></codeline>
<codeline lineno="824"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="common_2src_2main_8c_1a8a4533f287d99bb2d7c24c0e29c9a449" kindref="member">test_main</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="825"><highlight class="normal">{</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aa37b61f988bb66ce4b7fb6e0c21384b9" kindref="member">duration_timer</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a43eb2123f52c8b76a63dabeb71ec213d" kindref="member">duration_expire</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" kindref="member">duration_stop</ref>);</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1ac812a3953d0f12727a904aaa41498b92" kindref="member">period0_timer</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a913141d80730d97c0f0bfd240e4380e2" kindref="member">period0_expire</ref>,<sp/>NULL);</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1afaa4c7288a3f3d1fba79c6f4fb53b13c" kindref="member">expire_timer</ref>,<sp/>NULL,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" kindref="member">duration_stop</ref>);</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a56b387ef177ce009c9d61c4e91cb6065" kindref="member">sync_timer</ref>,<sp/>NULL,<sp/>NULL);</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a1cf97ae02559140f580f611caf7c9285" kindref="member">periodicity_timer</ref>,<sp/>NULL,<sp/>NULL);</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1aed8851ec23b869c23c16fe2f445655eb" kindref="member">status_timer</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a59237f3212fb327cb55f2b53a3999243" kindref="member">status_expire</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a868e7e809b9528db0248f399ef6ae280" kindref="member">status_stop</ref>);</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a3aa32dd66843c8b8d54ecd2576305a11" kindref="member">status_anytime_timer</ref>,<sp/>NULL,<sp/>NULL);</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a0d04ce35fd012454a415b265ee291c10" kindref="member">status_sync_timer</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a43eb2123f52c8b76a63dabeb71ec213d" kindref="member">duration_expire</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" kindref="member">duration_stop</ref>);</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="timer_2timer__api_2src_2main_8c_1a7ec0e2259c28a2551f30c27da8c7a1f3" kindref="member">timer_init</ref>(&amp;<ref refid="timer_2timer__api_2src_2main_8c_1a7612a2d4a9b79d9fdbb3d772a863d36b" kindref="member">remain_timer</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a43eb2123f52c8b76a63dabeb71ec213d" kindref="member">duration_expire</ref>,<sp/><ref refid="timer_2timer__api_2src_2main_8c_1a9d629187c4606b616cf9b4d985c3f158" kindref="member">duration_stop</ref>);</highlight></codeline>
<codeline lineno="835"><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a" kindref="member">IS_ENABLED</ref>(CONFIG_MULTITHREADING))<sp/>{</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__thread__apis_1gafec540511e6d2e0a074a5bfb515c53b0" kindref="member">k_thread_access_grant</ref>(<ref refid="group__thread__apis_1ga7ef1ed0fb9513df8096ede1e52fc76b2" kindref="member">k_current_get</ref>(),<sp/>&amp;ktimer,<sp/>&amp;timer0,<sp/>&amp;timer1,</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;timer2,<sp/>&amp;timer3,<sp/>&amp;timer4);</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="840"><highlight class="normal"></highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga2ad3ecbbedb04310c6a4ac997a8d3550" kindref="member">ztest_test_suite</ref>(timer_api,</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1gaf19dfe9baa08c481c11fd0470e30bc3f" kindref="member">ztest_unit_test</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1af2e8a67ef3d8fcb46042effc3a3688fe" kindref="member">test_time_conversions</ref>),</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1gaf7cea6ba08cc085dfe78f6f051ba32aa" kindref="member">test_timer_duration_period</ref>),</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga81b2ddaaa7dc2df0502a7dc5da38a81b" kindref="member">test_timer_restart</ref>),</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga43e8aa930c3dc637f9d4d6524b4b521c" kindref="member">test_timer_period_0</ref>),</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga6397043572ff0582b5f30c34c95cc0ed" kindref="member">test_timer_period_k_forever</ref>),</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga6537e057cfbdec8841182ef73d536fae" kindref="member">test_timer_expirefn_null</ref>),</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1gac9e54492a90d9dac6034f7c054deba9a" kindref="member">test_timer_periodicity</ref>),</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga53039f9a0d03980e0a3c69f0e59a42bc" kindref="member">test_timer_status_get</ref>),</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga10b481da2bfd144c8902689d06f16434" kindref="member">test_timer_status_get_anytime</ref>),</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga19487c94e7c631027e3ba4ac02daa8f2" kindref="member">test_timer_status_sync</ref>),</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga46fd6c4d7cd4638cf87e9ca10c524ada" kindref="member">test_timer_k_define</ref>),</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga97a4618f1cbc7631944596f36b44daea" kindref="member">test_timer_user_data</ref>),</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="group__kernel__timer__tests_1ga484adb1538ba16eb0f708e932167e75b" kindref="member">test_timer_remaining</ref>),</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1a54d25484bec7db0fe64cbfc27be4ac0a" kindref="member">test_timeout_abs</ref>),</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga6a7a2f0d98c31455701a282b8e1862cb" kindref="member">ztest_user_unit_test</ref>(<ref refid="timer_2timer__api_2src_2main_8c_1aadee2feb34b08bf226d973bbe93ee8ac" kindref="member">test_sleep_abs</ref>));</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ztest__test__deprecated_1ga7f76df4df4bf68a605b923fed8e5465c" kindref="member">ztest_run_test_suite</ref>(timer_api);</highlight></codeline>
<codeline lineno="858"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="tests/kernel/timer/timer_api/src/main.c"/>
  </compounddef>
</doxygen>
