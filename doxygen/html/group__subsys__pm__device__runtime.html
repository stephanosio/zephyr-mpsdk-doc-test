<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: Device Runtime</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.0-rc3</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__subsys__pm__device__runtime.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Device Runtime<div class="ingroups"><a class="el" href="group__subsys.html">Subsystems</a> &raquo; <a class="el" href="group__subsys__pm.html">Power Management (PM)</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Device Runtime Power Management API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaabcd2cc694c9e201dd87bf42f02b454c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subsys__pm__device__runtime.html#gaabcd2cc694c9e201dd87bf42f02b454c">pm_device_runtime_enable</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:gaabcd2cc694c9e201dd87bf42f02b454c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable device runtime PM.  <a href="group__subsys__pm__device__runtime.html#gaabcd2cc694c9e201dd87bf42f02b454c">More...</a><br /></td></tr>
<tr class="separator:gaabcd2cc694c9e201dd87bf42f02b454c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7fc78138e282b0eae7da67876baee80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subsys__pm__device__runtime.html#gaa7fc78138e282b0eae7da67876baee80">pm_device_runtime_disable</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:gaa7fc78138e282b0eae7da67876baee80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable device runtime PM.  <a href="group__subsys__pm__device__runtime.html#gaa7fc78138e282b0eae7da67876baee80">More...</a><br /></td></tr>
<tr class="separator:gaa7fc78138e282b0eae7da67876baee80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga530d4be65757fb2276ab6f631953e045"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subsys__pm__device__runtime.html#ga530d4be65757fb2276ab6f631953e045">pm_device_runtime_get</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:ga530d4be65757fb2276ab6f631953e045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume a device based on usage count.  <a href="group__subsys__pm__device__runtime.html#ga530d4be65757fb2276ab6f631953e045">More...</a><br /></td></tr>
<tr class="separator:ga530d4be65757fb2276ab6f631953e045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98daba53a992fb6bd2c2b31cb445844f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subsys__pm__device__runtime.html#ga98daba53a992fb6bd2c2b31cb445844f">pm_device_runtime_put</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:ga98daba53a992fb6bd2c2b31cb445844f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend a device based on usage count.  <a href="group__subsys__pm__device__runtime.html#ga98daba53a992fb6bd2c2b31cb445844f">More...</a><br /></td></tr>
<tr class="separator:ga98daba53a992fb6bd2c2b31cb445844f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3eedd20c986f2ef8bd837263337b34b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subsys__pm__device__runtime.html#gab3eedd20c986f2ef8bd837263337b34b">pm_device_runtime_put_async</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:gab3eedd20c986f2ef8bd837263337b34b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend a device based on usage count (asynchronously).  <a href="group__subsys__pm__device__runtime.html#gab3eedd20c986f2ef8bd837263337b34b">More...</a><br /></td></tr>
<tr class="separator:gab3eedd20c986f2ef8bd837263337b34b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga605cd2a3d0ea31efe6bd0b9a6f723219"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subsys__pm__device__runtime.html#ga605cd2a3d0ea31efe6bd0b9a6f723219">pm_device_runtime_is_enabled</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:ga605cd2a3d0ea31efe6bd0b9a6f723219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if device runtime is enabled for a given device.  <a href="group__subsys__pm__device__runtime.html#ga605cd2a3d0ea31efe6bd0b9a6f723219">More...</a><br /></td></tr>
<tr class="separator:ga605cd2a3d0ea31efe6bd0b9a6f723219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac69c6b91803e7ee985b57143d7526e17"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subsys__pm__device__runtime.html#gac69c6b91803e7ee985b57143d7526e17">pm_device_runtime_init_suspended</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:gac69c6b91803e7ee985b57143d7526e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a device state to <a class="el" href="group__subsys__pm__device.html#gga561c0789071e3c3963f21f4c4a1bb2c6a03f61cb7cd5e4820c1c731500fd053b5">PM_DEVICE_STATE_SUSPENDED</a>.  <a href="group__subsys__pm__device__runtime.html#gac69c6b91803e7ee985b57143d7526e17">More...</a><br /></td></tr>
<tr class="separator:gac69c6b91803e7ee985b57143d7526e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6536a4c3bfaf286f70cec164da665f01"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subsys__pm__device__runtime.html#ga6536a4c3bfaf286f70cec164da665f01">pm_device_runtime_init_off</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:ga6536a4c3bfaf286f70cec164da665f01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a device state to <a class="el" href="group__subsys__pm__device.html#gga561c0789071e3c3963f21f4c4a1bb2c6a2456389354b744d4e96847e38f8b61c2">PM_DEVICE_STATE_OFF</a>.  <a href="group__subsys__pm__device__runtime.html#ga6536a4c3bfaf286f70cec164da665f01">More...</a><br /></td></tr>
<tr class="separator:ga6536a4c3bfaf286f70cec164da665f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Device Runtime Power Management API. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa7fc78138e282b0eae7da67876baee80" name="gaa7fc78138e282b0eae7da67876baee80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7fc78138e282b0eae7da67876baee80">&#9670;&nbsp;</a></span>pm_device_runtime_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pm_device_runtime_disable </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="device__runtime_8h.html">include/pm/device_runtime.h</a>&gt;</code></p>

<p>Disable device runtime PM. </p>
<p >If the device is currently suspended it will be resumed.</p>
<dl class="section user"><dt>Function properties (list may not be complete)</dt><dd> pre-kernel-ok  </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If the device runtime PM is disabled successfully. </td></tr>
    <tr><td class="paramname">-ENOSYS</td><td>If the functionality is not available. </td></tr>
    <tr><td class="paramname">-errno</td><td>Other negative errno, result of resuming the device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaabcd2cc694c9e201dd87bf42f02b454c" name="gaabcd2cc694c9e201dd87bf42f02b454c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabcd2cc694c9e201dd87bf42f02b454c">&#9670;&nbsp;</a></span>pm_device_runtime_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pm_device_runtime_enable </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="device__runtime_8h.html">include/pm/device_runtime.h</a>&gt;</code></p>

<p>Enable device runtime PM. </p>
<p >This function will enable runtime PM on the given device. If the device is in <a class="el" href="group__subsys__pm__device.html#gga561c0789071e3c3963f21f4c4a1bb2c6a54b207e01b4dfc5e1ff56149817120c7">PM_DEVICE_STATE_ACTIVE</a> state, the device will be suspended.</p>
<dl class="section user"><dt>Function properties (list may not be complete)</dt><dd> pre-kernel-ok  </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If the device runtime PM is enabled successfully. </td></tr>
    <tr><td class="paramname">-EPERM</td><td>If device has power state locked. </td></tr>
    <tr><td class="paramname">-ENOSYS</td><td>If the functionality is not available. </td></tr>
    <tr><td class="paramname">-errno</td><td>Other negative errno, result of suspending the device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__subsys__pm__device__runtime.html#gac69c6b91803e7ee985b57143d7526e17" title="Initialize a device state to PM_DEVICE_STATE_SUSPENDED.">pm_device_runtime_init_suspended()</a> </dd></dl>

</div>
</div>
<a id="ga530d4be65757fb2276ab6f631953e045" name="ga530d4be65757fb2276ab6f631953e045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga530d4be65757fb2276ab6f631953e045">&#9670;&nbsp;</a></span>pm_device_runtime_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pm_device_runtime_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="device__runtime_8h.html">include/pm/device_runtime.h</a>&gt;</code></p>

<p>Resume a device based on usage count. </p>
<p >This function will resume the device if the device is suspended (usage count equal to 0). In case of a resume failure, usage count and device state will be left unchanged. In all other cases, usage count will be incremented.</p>
<p >If the device is still being suspended as a result of calling <a class="el" href="group__subsys__pm__device__runtime.html#gab3eedd20c986f2ef8bd837263337b34b" title="Suspend a device based on usage count (asynchronously).">pm_device_runtime_put_async()</a>, this function will wait for the operation to finish to then resume the device.</p>
<dl class="section user"><dt>Function properties (list may not be complete)</dt><dd> pre-kernel-ok  </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If it succeeds. In case device runtime PM is not enabled or not available this function will be a no-op and will also return 0. </td></tr>
    <tr><td class="paramname">-errno</td><td>Other negative errno, result of the PM action callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6536a4c3bfaf286f70cec164da665f01" name="ga6536a4c3bfaf286f70cec164da665f01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6536a4c3bfaf286f70cec164da665f01">&#9670;&nbsp;</a></span>pm_device_runtime_init_off()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pm_device_runtime_init_off </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="device__runtime_8h.html">include/pm/device_runtime.h</a>&gt;</code></p>

<p>Initialize a device state to <a class="el" href="group__subsys__pm__device.html#gga561c0789071e3c3963f21f4c4a1bb2c6a2456389354b744d4e96847e38f8b61c2">PM_DEVICE_STATE_OFF</a>. </p>
<p >By default device state is initialized to <a class="el" href="group__subsys__pm__device.html#gga561c0789071e3c3963f21f4c4a1bb2c6a54b207e01b4dfc5e1ff56149817120c7">PM_DEVICE_STATE_ACTIVE</a>. In general, this makes sense because the device initialization function will resume and configure a device, leaving it operational. However, when device runtime PM is enabled, the device may be connected to a power domain, at which case it won't be powered at boot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac69c6b91803e7ee985b57143d7526e17" name="gac69c6b91803e7ee985b57143d7526e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac69c6b91803e7ee985b57143d7526e17">&#9670;&nbsp;</a></span>pm_device_runtime_init_suspended()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pm_device_runtime_init_suspended </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="device__runtime_8h.html">include/pm/device_runtime.h</a>&gt;</code></p>

<p>Initialize a device state to <a class="el" href="group__subsys__pm__device.html#gga561c0789071e3c3963f21f4c4a1bb2c6a03f61cb7cd5e4820c1c731500fd053b5">PM_DEVICE_STATE_SUSPENDED</a>. </p>
<p >By default device state is initialized to <a class="el" href="group__subsys__pm__device.html#gga561c0789071e3c3963f21f4c4a1bb2c6a54b207e01b4dfc5e1ff56149817120c7">PM_DEVICE_STATE_ACTIVE</a>. In general, this makes sense because the device initialization function will resume and configure a device, leaving it operational. However, when device runtime PM is enabled, the device may not be resumed and the init function will just enable device runtime PM. If that is the case, this function can be used to set the initial device state to <a class="el" href="group__subsys__pm__device.html#gga561c0789071e3c3963f21f4c4a1bb2c6a03f61cb7cd5e4820c1c731500fd053b5">PM_DEVICE_STATE_SUSPENDED</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga605cd2a3d0ea31efe6bd0b9a6f723219" name="ga605cd2a3d0ea31efe6bd0b9a6f723219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga605cd2a3d0ea31efe6bd0b9a6f723219">&#9670;&nbsp;</a></span>pm_device_runtime_is_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> pm_device_runtime_is_enabled </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="device__runtime_8h.html">include/pm/device_runtime.h</a>&gt;</code></p>

<p>Check if device runtime is enabled for a given device. </p>
<dl class="section user"><dt>Function properties (list may not be complete)</dt><dd> pre-kernel-ok  </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>If device has device runtime PM enabled. </td></tr>
    <tr><td class="paramname">false</td><td>If the device has device runtime PM disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__subsys__pm__device__runtime.html#gaabcd2cc694c9e201dd87bf42f02b454c" title="Enable device runtime PM.">pm_device_runtime_enable()</a> </dd></dl>

</div>
</div>
<a id="ga98daba53a992fb6bd2c2b31cb445844f" name="ga98daba53a992fb6bd2c2b31cb445844f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98daba53a992fb6bd2c2b31cb445844f">&#9670;&nbsp;</a></span>pm_device_runtime_put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pm_device_runtime_put </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="device__runtime_8h.html">include/pm/device_runtime.h</a>&gt;</code></p>

<p>Suspend a device based on usage count. </p>
<p >This function will suspend the device if the device is no longer required (usage count equal to 0). In case of suspend failure, usage count and device state will be left unchanged. In all other cases, usage count will be decremented (down to 0).</p>
<dl class="section user"><dt>Function properties (list may not be complete)</dt><dd> pre-kernel-ok  </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If it succeeds. In case device runtime PM is not enabled or not available this function will be a no-op and will also return 0. </td></tr>
    <tr><td class="paramname">-EALREADY</td><td>If device is already suspended (can only happen if get/put calls are unbalanced). </td></tr>
    <tr><td class="paramname">-errno</td><td>Other negative errno, result of the action callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__subsys__pm__device__runtime.html#gab3eedd20c986f2ef8bd837263337b34b" title="Suspend a device based on usage count (asynchronously).">pm_device_runtime_put_async()</a> </dd></dl>

</div>
</div>
<a id="gab3eedd20c986f2ef8bd837263337b34b" name="gab3eedd20c986f2ef8bd837263337b34b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3eedd20c986f2ef8bd837263337b34b">&#9670;&nbsp;</a></span>pm_device_runtime_put_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pm_device_runtime_put_async </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="device__runtime_8h.html">include/pm/device_runtime.h</a>&gt;</code></p>

<p>Suspend a device based on usage count (asynchronously). </p>
<p >This function will schedule the device suspension if the device is no longer required (usage count equal to 0). In all other cases, usage count will be decremented (down to 0).</p>
<dl class="section note"><dt>Note</dt><dd>Asynchronous operations are not supported when in pre-kernel mode. In this case, the function will be blocking (equivalent to <a class="el" href="group__subsys__pm__device__runtime.html#ga98daba53a992fb6bd2c2b31cb445844f" title="Suspend a device based on usage count.">pm_device_runtime_put()</a>).</dd></dl>
<dl class="section user"><dt>Function properties (list may not be complete)</dt><dd> pre-kernel-ok  ,  async  </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If it succeeds. In case device runtime PM is not enabled or not available this function will be a no-op and will also return 0. </td></tr>
    <tr><td class="paramname">-EALREADY</td><td>If device is already suspended (can only happen if get/put calls are unbalanced).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__subsys__pm__device__runtime.html#ga98daba53a992fb6bd2c2b31cb445844f" title="Suspend a device based on usage count.">pm_device_runtime_put()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 21 2022 04:59:41 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
