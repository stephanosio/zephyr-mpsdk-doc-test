<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: bt_ots_cb Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.0-rc3</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structbt__ots__cb.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">bt_ots_cb Struct Reference<div class="ingroups"><a class="el" href="group__bluetooth.html">Bluetooth APIs</a> &raquo; <a class="el" href="group__bt__ots.html">Object Transfer Service (OTS)</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>OTS callback structure.  
 <a href="structbt__ots__cb.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ots_8h_source.html">ots.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a0c95b2bc382474be3c1ae849936a8206"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__ots__cb.html#a0c95b2bc382474be3c1ae849936a8206">obj_created</a> )(struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id, const struct <a class="el" href="structbt__ots__obj__add__param.html">bt_ots_obj_add_param</a> *add_param, struct <a class="el" href="structbt__ots__obj__created__desc.html">bt_ots_obj_created_desc</a> *created_desc)</td></tr>
<tr class="memdesc:a0c95b2bc382474be3c1ae849936a8206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object created callback.  <a href="structbt__ots__cb.html#a0c95b2bc382474be3c1ae849936a8206">More...</a><br /></td></tr>
<tr class="separator:a0c95b2bc382474be3c1ae849936a8206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd78b43691e83c1faa86c1748ab2359"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__ots__cb.html#a2fd78b43691e83c1faa86c1748ab2359">obj_deleted</a> )(struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id)</td></tr>
<tr class="memdesc:a2fd78b43691e83c1faa86c1748ab2359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object deleted callback.  <a href="structbt__ots__cb.html#a2fd78b43691e83c1faa86c1748ab2359">More...</a><br /></td></tr>
<tr class="separator:a2fd78b43691e83c1faa86c1748ab2359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8602aef0fd001d6768dc20c8873742d"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__ots__cb.html#ae8602aef0fd001d6768dc20c8873742d">obj_selected</a> )(struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id)</td></tr>
<tr class="memdesc:ae8602aef0fd001d6768dc20c8873742d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object selected callback.  <a href="structbt__ots__cb.html#ae8602aef0fd001d6768dc20c8873742d">More...</a><br /></td></tr>
<tr class="separator:ae8602aef0fd001d6768dc20c8873742d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67ca0032b8b2fd9b8fbe6c117c186dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a5c5d83d87790efd59ea916c2b99f9118">ssize_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__ots__cb.html#ab67ca0032b8b2fd9b8fbe6c117c186dd">obj_read</a> )(struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id, void **<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t len, off_t offset)</td></tr>
<tr class="memdesc:ab67ca0032b8b2fd9b8fbe6c117c186dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object read callback.  <a href="structbt__ots__cb.html#ab67ca0032b8b2fd9b8fbe6c117c186dd">More...</a><br /></td></tr>
<tr class="separator:ab67ca0032b8b2fd9b8fbe6c117c186dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31da190c9c6bee086e4d7f8fcd6fbb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a5c5d83d87790efd59ea916c2b99f9118">ssize_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__ots__cb.html#ae31da190c9c6bee086e4d7f8fcd6fbb5">obj_write</a> )(struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id, const void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t len, off_t offset, size_t rem)</td></tr>
<tr class="memdesc:ae31da190c9c6bee086e4d7f8fcd6fbb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object write callback.  <a href="structbt__ots__cb.html#ae31da190c9c6bee086e4d7f8fcd6fbb5">More...</a><br /></td></tr>
<tr class="separator:ae31da190c9c6bee086e4d7f8fcd6fbb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070929082fd31c4af609ff34e59a9cc7"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__ots__cb.html#a070929082fd31c4af609ff34e59a9cc7">obj_name_written</a> )(struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id, const char *name)</td></tr>
<tr class="memdesc:a070929082fd31c4af609ff34e59a9cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object name written callback.  <a href="structbt__ots__cb.html#a070929082fd31c4af609ff34e59a9cc7">More...</a><br /></td></tr>
<tr class="separator:a070929082fd31c4af609ff34e59a9cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >OTS callback structure. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a0c95b2bc382474be3c1ae849936a8206" name="a0c95b2bc382474be3c1ae849936a8206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c95b2bc382474be3c1ae849936a8206">&#9670;&nbsp;</a></span>obj_created</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* bt_ots_cb::obj_created) (struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id, const struct <a class="el" href="structbt__ots__obj__add__param.html">bt_ots_obj_add_param</a> *add_param, struct <a class="el" href="structbt__ots__obj__created__desc.html">bt_ots_obj_created_desc</a> *created_desc)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object created callback. </p>
<p >This callback is called whenever a new object is created. Application can reject this request by returning an error when it does not have necessary resources to hold this new object. This callback is also triggered when the server creates a new object with <a class="el" href="group__bt__ots.html#gabf59844edd0ffd434acd94bad9a7b52c" title="Add an object to the OTS instance.">bt_ots_obj_add()</a> API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ots</td><td>OTS instance. </td></tr>
    <tr><td class="paramname">conn</td><td>The connection that is requesting object creation or NULL if object is created by <a class="el" href="group__bt__ots.html#gabf59844edd0ffd434acd94bad9a7b52c" title="Add an object to the OTS instance.">bt_ots_obj_add()</a>. </td></tr>
    <tr><td class="paramname">id</td><td>Object ID. </td></tr>
    <tr><td class="paramname">add_param</td><td>Object creation requested parameters. </td></tr>
    <tr><td class="paramname">created_desc</td><td>Created object descriptor that shall be filled by the receiver of this callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success or negative value in case of error. </dd>
<dd>
-ENOTSUP if object type is not supported </dd>
<dd>
-ENOMEM if no available space for new object. </dd>
<dd>
-EINVAL if an invalid parameter is provided </dd>
<dd>
other negative values are treated as a generic operation failure </dd></dl>

</div>
</div>
<a id="a2fd78b43691e83c1faa86c1748ab2359" name="a2fd78b43691e83c1faa86c1748ab2359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd78b43691e83c1faa86c1748ab2359">&#9670;&nbsp;</a></span>obj_deleted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* bt_ots_cb::obj_deleted) (struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object deleted callback. </p>
<p >This callback is called whenever an object is deleted. It is also triggered when the server deletes an object with <a class="el" href="group__bt__ots.html#ga872ba5a73fa4e617b9d48e7361af74c7" title="Delete an object from the OTS instance.">bt_ots_obj_delete()</a> API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ots</td><td>OTS instance. </td></tr>
    <tr><td class="paramname">conn</td><td>The connection that deleted the object or NULL if this request came from the server. </td></tr>
    <tr><td class="paramname">id</td><td>Object ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">When</td><td>an error is indicated by using a negative value, the object delete procedure is aborted and a corresponding failed status is returned to the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success. </dd>
<dd>
-EBUSY if the object is locked. This is generally not expected to be returned by the application as the OTS layer tracks object accesses. An object locked status is returned to the client. </dd>
<dd>
Other negative values in case of error. A generic operation failed status is returned to the client. </dd></dl>

</div>
</div>
<a id="a070929082fd31c4af609ff34e59a9cc7" name="a070929082fd31c4af609ff34e59a9cc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070929082fd31c4af609ff34e59a9cc7">&#9670;&nbsp;</a></span>obj_name_written</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_ots_cb::obj_name_written) (struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id, const char *name)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object name written callback. </p>
<p >This callback is called when the object name is written. This is a notification to the application that the object name has been updated by the OTS service implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ots</td><td>OTS instance. </td></tr>
    <tr><td class="paramname">conn</td><td>The connection that wrote object name. </td></tr>
    <tr><td class="paramname">id</td><td>Object ID. </td></tr>
    <tr><td class="paramname">name</td><td>Object name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab67ca0032b8b2fd9b8fbe6c117c186dd" name="ab67ca0032b8b2fd9b8fbe6c117c186dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67ca0032b8b2fd9b8fbe6c117c186dd">&#9670;&nbsp;</a></span>obj_read</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a5c5d83d87790efd59ea916c2b99f9118">ssize_t</a>(* bt_ots_cb::obj_read) (struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id, void **<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t len, off_t offset)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object read callback. </p>
<p >This callback is called multiple times during the Object read operation. OTS module will keep requesting successive Object fragments from the application until the read operation is completed. The end of read operation is indicated by NULL data parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ots</td><td>OTS instance. </td></tr>
    <tr><td class="paramname">conn</td><td>The connection that read object. </td></tr>
    <tr><td class="paramname">id</td><td>Object ID. </td></tr>
    <tr><td class="paramname">data</td><td>In: NULL once the read operations is completed. Out: Next chunk of data to be sent. </td></tr>
    <tr><td class="paramname">len</td><td>Remaining length requested by the client. </td></tr>
    <tr><td class="paramname">offset</td><td>Object data offset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data length to be sent via data parameter. This value shall be smaller or equal to the len parameter. </dd>
<dd>
Negative value in case of an error. </dd></dl>

</div>
</div>
<a id="ae8602aef0fd001d6768dc20c8873742d" name="ae8602aef0fd001d6768dc20c8873742d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8602aef0fd001d6768dc20c8873742d">&#9670;&nbsp;</a></span>obj_selected</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_ots_cb::obj_selected) (struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object selected callback. </p>
<p >This callback is called on successful object selection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ots</td><td>OTS instance. </td></tr>
    <tr><td class="paramname">conn</td><td>The connection that selected new object. </td></tr>
    <tr><td class="paramname">id</td><td>Object ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae31da190c9c6bee086e4d7f8fcd6fbb5" name="ae31da190c9c6bee086e4d7f8fcd6fbb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31da190c9c6bee086e4d7f8fcd6fbb5">&#9670;&nbsp;</a></span>obj_write</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a5c5d83d87790efd59ea916c2b99f9118">ssize_t</a>(* bt_ots_cb::obj_write) (struct bt_ots *ots, struct bt_conn *conn, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> id, const void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t len, off_t offset, size_t rem)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object write callback. </p>
<p >This callback is called multiple times during the Object write operation. OTS module will keep providing successive Object fragments to the application until the write operation is completed. The offset and length of each write fragment is validated by the OTS module to be within the allocated size of the object. The remaining length indicates data length remaining to be written and will decrease each write iteration until it reaches 0 in the last write fragment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ots</td><td>OTS instance. </td></tr>
    <tr><td class="paramname">conn</td><td>The connection that wrote object. </td></tr>
    <tr><td class="paramname">id</td><td>Object ID. </td></tr>
    <tr><td class="paramname">data</td><td>Next chunk of data to be written. </td></tr>
    <tr><td class="paramname">len</td><td>Length of the current chunk of data in the buffer. </td></tr>
    <tr><td class="paramname">offset</td><td>Object data offset. </td></tr>
    <tr><td class="paramname">rem</td><td>Remaining length in the write operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written in case of success, if the number of bytes written does not match len, -EIO is returned to the L2CAP layer. </dd>
<dd>
A negative value in case of an error. </dd>
<dd>
-EINPROGRESS has a special meaning and is unsupported at the moment. It should not be returned. </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/bluetooth/services/<a class="el" href="ots_8h_source.html">ots.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structbt__ots__cb.html">bt_ots_cb</a></li>
    <li class="footer">Generated on Mon Feb 21 2022 04:59:42 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
