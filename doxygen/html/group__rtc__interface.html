<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: Real Time Clock interfaces</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.0-rc3</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__rtc__interface.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Real Time Clock interfaces<div class="ingroups"><a class="el" href="group__io__interfaces.html">Device Driver APIs</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>RTC DS3231 Driver-Specific API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaxim__ds3231__alarm.html">maxim_ds3231_alarm</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information defining the alarm configuration.  <a href="structmaxim__ds3231__alarm.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaxim__ds3231__syncpoint.html">maxim_ds3231_syncpoint</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the RTC clock against system clocks.  <a href="structmaxim__ds3231__syncpoint.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga684b29dc1c11d8df698437f27e6d0403"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga684b29dc1c11d8df698437f27e6d0403">maxim_ds3231_alarm_callback_handler_t</a>) (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> id, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> syncclock, void *<a class="el" href="timer_2timer__api_2src_2main_8c.html#a862de962130decf51321624c10294338">user_data</a>)</td></tr>
<tr class="memdesc:ga684b29dc1c11d8df698437f27e6d0403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signature for DS3231 alarm callbacks.  <a href="group__rtc__interface.html#ga684b29dc1c11d8df698437f27e6d0403">More...</a><br /></td></tr>
<tr class="separator:ga684b29dc1c11d8df698437f27e6d0403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59541c849327f388169ca3a15df0ba57"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga59541c849327f388169ca3a15df0ba57">maxim_ds3231_notify_callback</a>) (const struct <a class="el" href="structdevice.html">device</a> *dev, struct <a class="el" href="structsys__notify.html">sys_notify</a> *notify, int res)</td></tr>
<tr class="memdesc:ga59541c849327f388169ca3a15df0ba57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signature used to notify a user of the DS3231 that an asynchronous operation has completed.  <a href="group__rtc__interface.html#ga59541c849327f388169ca3a15df0ba57">More...</a><br /></td></tr>
<tr class="separator:ga59541c849327f388169ca3a15df0ba57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga68e1512974db4b526a632e140fa7eed8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga68e1512974db4b526a632e140fa7eed8">maxim_ds3231_read_syncclock</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:ga68e1512974db4b526a632e140fa7eed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the local synchronization clock.  <a href="group__rtc__interface.html#ga68e1512974db4b526a632e140fa7eed8">More...</a><br /></td></tr>
<tr class="separator:ga68e1512974db4b526a632e140fa7eed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e4a3f34023be910d33fd7f89f81dba3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga6e4a3f34023be910d33fd7f89f81dba3">maxim_ds3231_syncclock_frequency</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:ga6e4a3f34023be910d33fd7f89f81dba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the frequency of the synchronization clock.  <a href="group__rtc__interface.html#ga6e4a3f34023be910d33fd7f89f81dba3">More...</a><br /></td></tr>
<tr class="separator:ga6e4a3f34023be910d33fd7f89f81dba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a41193eb70b147eb623ff07be3b3954"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga1a41193eb70b147eb623ff07be3b3954">maxim_ds3231_ctrl_update</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> set_bits, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> clear_bits)</td></tr>
<tr class="memdesc:ga1a41193eb70b147eb623ff07be3b3954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set and clear specific bits in the control register.  <a href="group__rtc__interface.html#ga1a41193eb70b147eb623ff07be3b3954">More...</a><br /></td></tr>
<tr class="separator:ga1a41193eb70b147eb623ff07be3b3954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1073100b5943141333de8cfd0cd8ac2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga1073100b5943141333de8cfd0cd8ac2b">maxim_ds3231_stat_update</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> set_bits, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> clear_bits)</td></tr>
<tr class="memdesc:ga1073100b5943141333de8cfd0cd8ac2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the ctrl_stat register then set and clear bits in it.  <a href="group__rtc__interface.html#ga1073100b5943141333de8cfd0cd8ac2b">More...</a><br /></td></tr>
<tr class="separator:ga1073100b5943141333de8cfd0cd8ac2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc9bd9ff8a2107c08a7d9ca02c162be1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#gabc9bd9ff8a2107c08a7d9ca02c162be1">maxim_ds3231_get_alarm</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> id, struct <a class="el" href="structmaxim__ds3231__alarm.html">maxim_ds3231_alarm</a> *cfg)</td></tr>
<tr class="memdesc:gabc9bd9ff8a2107c08a7d9ca02c162be1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a DS3231 alarm configuration.  <a href="group__rtc__interface.html#gabc9bd9ff8a2107c08a7d9ca02c162be1">More...</a><br /></td></tr>
<tr class="separator:gabc9bd9ff8a2107c08a7d9ca02c162be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f876ad2e16e88d80a2f914be3df49b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga8f876ad2e16e88d80a2f914be3df49b1">maxim_ds3231_set_alarm</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> id, const struct <a class="el" href="structmaxim__ds3231__alarm.html">maxim_ds3231_alarm</a> *cfg)</td></tr>
<tr class="memdesc:ga8f876ad2e16e88d80a2f914be3df49b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure a DS3231 alarm.  <a href="group__rtc__interface.html#ga8f876ad2e16e88d80a2f914be3df49b1">More...</a><br /></td></tr>
<tr class="separator:ga8f876ad2e16e88d80a2f914be3df49b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdf39bc4983b12646ad3b18ccfc1a7dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#gabdf39bc4983b12646ad3b18ccfc1a7dc">maxim_ds3231_synchronize</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, struct <a class="el" href="structsys__notify.html">sys_notify</a> *notify)</td></tr>
<tr class="memdesc:gabdf39bc4983b12646ad3b18ccfc1a7dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronize the RTC against the local clock.  <a href="group__rtc__interface.html#gabdf39bc4983b12646ad3b18ccfc1a7dc">More...</a><br /></td></tr>
<tr class="separator:gabdf39bc4983b12646ad3b18ccfc1a7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45656b5994c063b77d04f60c71d42c5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga45656b5994c063b77d04f60c71d42c5b">maxim_ds3231_req_syncpoint</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, struct <a class="el" href="structk__poll__signal.html">k_poll_signal</a> *<a class="el" href="test__poll_8c.html#a88e5e0522432c8373efb54e842b92a69">signal</a>)</td></tr>
<tr class="memdesc:ga45656b5994c063b77d04f60c71d42c5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to update the synchronization point.  <a href="group__rtc__interface.html#ga45656b5994c063b77d04f60c71d42c5b">More...</a><br /></td></tr>
<tr class="separator:ga45656b5994c063b77d04f60c71d42c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e9fab406fd3b9b20c0c7011bfbb7a8a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga4e9fab406fd3b9b20c0c7011bfbb7a8a">maxim_ds3231_get_syncpoint</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, struct <a class="el" href="structmaxim__ds3231__syncpoint.html">maxim_ds3231_syncpoint</a> *syncpoint)</td></tr>
<tr class="memdesc:ga4e9fab406fd3b9b20c0c7011bfbb7a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the most recent synchronization point.  <a href="group__rtc__interface.html#ga4e9fab406fd3b9b20c0c7011bfbb7a8a">More...</a><br /></td></tr>
<tr class="separator:ga4e9fab406fd3b9b20c0c7011bfbb7a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga485db29a3aca59000798d5ae16ad7041"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#ga485db29a3aca59000798d5ae16ad7041">maxim_ds3231_set</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, const struct <a class="el" href="structmaxim__ds3231__syncpoint.html">maxim_ds3231_syncpoint</a> *syncpoint, struct <a class="el" href="structsys__notify.html">sys_notify</a> *notify)</td></tr>
<tr class="memdesc:ga485db29a3aca59000798d5ae16ad7041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the RTC to a time consistent with the provided synchronization.  <a href="group__rtc__interface.html#ga485db29a3aca59000798d5ae16ad7041">More...</a><br /></td></tr>
<tr class="separator:ga485db29a3aca59000798d5ae16ad7041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2091298eb9b94da29ad79616b707bad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtc__interface.html#gab2091298eb9b94da29ad79616b707bad">maxim_ds3231_check_alarms</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:gab2091298eb9b94da29ad79616b707bad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for and clear flags indicating that an alarm has fired.  <a href="group__rtc__interface.html#gab2091298eb9b94da29ad79616b707bad">More...</a><br /></td></tr>
<tr class="separator:gab2091298eb9b94da29ad79616b707bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >RTC DS3231 Driver-Specific API. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga684b29dc1c11d8df698437f27e6d0403" name="ga684b29dc1c11d8df698437f27e6d0403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga684b29dc1c11d8df698437f27e6d0403">&#9670;&nbsp;</a></span>maxim_ds3231_alarm_callback_handler_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* maxim_ds3231_alarm_callback_handler_t) (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> id, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> syncclock, void *<a class="el" href="timer_2timer__api_2src_2main_8c.html#a862de962130decf51321624c10294338">user_data</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Signature for DS3231 alarm callbacks. </p>
<p >The alarm callback is invoked from the system work queue thread. At the point the callback is invoked the corresponding alarm flags will have been cleared from the device status register. The callback is permitted to invoke operations on the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the device from which the callback originated </td></tr>
    <tr><td class="paramname">id</td><td>the alarm id </td></tr>
    <tr><td class="paramname">syncclock</td><td>the value from <a class="el" href="group__rtc__interface.html#ga68e1512974db4b526a632e140fa7eed8" title="Read the local synchronization clock.">maxim_ds3231_read_syncclock()</a> at the time the alarm interrupt was processed. </td></tr>
    <tr><td class="paramname">user_data</td><td>the corresponding parameter from <a class="el" href="structmaxim__ds3231__alarm.html#a192fb8c10246bfe466e74aafbb45d720" title="User-provided pointer passed to alarm callback.">maxim_ds3231_alarm::user_data</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga59541c849327f388169ca3a15df0ba57" name="ga59541c849327f388169ca3a15df0ba57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59541c849327f388169ca3a15df0ba57">&#9670;&nbsp;</a></span>maxim_ds3231_notify_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* maxim_ds3231_notify_callback) (const struct <a class="el" href="structdevice.html">device</a> *dev, struct <a class="el" href="structsys__notify.html">sys_notify</a> *notify, int res)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Signature used to notify a user of the DS3231 that an asynchronous operation has completed. </p>
<p >Functions compatible with this type are subject to all the constraints of <a class="el" href="group__sys__notify__apis.html#ga2a9ffe35a5ad44fb7c5b00bb5c5c0499" title="Generic signature used to notify of result completion by callback.">sys_notify_generic_callback</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer</td></tr>
    <tr><td class="paramname">notify</td><td>the notification structure provided in the call</td></tr>
    <tr><td class="paramname">res</td><td>the result of the operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab2091298eb9b94da29ad79616b707bad" name="gab2091298eb9b94da29ad79616b707bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2091298eb9b94da29ad79616b707bad">&#9670;&nbsp;</a></span>maxim_ds3231_check_alarms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_check_alarms </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Check for and clear flags indicating that an alarm has fired. </p>
<p >Returns a mask indicating alarms that are marked as having fired, and clears from stat the flags that it found set. Alarms that have been configured with a callback are not represented in the return value.</p>
<p >This API may be used when a persistent alarm has been programmed.</p>
<dl class="section note"><dt>Note</dt><dd>This function is <em>supervisor</em>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a non-negative value that may have MAXIM_DS3231_ALARM1 and/or MAXIM_DS3231_ALARM2 set, or a negative error code. </dd></dl>

</div>
</div>
<a id="ga1a41193eb70b147eb623ff07be3b3954" name="ga1a41193eb70b147eb623ff07be3b3954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a41193eb70b147eb623ff07be3b3954">&#9670;&nbsp;</a></span>maxim_ds3231_ctrl_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_ctrl_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>set_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>clear_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Set and clear specific bits in the control register. </p>
<dl class="section note"><dt>Note</dt><dd>This function assumes the device register cache is valid. It will not read the register value, and it will write to the device only if the value changes as a result of applying the set and clear changes.</dd>
<dd>
Unlike <a class="el" href="group__rtc__interface.html#ga1073100b5943141333de8cfd0cd8ac2b" title="Read the ctrl_stat register then set and clear bits in it.">maxim_ds3231_stat_update()</a> the return value from this function indicates the register value after changes were made. That return value is cached for use in subsequent operations.</dd>
<dd>
This function is <em>supervisor</em>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the non-negative updated value of the register, or a negative error code from an I2C transaction. </dd></dl>

</div>
</div>
<a id="gabc9bd9ff8a2107c08a7d9ca02c162be1" name="gabc9bd9ff8a2107c08a7d9ca02c162be1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc9bd9ff8a2107c08a7d9ca02c162be1">&#9670;&nbsp;</a></span>maxim_ds3231_get_alarm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_get_alarm </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmaxim__ds3231__alarm.html">maxim_ds3231_alarm</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Read a DS3231 alarm configuration. </p>
<p >The alarm configuration data is read from the device and reconstructed into the output parameter.</p>
<dl class="section note"><dt>Note</dt><dd>This function is <em>supervisor</em>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer.</td></tr>
    <tr><td class="paramname">id</td><td>the alarm index, which must be 0 (for the 1 s resolution alarm) or 1 (for the 1 min resolution alarm).</td></tr>
    <tr><td class="paramname">cfg</td><td>a pointer to a structure into which the configured alarm data will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a non-negative value indicating successful conversion, or a negative error code from an I2C transaction or invalid parameter. </dd></dl>

</div>
</div>
<a id="ga4e9fab406fd3b9b20c0c7011bfbb7a8a" name="ga4e9fab406fd3b9b20c0c7011bfbb7a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e9fab406fd3b9b20c0c7011bfbb7a8a">&#9670;&nbsp;</a></span>maxim_ds3231_get_syncpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_get_syncpoint </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmaxim__ds3231__syncpoint.html">maxim_ds3231_syncpoint</a> *&#160;</td>
          <td class="paramname"><em>syncpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Retrieve the most recent synchronization point. </p>
<p >This function returns the synchronization data last captured using <a class="el" href="group__rtc__interface.html#gabdf39bc4983b12646ad3b18ccfc1a7dc" title="Synchronize the RTC against the local clock.">maxim_ds3231_synchronize()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer.</td></tr>
    <tr><td class="paramname">syncpoint</td><td>where to store the synchronization data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-negative</td><td>on success </td></tr>
    <tr><td class="paramname">-ENOENT</td><td>if no syncpoint has been captured </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga68e1512974db4b526a632e140fa7eed8" name="ga68e1512974db4b526a632e140fa7eed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68e1512974db4b526a632e140fa7eed8">&#9670;&nbsp;</a></span>maxim_ds3231_read_syncclock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> maxim_ds3231_read_syncclock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Read the local synchronization clock. </p>
<p >Synchronization aligns the DS3231 real-time clock with a stable monotonic local clock which should have a frequency between 1 kHz and 1 MHz and be itself synchronized with the primary system time clock. The accuracy of the alignment and the maximum time between synchronization updates is affected by the resolution of this clock.</p>
<p >On some systems the hardware clock from k_cycles_get_32() is suitable, but on others that clock advances too quickly. The frequency of the target-specific clock is provided by <a class="el" href="group__rtc__interface.html#ga6e4a3f34023be910d33fd7f89f81dba3" title="Get the frequency of the synchronization clock.">maxim_ds3231_syncclock_frequency()</a>.</p>
<p >At this time the value is captured from <code><a class="el" href="group__clock__apis.html#ga9253cfb7b46af4d8994349323ce9872b" title="Get system uptime (32-bit version).">k_uptime_get_32()</a></code>; future kernel extensions may make a higher-resolution clock available.</p>
<dl class="section note"><dt>Note</dt><dd>This function is <em>isr-ok</em>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current value of the synchronization clock. </dd></dl>

</div>
</div>
<a id="ga45656b5994c063b77d04f60c71d42c5b" name="ga45656b5994c063b77d04f60c71d42c5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45656b5994c063b77d04f60c71d42c5b">&#9670;&nbsp;</a></span>maxim_ds3231_req_syncpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_req_syncpoint </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structk__poll__signal.html">k_poll_signal</a> *&#160;</td>
          <td class="paramname"><em>signal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Request to update the synchronization point. </p>
<p >This is a variant of <a class="el" href="group__rtc__interface.html#gabdf39bc4983b12646ad3b18ccfc1a7dc" title="Synchronize the RTC against the local clock.">maxim_ds3231_synchronize()</a> for use from user threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer.</td></tr>
    <tr><td class="paramname">signal</td><td>pointer to a valid and ready-to-be-signalled <a class="el" href="structk__poll__signal.html">k_poll_signal</a>. May be NULL to request a synchronization point be collected without notifying when it has been updated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-negative</td><td>on success </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if a synchronization or set is currently in progress </td></tr>
    <tr><td class="paramname">-ENOTSUP</td><td>if the required interrupt is not configured </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga485db29a3aca59000798d5ae16ad7041" name="ga485db29a3aca59000798d5ae16ad7041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga485db29a3aca59000798d5ae16ad7041">&#9670;&nbsp;</a></span>maxim_ds3231_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmaxim__ds3231__syncpoint.html">maxim_ds3231_syncpoint</a> *&#160;</td>
          <td class="paramname"><em>syncpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__notify.html">sys_notify</a> *&#160;</td>
          <td class="paramname"><em>notify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Set the RTC to a time consistent with the provided synchronization. </p>
<p >The RTC advances one tick per second with no access to sub-second precision, and setting the clock resets the internal countdown chain. This function implements the magic necessary to set the clock while retaining as much sub-second accuracy as possible. It requires a synchronization point that pairs sub-second resolution civil time with a local synchronization clock captured at the same instant. The set operation may take as long as 1 second to complete; notification of completion is provided through the <code>notify</code> parameter.</p>
<dl class="section note"><dt>Note</dt><dd>This function is <em>supervisor</em>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer.</td></tr>
    <tr><td class="paramname">syncpoint</td><td>the structure providing the synchronization point.</td></tr>
    <tr><td class="paramname">notify</td><td>pointer to the object used to specify asynchronous function behavior and store completion information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-negative</td><td>on success </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if syncpoint or notify are null </td></tr>
    <tr><td class="paramname">-ENOTSUP</td><td>if the required interrupt signal is not configured </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if a synchronization or set is currently in progress </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8f876ad2e16e88d80a2f914be3df49b1" name="ga8f876ad2e16e88d80a2f914be3df49b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f876ad2e16e88d80a2f914be3df49b1">&#9670;&nbsp;</a></span>maxim_ds3231_set_alarm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_set_alarm </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmaxim__ds3231__alarm.html">maxim_ds3231_alarm</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Configure a DS3231 alarm. </p>
<p >The alarm configuration is validated and stored into the device.</p>
<p >To cancel an alarm use <a class="el" href="group__counter__interface.html#gade0bb97c0dfa03676d11ee47601d4cee" title="Cancel an alarm on a channel.">counter_cancel_channel_alarm()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>This function is <em>supervisor</em>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer.</td></tr>
    <tr><td class="paramname">id</td><td>0 Analog to counter index. <code>ALARM1</code> is 0 and has 1 s resolution, <code>ALARM2</code> is 1 and has 1 minute resolution.</td></tr>
    <tr><td class="paramname">cfg</td><td>a pointer to the desired alarm configuration. Both alarms are configured; if only one is to change the application must supply the existing configuration for the other.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a non-negative value on success, or a negative error code from an I2C transaction or an invalid parameter. </dd></dl>

</div>
</div>
<a id="ga1073100b5943141333de8cfd0cd8ac2b" name="ga1073100b5943141333de8cfd0cd8ac2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1073100b5943141333de8cfd0cd8ac2b">&#9670;&nbsp;</a></span>maxim_ds3231_stat_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_stat_update </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>set_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>clear_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Read the ctrl_stat register then set and clear bits in it. </p>
<p >The content of the ctrl_stat register will be read, then the set and clear bits applied and the result written back to the device (regardless of whether there appears to be a change in value).</p>
<p >OSF, A1F, and A2F will be written with 1s if the corresponding bits do not appear in either <code>set_bits</code> or <code>clear_bits</code>. This ensures that if any flag becomes set between the read and the write that indicator will not be cleared.</p>
<dl class="section note"><dt>Note</dt><dd>Unlike <a class="el" href="group__rtc__interface.html#ga1a41193eb70b147eb623ff07be3b3954" title="Set and clear specific bits in the control register.">maxim_ds3231_ctrl_update()</a> the return value from this function indicates the register value before any changes were made.</dd>
<dd>
This function is <em>supervisor</em>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer</td></tr>
    <tr><td class="paramname">set_bits</td><td>bits to be set when writing back. Setting bits other than <a class="el" href="maxim__ds3231_8h.html#aa966f6de1e7662e66fac1d631b44d021">MAXIM_DS3231_REG_STAT_EN32kHz</a> will have no effect.</td></tr>
    <tr><td class="paramname">clear_bits</td><td>bits to be cleared when writing back. Include the bits for the status flags you want to clear.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the non-negative register value as originally read (disregarding the effect of clears and sets), or a negative error code from an I2C transaction. </dd></dl>

</div>
</div>
<a id="ga6e4a3f34023be910d33fd7f89f81dba3" name="ga6e4a3f34023be910d33fd7f89f81dba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e4a3f34023be910d33fd7f89f81dba3">&#9670;&nbsp;</a></span>maxim_ds3231_syncclock_frequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> maxim_ds3231_syncclock_frequency </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Get the frequency of the synchronization clock. </p>
<p >Provides the frequency of the clock used in <a class="el" href="group__rtc__interface.html#ga68e1512974db4b526a632e140fa7eed8" title="Read the local synchronization clock.">maxim_ds3231_read_syncclock()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the frequency of the selected synchronization clock. </dd></dl>

</div>
</div>
<a id="gabdf39bc4983b12646ad3b18ccfc1a7dc" name="gabdf39bc4983b12646ad3b18ccfc1a7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdf39bc4983b12646ad3b18ccfc1a7dc">&#9670;&nbsp;</a></span>maxim_ds3231_synchronize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxim_ds3231_synchronize </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__notify.html">sys_notify</a> *&#160;</td>
          <td class="paramname"><em>notify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="maxim__ds3231_8h.html">include/drivers/rtc/maxim_ds3231.h</a>&gt;</code></p>

<p>Synchronize the RTC against the local clock. </p>
<p >The RTC advances one tick per second with no access to sub-second precision. Synchronizing clocks at sub-second resolution requires enabling a 1pps signal then capturing the system clocks in a GPIO callback. This function provides that operation.</p>
<p >Synchronization is performed in asynchronously, and may take as long as 1 s to complete; notification of completion is provided through the <code>notify</code> parameter.</p>
<p >Applications should use <a class="el" href="group__rtc__interface.html#ga4e9fab406fd3b9b20c0c7011bfbb7a8a" title="Retrieve the most recent synchronization point.">maxim_ds3231_get_syncpoint()</a> to retrieve the synchronization data collected by this operation.</p>
<dl class="section note"><dt>Note</dt><dd>This function is <em>supervisor</em>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the DS3231 device pointer.</td></tr>
    <tr><td class="paramname">notify</td><td>pointer to the object used to specify asynchronous function behavior and store completion information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-negative</td><td>on success </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if a synchronization or set is currently in progress </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if notify is not provided </td></tr>
    <tr><td class="paramname">-ENOTSUP</td><td>if the required interrupt is not configured </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 21 2022 04:59:41 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
