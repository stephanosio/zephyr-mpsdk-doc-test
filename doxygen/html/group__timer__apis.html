<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: Timer APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.0-rc3</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__timer__apis.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Timer APIs<div class="ingroups"><a class="el" href="group__kernel__apis.html">Kernel APIs</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa267fcb0a2e18cd0da29e9f9612510a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#gaa267fcb0a2e18cd0da29e9f9612510a6">K_TIMER_DEFINE</a>(name,  expiry_fn,  stop_fn)</td></tr>
<tr class="memdesc:gaa267fcb0a2e18cd0da29e9f9612510a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statically define and initialize a timer.  <a href="group__timer__apis.html#gaa267fcb0a2e18cd0da29e9f9612510a6">More...</a><br /></td></tr>
<tr class="separator:gaa267fcb0a2e18cd0da29e9f9612510a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga37bcd42a457855a68b74570c979ababa"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga37bcd42a457855a68b74570c979ababa">k_timer_expiry_t</a>) (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:ga37bcd42a457855a68b74570c979ababa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer expiry function type.  <a href="group__timer__apis.html#ga37bcd42a457855a68b74570c979ababa">More...</a><br /></td></tr>
<tr class="separator:ga37bcd42a457855a68b74570c979ababa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16fbd44c08a26c4fdeb7f542f2a03a15"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga16fbd44c08a26c4fdeb7f542f2a03a15">k_timer_stop_t</a>) (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:ga16fbd44c08a26c4fdeb7f542f2a03a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer stop function type.  <a href="group__timer__apis.html#ga16fbd44c08a26c4fdeb7f542f2a03a15">More...</a><br /></td></tr>
<tr class="separator:ga16fbd44c08a26c4fdeb7f542f2a03a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga318c846a740b901e5d56876a47ad7f61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga318c846a740b901e5d56876a47ad7f61">k_timer_init</a> (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>, <a class="el" href="group__timer__apis.html#ga37bcd42a457855a68b74570c979ababa">k_timer_expiry_t</a> expiry_fn, <a class="el" href="group__timer__apis.html#ga16fbd44c08a26c4fdeb7f542f2a03a15">k_timer_stop_t</a> stop_fn)</td></tr>
<tr class="memdesc:ga318c846a740b901e5d56876a47ad7f61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a timer.  <a href="group__timer__apis.html#ga318c846a740b901e5d56876a47ad7f61">More...</a><br /></td></tr>
<tr class="separator:ga318c846a740b901e5d56876a47ad7f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ba70e9f059ff52fd2057ab89ea7f2ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga3ba70e9f059ff52fd2057ab89ea7f2ee">k_timer_start</a> (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>, <a class="el" href="structk__timeout__t.html">k_timeout_t</a> duration, <a class="el" href="structk__timeout__t.html">k_timeout_t</a> period)</td></tr>
<tr class="memdesc:ga3ba70e9f059ff52fd2057ab89ea7f2ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a timer.  <a href="group__timer__apis.html#ga3ba70e9f059ff52fd2057ab89ea7f2ee">More...</a><br /></td></tr>
<tr class="separator:ga3ba70e9f059ff52fd2057ab89ea7f2ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d3e3356a10d36570e16f7920e4c8772"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga8d3e3356a10d36570e16f7920e4c8772">k_timer_stop</a> (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:ga8d3e3356a10d36570e16f7920e4c8772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a timer.  <a href="group__timer__apis.html#ga8d3e3356a10d36570e16f7920e4c8772">More...</a><br /></td></tr>
<tr class="separator:ga8d3e3356a10d36570e16f7920e4c8772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad532f4834cd4cf8be27b089e6ea347ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#gad532f4834cd4cf8be27b089e6ea347ce">k_timer_status_get</a> (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:gad532f4834cd4cf8be27b089e6ea347ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read timer status.  <a href="group__timer__apis.html#gad532f4834cd4cf8be27b089e6ea347ce">More...</a><br /></td></tr>
<tr class="separator:gad532f4834cd4cf8be27b089e6ea347ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81d6d95b7021e26ad4cab161318e04f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga81d6d95b7021e26ad4cab161318e04f2">k_timer_status_sync</a> (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:ga81d6d95b7021e26ad4cab161318e04f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronize thread to timer expiration.  <a href="group__timer__apis.html#ga81d6d95b7021e26ad4cab161318e04f2">More...</a><br /></td></tr>
<tr class="separator:ga81d6d95b7021e26ad4cab161318e04f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga022b4cf5c8d0ee21b6a3b04fd425533f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__clock__apis.html#ga9832cb0adc2d1866420e5c370a0863e2">k_ticks_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga022b4cf5c8d0ee21b6a3b04fd425533f">k_timer_expires_ticks</a> (const struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:ga022b4cf5c8d0ee21b6a3b04fd425533f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get next expiration time of a timer, in system ticks.  <a href="group__timer__apis.html#ga022b4cf5c8d0ee21b6a3b04fd425533f">More...</a><br /></td></tr>
<tr class="separator:ga022b4cf5c8d0ee21b6a3b04fd425533f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1176b36b960e786f68eaededf99a88b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__clock__apis.html#ga9832cb0adc2d1866420e5c370a0863e2">k_ticks_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga1176b36b960e786f68eaededf99a88b4">k_timer_remaining_ticks</a> (const struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:ga1176b36b960e786f68eaededf99a88b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get time remaining before a timer next expires, in system ticks.  <a href="group__timer__apis.html#ga1176b36b960e786f68eaededf99a88b4">More...</a><br /></td></tr>
<tr class="separator:ga1176b36b960e786f68eaededf99a88b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c6d8b0aa59bfa0f5924e95ccf756259"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga6c6d8b0aa59bfa0f5924e95ccf756259">k_timer_remaining_get</a> (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:ga6c6d8b0aa59bfa0f5924e95ccf756259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get time remaining before a timer next expires.  <a href="group__timer__apis.html#ga6c6d8b0aa59bfa0f5924e95ccf756259">More...</a><br /></td></tr>
<tr class="separator:ga6c6d8b0aa59bfa0f5924e95ccf756259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadba1884961e790dd9c5d567de91cc7e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#gadba1884961e790dd9c5d567de91cc7e2">k_timer_user_data_set</a> (struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>, void *<a class="el" href="timer_2timer__api_2src_2main_8c.html#a862de962130decf51321624c10294338">user_data</a>)</td></tr>
<tr class="memdesc:gadba1884961e790dd9c5d567de91cc7e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate user-specific data with a timer.  <a href="group__timer__apis.html#gadba1884961e790dd9c5d567de91cc7e2">More...</a><br /></td></tr>
<tr class="separator:gadba1884961e790dd9c5d567de91cc7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19a7d99a01a83828efd7f0d3bf2dd358"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__timer__apis.html#ga19a7d99a01a83828efd7f0d3bf2dd358">k_timer_user_data_get</a> (const struct k_timer *<a class="el" href="test__sched__timeslice__and__lock_8c.html#a4ced20aea8a1e880c43f684a920b85da">timer</a>)</td></tr>
<tr class="memdesc:ga19a7d99a01a83828efd7f0d3bf2dd358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the user-specific data from a timer.  <a href="group__timer__apis.html#ga19a7d99a01a83828efd7f0d3bf2dd358">More...</a><br /></td></tr>
<tr class="separator:ga19a7d99a01a83828efd7f0d3bf2dd358"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaa267fcb0a2e18cd0da29e9f9612510a6" name="gaa267fcb0a2e18cd0da29e9f9612510a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa267fcb0a2e18cd0da29e9f9612510a6">&#9670;&nbsp;</a></span>K_TIMER_DEFINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_TIMER_DEFINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expiry_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">stop_fn&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>
<b>Value:</b><div class="fragment"><div class="line">        <a class="code hl_define" href="group__iterable__section__apis.html#gabed6642b8cc06863ce97dd536698004d">STRUCT_SECTION_ITERABLE</a>(k_timer, name) = \</div>
<div class="line">                Z_TIMER_INITIALIZER(name, expiry_fn, stop_fn)</div>
<div class="ttc" id="agroup__iterable__section__apis_html_gabed6642b8cc06863ce97dd536698004d"><div class="ttname"><a href="group__iterable__section__apis.html#gabed6642b8cc06863ce97dd536698004d">STRUCT_SECTION_ITERABLE</a></div><div class="ttdeci">#define STRUCT_SECTION_ITERABLE(struct_type, name)</div><div class="ttdoc">Defines a new iterable section.</div><div class="ttdef"><b>Definition:</b> common.h:210</div></div>
</div><!-- fragment -->
<p>Statically define and initialize a timer. </p>
<p >The timer can be accessed outside the module where it is defined using:</p>
<div class="fragment"><div class="line"><span class="keyword">extern</span> <span class="keyword">struct </span>k_timer &lt;name&gt;; </div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the timer variable. </td></tr>
    <tr><td class="paramname">expiry_fn</td><td>Function to invoke each time the timer expires. </td></tr>
    <tr><td class="paramname">stop_fn</td><td>Function to invoke if the timer is stopped while running. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga37bcd42a457855a68b74570c979ababa" name="ga37bcd42a457855a68b74570c979ababa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37bcd42a457855a68b74570c979ababa">&#9670;&nbsp;</a></span>k_timer_expiry_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">k_timer_expiry_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Timer expiry function type. </p>
<p >A timer's expiry function is executed by the system clock interrupt handler each time the timer expires. The expiry function is optional, and is only invoked if the timer has been initialized with one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga16fbd44c08a26c4fdeb7f542f2a03a15" name="ga16fbd44c08a26c4fdeb7f542f2a03a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16fbd44c08a26c4fdeb7f542f2a03a15">&#9670;&nbsp;</a></span>k_timer_stop_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">k_timer_stop_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Timer stop function type. </p>
<p >A timer's stop function is executed if the timer is stopped prematurely. The function runs in the context of call that stops the timer. As <a class="el" href="group__timer__apis.html#ga8d3e3356a10d36570e16f7920e4c8772" title="Stop a timer.">k_timer_stop()</a> can be invoked from an ISR, the stop function must be callable from interrupt context (isr-ok).</p>
<p >The stop function is optional, and is only invoked if the timer has been initialized with one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga022b4cf5c8d0ee21b6a3b04fd425533f" name="ga022b4cf5c8d0ee21b6a3b04fd425533f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga022b4cf5c8d0ee21b6a3b04fd425533f">&#9670;&nbsp;</a></span>k_timer_expires_ticks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__clock__apis.html#ga9832cb0adc2d1866420e5c370a0863e2">k_ticks_t</a> k_timer_expires_ticks </td>
          <td>(</td>
          <td class="paramtype">const struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Get next expiration time of a timer, in system ticks. </p>
<p >This routine returns the future system uptime reached at the next time of expiration of the timer, in units of system ticks. If the timer is not running, current system time is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>The timer object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Uptime of expiration, in ticks </dd></dl>

</div>
</div>
<a id="ga318c846a740b901e5d56876a47ad7f61" name="ga318c846a740b901e5d56876a47ad7f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga318c846a740b901e5d56876a47ad7f61">&#9670;&nbsp;</a></span>k_timer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_timer_init </td>
          <td>(</td>
          <td class="paramtype">struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timer__apis.html#ga37bcd42a457855a68b74570c979ababa">k_timer_expiry_t</a>&#160;</td>
          <td class="paramname"><em>expiry_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timer__apis.html#ga16fbd44c08a26c4fdeb7f542f2a03a15">k_timer_stop_t</a>&#160;</td>
          <td class="paramname"><em>stop_fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Initialize a timer. </p>
<p >This routine initializes a timer, prior to its first use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer. </td></tr>
    <tr><td class="paramname">expiry_fn</td><td>Function to invoke each time the timer expires. </td></tr>
    <tr><td class="paramname">stop_fn</td><td>Function to invoke if the timer is stopped while running. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6c6d8b0aa59bfa0f5924e95ccf756259" name="ga6c6d8b0aa59bfa0f5924e95ccf756259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c6d8b0aa59bfa0f5924e95ccf756259">&#9670;&nbsp;</a></span>k_timer_remaining_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> k_timer_remaining_get </td>
          <td>(</td>
          <td class="paramtype">struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Get time remaining before a timer next expires. </p>
<p >This routine computes the (approximate) time remaining before a running timer next expires. If the timer is not running, it returns zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Remaining time (in milliseconds). </dd></dl>

</div>
</div>
<a id="ga1176b36b960e786f68eaededf99a88b4" name="ga1176b36b960e786f68eaededf99a88b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1176b36b960e786f68eaededf99a88b4">&#9670;&nbsp;</a></span>k_timer_remaining_ticks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__clock__apis.html#ga9832cb0adc2d1866420e5c370a0863e2">k_ticks_t</a> k_timer_remaining_ticks </td>
          <td>(</td>
          <td class="paramtype">const struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Get time remaining before a timer next expires, in system ticks. </p>
<p >This routine computes the time remaining before a running timer next expires, in units of system ticks. If the timer is not running, it returns zero. </p>

</div>
</div>
<a id="ga3ba70e9f059ff52fd2057ab89ea7f2ee" name="ga3ba70e9f059ff52fd2057ab89ea7f2ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ba70e9f059ff52fd2057ab89ea7f2ee">&#9670;&nbsp;</a></span>k_timer_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_timer_start </td>
          <td>(</td>
          <td class="paramtype">struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structk__timeout__t.html">k_timeout_t</a>&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structk__timeout__t.html">k_timeout_t</a>&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Start a timer. </p>
<p >This routine starts a timer, and resets its status to zero. The timer begins counting down using the specified duration and period values.</p>
<p >Attempting to start a timer that is already running is permitted. The timer's status is reset to zero and the timer begins counting down using the new duration and period values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer. </td></tr>
    <tr><td class="paramname">duration</td><td>Initial timer duration. </td></tr>
    <tr><td class="paramname">period</td><td>Timer period. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad532f4834cd4cf8be27b089e6ea347ce" name="gad532f4834cd4cf8be27b089e6ea347ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad532f4834cd4cf8be27b089e6ea347ce">&#9670;&nbsp;</a></span>k_timer_status_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> k_timer_status_get </td>
          <td>(</td>
          <td class="paramtype">struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Read timer status. </p>
<p >This routine reads the timer's status, which indicates the number of times it has expired since its status was last read.</p>
<p >Calling this routine resets the timer's status to zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Timer status. </dd></dl>

</div>
</div>
<a id="ga81d6d95b7021e26ad4cab161318e04f2" name="ga81d6d95b7021e26ad4cab161318e04f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81d6d95b7021e26ad4cab161318e04f2">&#9670;&nbsp;</a></span>k_timer_status_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> k_timer_status_sync </td>
          <td>(</td>
          <td class="paramtype">struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Synchronize thread to timer expiration. </p>
<p >This routine blocks the calling thread until the timer's status is non-zero (indicating that it has expired at least once since it was last examined) or the timer is stopped. If the timer status is already non-zero, or the timer is already stopped, the caller continues without waiting.</p>
<p >Calling this routine resets the timer's status to zero.</p>
<p >This routine must not be used by interrupt handlers, since they are not allowed to block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Timer status. </dd></dl>

</div>
</div>
<a id="ga8d3e3356a10d36570e16f7920e4c8772" name="ga8d3e3356a10d36570e16f7920e4c8772"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d3e3356a10d36570e16f7920e4c8772">&#9670;&nbsp;</a></span>k_timer_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_timer_stop </td>
          <td>(</td>
          <td class="paramtype">struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Stop a timer. </p>
<p >This routine stops a running timer prematurely. The timer's stop function, if one exists, is invoked by the caller.</p>
<p >Attempting to stop a timer that is not running is permitted, but has no effect on the timer.</p>
<dl class="section note"><dt>Note</dt><dd>The stop handler has to be callable from ISRs if <em>k_timer_stop</em> is to be called from ISRs.</dd></dl>
<dl class="section user"><dt>Function properties (list may not be complete)</dt><dd> isr-ok  </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga19a7d99a01a83828efd7f0d3bf2dd358" name="ga19a7d99a01a83828efd7f0d3bf2dd358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19a7d99a01a83828efd7f0d3bf2dd358">&#9670;&nbsp;</a></span>k_timer_user_data_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * k_timer_user_data_get </td>
          <td>(</td>
          <td class="paramtype">const struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Retrieve the user-specific data from a timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The user data. </dd></dl>

</div>
</div>
<a id="gadba1884961e790dd9c5d567de91cc7e2" name="gadba1884961e790dd9c5d567de91cc7e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadba1884961e790dd9c5d567de91cc7e2">&#9670;&nbsp;</a></span>k_timer_user_data_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_timer_user_data_set </td>
          <td>(</td>
          <td class="paramtype">struct k_timer *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Associate user-specific data with a timer. </p>
<p >This routine records the <em>user_data</em> with the <em>timer</em>, to be retrieved later.</p>
<p >It can be used e.g. in a timer handler shared across multiple subsystems to retrieve data specific to the subsystem this timer is associated with.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Address of timer. </td></tr>
    <tr><td class="paramname">user_data</td><td>User data to associate with the timer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 21 2022 04:59:42 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
