<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: include/arch/xtensa/cache.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.99</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('arch_2xtensa_2cache_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cache.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;xtensa/config/core-isa.h&gt;</code><br />
<code>#include &lt;<a class="el" href="toolchain_8h_source.html">toolchain.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="util_8h_source.html">sys/util.h</a>&gt;</code><br />
</div>
<p><a href="arch_2xtensa_2cache_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a835f1838cf0cec9c6a16bacc62436f0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arch_2xtensa_2cache_8h.html#a835f1838cf0cec9c6a16bacc62436f0f">ARCH_XTENSA_SET_RPO_TLB</a>()</td></tr>
<tr class="separator:a835f1838cf0cec9c6a16bacc62436f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad832041ce747949ab59e18ae8f320ff4"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arch_2xtensa_2cache_8h.html#ad832041ce747949ab59e18ae8f320ff4">arch_xtensa_cached_ptr</a> (void *<a class="el" href="printk_8c.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>)</td></tr>
<tr class="memdesc:ad832041ce747949ab59e18ae8f320ff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return cached pointer to a RAM address.  <a href="arch_2xtensa_2cache_8h.html#ad832041ce747949ab59e18ae8f320ff4">More...</a><br /></td></tr>
<tr class="separator:ad832041ce747949ab59e18ae8f320ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41246fd4886a5136869e6672dfaf441c"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arch_2xtensa_2cache_8h.html#a41246fd4886a5136869e6672dfaf441c">arch_xtensa_uncached_ptr</a> (void *<a class="el" href="printk_8c.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>)</td></tr>
<tr class="memdesc:a41246fd4886a5136869e6672dfaf441c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return uncached pointer to a RAM address.  <a href="arch_2xtensa_2cache_8h.html#a41246fd4886a5136869e6672dfaf441c">More...</a><br /></td></tr>
<tr class="separator:a41246fd4886a5136869e6672dfaf441c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a835f1838cf0cec9c6a16bacc62436f0f" name="a835f1838cf0cec9c6a16bacc62436f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a835f1838cf0cec9c6a16bacc62436f0f">&#9670;&nbsp;</a></span>ARCH_XTENSA_SET_RPO_TLB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARCH_XTENSA_SET_RPO_TLB</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        <span class="keywordflow">do</span> {                            \</div>
<div class="line">        register <a class="code hl_typedef" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> addr = 0, addrincr = 0x20000000;      \</div>
<div class="line">        FOR_EACH(_SET_ONE_TLB, (;), 0, 1, 2, 3, 4, 5, 6, 7);    \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="astdint_8h_html_a0a8582351ac627ee8bde2973c825e47f"><div class="ttname"><a href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a></div><div class="ttdeci">__UINT32_TYPE__ uint32_t</div><div class="ttdef"><b>Definition:</b> stdint.h:60</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad832041ce747949ab59e18ae8f320ff4" name="ad832041ce747949ab59e18ae8f320ff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad832041ce747949ab59e18ae8f320ff4">&#9670;&nbsp;</a></span>arch_xtensa_cached_ptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * arch_xtensa_cached_ptr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return cached pointer to a RAM address. </p>
<p >The Xtensa coherence architecture maps addressable RAM twice, in two different 512MB regions whose L1 cache settings can be controlled independently. So for any given pointer, it is possible to convert it to and from a cached version.</p>
<p >This function takes a pointer to any addressible object (either in cacheable memory or not) and returns a pointer that can be used to refer to the same memory through the L1 data cache. Data read through the resulting pointer will reflect locally cached values on the current CPU if they exist, and writes will go first into the cache and be written back later.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="arch_2xtensa_2cache_8h.html#a41246fd4886a5136869e6672dfaf441c" title="Return uncached pointer to a RAM address.">arch_xtensa_uncached_ptr()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>A pointer to a valid C object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the same object via the L1 dcache </dd></dl>

</div>
</div>
<a id="a41246fd4886a5136869e6672dfaf441c" name="a41246fd4886a5136869e6672dfaf441c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41246fd4886a5136869e6672dfaf441c">&#9670;&nbsp;</a></span>arch_xtensa_uncached_ptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * arch_xtensa_uncached_ptr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return uncached pointer to a RAM address. </p>
<p >The Xtensa coherence architecture maps addressable RAM twice, in two different 512MB regions whose L1 cache settings can be controlled independently. So for any given pointer, it is possible to convert it to and from a cached version.</p>
<p >This function takes a pointer to any addressible object (either in cacheable memory or not) and returns a pointer that can be used to refer to the same memory while bypassing the L1 data cache. Data in the L1 cache will not be inspected nor modified by the access.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="arch_2xtensa_2cache_8h.html#ad832041ce747949ab59e18ae8f320ff4" title="Return cached pointer to a RAM address.">arch_xtensa_cached_ptr()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>A pointer to a valid C object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the same object bypassing the L1 dcache </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_7c40e03ac1dfef8b430578d46da2b8fd.html">arch</a></li><li class="navelem"><a class="el" href="dir_e47386a906cba25909d8a5a57d14f484.html">xtensa</a></li><li class="navelem"><a class="el" href="arch_2xtensa_2cache_8h.html">cache.h</a></li>
    <li class="footer">Generated on Sat Mar 5 2022 05:00:45 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
