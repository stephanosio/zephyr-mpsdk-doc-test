<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: MP Tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.99</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__kernel__mp__tests.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">MP Tests<div class="ingroups"><a class="el" href="group__all__tests.html">Zephyr Tests</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Tests for multi processing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf062cee72746962208d8ce5075ed2d05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kernel__mp__tests.html#gaf062cee72746962208d8ce5075ed2d05">test_mp_start</a> (void)</td></tr>
<tr class="memdesc:gaf062cee72746962208d8ce5075ed2d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test to verify CPU start.  <a href="group__kernel__mp__tests.html#gaf062cee72746962208d8ce5075ed2d05">More...</a><br /></td></tr>
<tr class="separator:gaf062cee72746962208d8ce5075ed2d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Tests for multi processing. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf062cee72746962208d8ce5075ed2d05" name="gaf062cee72746962208d8ce5075ed2d05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf062cee72746962208d8ce5075ed2d05">&#9670;&nbsp;</a></span>test_mp_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_mp_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="mp_2src_2main_8c.html">tests/kernel/mp/src/main.c</a>&gt;</code></p>

<p>Test to verify CPU start. </p>
<p >Test Objective:</p><ul>
<li>To verify kernel architecture layer shall provide a means to start non-boot CPUs on SMP systems. The way we verify it is to call it by give it parameters especially the target executing function, etc. Then check if the function is running or not.</li>
</ul>
<p >Testing techniques:</p><ul>
<li>Interface testing, function and block box testing, dynamic analysis and testing</li>
</ul>
<p >Prerequisite Conditions:</p><ul>
<li>CONFIG_MP_NUM_CPUS &gt; 1</li>
</ul>
<p >Input Specifications:</p><ul>
<li>CPU ID: the cpu want to start</li>
<li>Stack structure</li>
<li>Stack size</li>
<li>Target executing function</li>
<li>An argument that pass to the function</li>
</ul>
<p >Test Procedure:</p><ol type="1">
<li>In main thread, given and set a global variable cpu_arg to 12345.</li>
<li>Call <a class="el" href="group__arch-smp.html#gad25e65419116c6bb3e6d6362e780fb83" title="Start a numbered CPU on a MP-capable system.">arch_start_cpu()</a> with parameters</li>
<li>Enter a while loop and wait for cpu_running equals to 1.</li>
<li>In target function, check if the address is &amp;cpu_arg and its content equal to 12345.</li>
<li>Set the global flag varible cpu_running to 1.</li>
<li>In main thread, check if the cpu_running equals to 1.</li>
</ol>
<p >Expected Test Result:</p><ul>
<li>The given function execute cpu is running and .</li>
</ul>
<p >Pass/Fail Criteria:</p><ul>
<li>Successful if the check of step 4, 6 are all pass.</li>
<li>Failure if one of the check of step 4, 6 is failed.</li>
</ul>
<p >Assumptions and Constraints:</p><ul>
<li>This test using for the platform that support MP or SMP, in our current scenario which own over two CPUs.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__arch-smp.html#gad25e65419116c6bb3e6d6362e780fb83" title="Start a numbered CPU on a MP-capable system.">arch_start_cpu()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Mar 5 2022 05:00:47 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
