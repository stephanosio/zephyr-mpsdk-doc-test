<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: bt_l2cap_chan_ops Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.99</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structbt__l2cap__chan__ops.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">bt_l2cap_chan_ops Struct Reference<div class="ingroups"><a class="el" href="group__bluetooth.html">Bluetooth APIs</a> &raquo; <a class="el" href="group__bt__l2cap.html">L2CAP</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>L2CAP Channel operations structure.  
 <a href="structbt__l2cap__chan__ops.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="l2cap_8h_source.html">l2cap.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a3a4dd75a11c9867adcade6d288dec2de"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#a3a4dd75a11c9867adcade6d288dec2de">connected</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td></tr>
<tr class="memdesc:a3a4dd75a11c9867adcade6d288dec2de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel connected callback.  <a href="structbt__l2cap__chan__ops.html#a3a4dd75a11c9867adcade6d288dec2de">More...</a><br /></td></tr>
<tr class="separator:a3a4dd75a11c9867adcade6d288dec2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5fcc77a5174de6e3933bb6a14e4ad3"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#a2e5fcc77a5174de6e3933bb6a14e4ad3">disconnected</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td></tr>
<tr class="memdesc:a2e5fcc77a5174de6e3933bb6a14e4ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel disconnected callback.  <a href="structbt__l2cap__chan__ops.html#a2e5fcc77a5174de6e3933bb6a14e4ad3">More...</a><br /></td></tr>
<tr class="separator:a2e5fcc77a5174de6e3933bb6a14e4ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f3290f9bd04fb5fe562c620dff6984"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#a12f3290f9bd04fb5fe562c620dff6984">encrypt_change</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> hci_status)</td></tr>
<tr class="memdesc:a12f3290f9bd04fb5fe562c620dff6984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel encrypt_change callback.  <a href="structbt__l2cap__chan__ops.html#a12f3290f9bd04fb5fe562c620dff6984">More...</a><br /></td></tr>
<tr class="separator:a12f3290f9bd04fb5fe562c620dff6984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab973539dd8b5e3ab115042a03362f141"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnet__buf.html">net_buf</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#ab973539dd8b5e3ab115042a03362f141">alloc_buf</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td></tr>
<tr class="memdesc:ab973539dd8b5e3ab115042a03362f141"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel alloc_buf callback.  <a href="structbt__l2cap__chan__ops.html#ab973539dd8b5e3ab115042a03362f141">More...</a><br /></td></tr>
<tr class="separator:ab973539dd8b5e3ab115042a03362f141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab419d3c52c08e0dfda236466d7cadd"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#a0ab419d3c52c08e0dfda236466d7cadd">recv</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan, struct <a class="el" href="structnet__buf.html">net_buf</a> *buf)</td></tr>
<tr class="memdesc:a0ab419d3c52c08e0dfda236466d7cadd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel recv callback.  <a href="structbt__l2cap__chan__ops.html#a0ab419d3c52c08e0dfda236466d7cadd">More...</a><br /></td></tr>
<tr class="separator:a0ab419d3c52c08e0dfda236466d7cadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770c09f3fb10c9d1e069333d22803d1a"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#a770c09f3fb10c9d1e069333d22803d1a">sent</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td></tr>
<tr class="memdesc:a770c09f3fb10c9d1e069333d22803d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel sent callback.  <a href="structbt__l2cap__chan__ops.html#a770c09f3fb10c9d1e069333d22803d1a">More...</a><br /></td></tr>
<tr class="separator:a770c09f3fb10c9d1e069333d22803d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be7fadf07368750cc33cf034d3073e7"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#a4be7fadf07368750cc33cf034d3073e7">status</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan, <a class="el" href="atomic_8h.html#a124f07c3a788e53c3a40e4e1c06d8af8">atomic_t</a> *status)</td></tr>
<tr class="memdesc:a4be7fadf07368750cc33cf034d3073e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel status callback.  <a href="structbt__l2cap__chan__ops.html#a4be7fadf07368750cc33cf034d3073e7">More...</a><br /></td></tr>
<tr class="separator:a4be7fadf07368750cc33cf034d3073e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d974d0e472626cb1e5cd898a3dcbca6"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#a6d974d0e472626cb1e5cd898a3dcbca6">released</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td></tr>
<tr class="separator:a6d974d0e472626cb1e5cd898a3dcbca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba426353897bc3a57c936a98acab839"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__l2cap__chan__ops.html#afba426353897bc3a57c936a98acab839">reconfigured</a> )(struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td></tr>
<tr class="memdesc:afba426353897bc3a57c936a98acab839"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel reconfigured callback.  <a href="structbt__l2cap__chan__ops.html#afba426353897bc3a57c936a98acab839">More...</a><br /></td></tr>
<tr class="separator:afba426353897bc3a57c936a98acab839"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >L2CAP Channel operations structure. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ab973539dd8b5e3ab115042a03362f141" name="ab973539dd8b5e3ab115042a03362f141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab973539dd8b5e3ab115042a03362f141">&#9670;&nbsp;</a></span>alloc_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnet__buf.html">net_buf</a> *(* bt_l2cap_chan_ops::alloc_buf) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel alloc_buf callback. </p>
<p >If this callback is provided the channel will use it to allocate buffers to store incoming data. Channels that requires segmentation must set this callback. If the application has not set a callback the L2CAP SDU MTU will be truncated to <a class="el" href="group__bt__l2cap.html#ga13b93a8f09157fbcf739fa4949840efe">BT_L2CAP_SDU_RX_MTU</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel requesting a buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated buffer. </dd></dl>

</div>
</div>
<a id="a3a4dd75a11c9867adcade6d288dec2de" name="a3a4dd75a11c9867adcade6d288dec2de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a4dd75a11c9867adcade6d288dec2de">&#9670;&nbsp;</a></span>connected</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_l2cap_chan_ops::connected) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel connected callback. </p>
<p >If this callback is provided it will be called whenever the connection completes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel that has been connected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2e5fcc77a5174de6e3933bb6a14e4ad3" name="a2e5fcc77a5174de6e3933bb6a14e4ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5fcc77a5174de6e3933bb6a14e4ad3">&#9670;&nbsp;</a></span>disconnected</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_l2cap_chan_ops::disconnected) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel disconnected callback. </p>
<p >If this callback is provided it will be called whenever the channel is disconnected, including when a connection gets rejected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel that has been Disconnected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12f3290f9bd04fb5fe562c620dff6984" name="a12f3290f9bd04fb5fe562c620dff6984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12f3290f9bd04fb5fe562c620dff6984">&#9670;&nbsp;</a></span>encrypt_change</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_l2cap_chan_ops::encrypt_change) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> hci_status)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel encrypt_change callback. </p>
<p >If this callback is provided it will be called whenever the security level changed (indirectly link encryption done) or authentication procedure fails. In both cases security initiator and responder got the final status (HCI status) passed by related to encryption and authentication events from local host's controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel which has made encryption status changed. </td></tr>
    <tr><td class="paramname">status</td><td>HCI status of performed security procedure caused by channel security requirements. The value is populated by HCI layer and set to 0 when success and to non-zero (reference to HCI Error Codes) when security/authentication failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afba426353897bc3a57c936a98acab839" name="afba426353897bc3a57c936a98acab839"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba426353897bc3a57c936a98acab839">&#9670;&nbsp;</a></span>reconfigured</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_l2cap_chan_ops::reconfigured) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel reconfigured callback. </p>
<p >If this callback is provided it will be called whenever peer or local device requested reconfiguration. Application may check updated MTU and MPS values by inspecting chan-&gt;le endpoints.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel which was reconfigured </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ab419d3c52c08e0dfda236466d7cadd" name="a0ab419d3c52c08e0dfda236466d7cadd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab419d3c52c08e0dfda236466d7cadd">&#9670;&nbsp;</a></span>recv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* bt_l2cap_chan_ops::recv) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan, struct <a class="el" href="structnet__buf.html">net_buf</a> *buf)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel recv callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel receiving data. </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer containing incoming data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success or negative value in case of error. </dd>
<dd>
-EINPROGRESS in case where user has to confirm once the data has been processed by calling <a class="el" href="group__bt__l2cap.html#gad53f5fc31314121ff84e740879eae3cf">bt_l2cap_chan_recv_complete</a> passing back the buffer received with its original user_data which contains the number of segments/credits used by the packet. </dd></dl>

</div>
</div>
<a id="a6d974d0e472626cb1e5cd898a3dcbca6" name="a6d974d0e472626cb1e5cd898a3dcbca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d974d0e472626cb1e5cd898a3dcbca6">&#9670;&nbsp;</a></span>released</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_l2cap_chan_ops::released) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a770c09f3fb10c9d1e069333d22803d1a" name="a770c09f3fb10c9d1e069333d22803d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a770c09f3fb10c9d1e069333d22803d1a">&#9670;&nbsp;</a></span>sent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_l2cap_chan_ops::sent) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel sent callback. </p>
<p >If this callback is provided it will be called whenever a SDU has been completely sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel which has sent data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4be7fadf07368750cc33cf034d3073e7" name="a4be7fadf07368750cc33cf034d3073e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be7fadf07368750cc33cf034d3073e7">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* bt_l2cap_chan_ops::status) (struct <a class="el" href="structbt__l2cap__chan.html">bt_l2cap_chan</a> *chan, <a class="el" href="atomic_8h.html#a124f07c3a788e53c3a40e4e1c06d8af8">atomic_t</a> *status)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel status callback. </p>
<p >If this callback is provided it will be called whenever the channel status changes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel which status changed </td></tr>
    <tr><td class="paramname">status</td><td>The channel status </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/bluetooth/<a class="el" href="l2cap_8h_source.html">l2cap.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structbt__l2cap__chan__ops.html">bt_l2cap_chan_ops</a></li>
    <li class="footer">Generated on Sat Mar 5 2022 05:00:48 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
