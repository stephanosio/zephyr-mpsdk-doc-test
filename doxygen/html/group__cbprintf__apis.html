<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: Formatted Output APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.0-rc3</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__cbprintf__apis.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Formatted Output APIs</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__CBPRINTF__PACKAGE__FLAGS"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CBPRINTF__PACKAGE__FLAGS.html">Package flags.</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__CBPRINTF__MUST__RUNTIME__PACKAGE__FLAGS"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CBPRINTF__MUST__RUNTIME__PACKAGE__FLAGS.html">Package flags.</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga3b917fb81bb246a0910066e2708dbd78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga3b917fb81bb246a0910066e2708dbd78">CBPRINTF_PACKAGE_ALIGNMENT</a></td></tr>
<tr class="memdesc:ga3b917fb81bb246a0910066e2708dbd78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Required alignment of the buffer used for packaging.  <a href="group__cbprintf__apis.html#ga3b917fb81bb246a0910066e2708dbd78">More...</a><br /></td></tr>
<tr class="separator:ga3b917fb81bb246a0910066e2708dbd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga464cc00d557fa9e8582b809165e2e4c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga464cc00d557fa9e8582b809165e2e4c8">CBPRINTF_MUST_RUNTIME_PACKAGE</a>(skip,  <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, ...)&#160;&#160;&#160;	Z_CBPRINTF_MUST_RUNTIME_PACKAGE(skip, <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, __VA_ARGS__)</td></tr>
<tr class="memdesc:ga464cc00d557fa9e8582b809165e2e4c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if string must be packaged in run time.  <a href="group__cbprintf__apis.html#ga464cc00d557fa9e8582b809165e2e4c8">More...</a><br /></td></tr>
<tr class="separator:ga464cc00d557fa9e8582b809165e2e4c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ac0f7d0956fc96a9d850d2fef928285"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga1ac0f7d0956fc96a9d850d2fef928285">CBPRINTF_STATIC_PACKAGE</a>(packaged,  inlen,  outlen,  align_offset,  <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, ...)</td></tr>
<tr class="memdesc:ga1ac0f7d0956fc96a9d850d2fef928285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statically package string.  <a href="group__cbprintf__apis.html#ga1ac0f7d0956fc96a9d850d2fef928285">More...</a><br /></td></tr>
<tr class="separator:ga1ac0f7d0956fc96a9d850d2fef928285"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaca8362dda031a176d96855a604395a83"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a>) ()</td></tr>
<tr class="memdesc:gaca8362dda031a176d96855a604395a83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signature for a cbprintf callback function.  <a href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">More...</a><br /></td></tr>
<tr class="separator:gaca8362dda031a176d96855a604395a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf080321312296d57ff59d94e26a0dcc"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#gacf080321312296d57ff59d94e26a0dcc">cbvprintf_exteral_formatter_func</a>) (<a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a> out, void *ctx, const char *fmt, va_list ap)</td></tr>
<tr class="memdesc:gacf080321312296d57ff59d94e26a0dcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signature for a external formatter function identical to cbvprintf.  <a href="group__cbprintf__apis.html#gacf080321312296d57ff59d94e26a0dcc">More...</a><br /></td></tr>
<tr class="separator:gacf080321312296d57ff59d94e26a0dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad9c56f0a84f60cc53fa9e687069a8f1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#gad9c56f0a84f60cc53fa9e687069a8f1b">cbprintf_package</a> (void *packaged, size_t len, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, const char *format,...)</td></tr>
<tr class="memdesc:gad9c56f0a84f60cc53fa9e687069a8f1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capture state required to output formatted data later.  <a href="group__cbprintf__apis.html#gad9c56f0a84f60cc53fa9e687069a8f1b">More...</a><br /></td></tr>
<tr class="separator:gad9c56f0a84f60cc53fa9e687069a8f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa83f17925daa9747d329b6f1078ab15a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#gaa83f17925daa9747d329b6f1078ab15a">cbvprintf_package</a> (void *packaged, size_t len, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, const char *format, va_list ap)</td></tr>
<tr class="memdesc:gaa83f17925daa9747d329b6f1078ab15a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capture state required to output formatted data later.  <a href="group__cbprintf__apis.html#gaa83f17925daa9747d329b6f1078ab15a">More...</a><br /></td></tr>
<tr class="separator:gaa83f17925daa9747d329b6f1078ab15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f71af38815a9873217fa3a8edc48b0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga4f71af38815a9873217fa3a8edc48b0c">cbprintf_fsc_package</a> (void *in_packaged, size_t in_len, void *packaged, size_t len)</td></tr>
<tr class="memdesc:ga4f71af38815a9873217fa3a8edc48b0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert package to fully self-contained (fsc) package.  <a href="group__cbprintf__apis.html#ga4f71af38815a9873217fa3a8edc48b0c">More...</a><br /></td></tr>
<tr class="separator:ga4f71af38815a9873217fa3a8edc48b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a419dfaa1873bca5a9f4e0fb3609e7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga0a419dfaa1873bca5a9f4e0fb3609e7e">cbpprintf_external</a> (<a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a> out, <a class="el" href="group__cbprintf__apis.html#gacf080321312296d57ff59d94e26a0dcc">cbvprintf_exteral_formatter_func</a> formatter, void *ctx, void *packaged)</td></tr>
<tr class="memdesc:ga0a419dfaa1873bca5a9f4e0fb3609e7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the output for a previously captured format operation using an external formatter.  <a href="group__cbprintf__apis.html#ga0a419dfaa1873bca5a9f4e0fb3609e7e">More...</a><br /></td></tr>
<tr class="separator:ga0a419dfaa1873bca5a9f4e0fb3609e7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0cebdbf4f142ee28c5bd80a1615647da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga0cebdbf4f142ee28c5bd80a1615647da">cbprintf</a> (<a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a> out, void *ctx, const char *format,...)</td></tr>
<tr class="memdesc:ga0cebdbf4f142ee28c5bd80a1615647da"><td class="mdescLeft">&#160;</td><td class="mdescRight">*printf-like output through a callback.  <a href="group__cbprintf__apis.html#ga0cebdbf4f142ee28c5bd80a1615647da">More...</a><br /></td></tr>
<tr class="separator:ga0cebdbf4f142ee28c5bd80a1615647da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d4847cb6900851ec11e39a35f833b26"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga3d4847cb6900851ec11e39a35f833b26">cbvprintf</a> (<a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a> out, void *ctx, const char *format, va_list ap)</td></tr>
<tr class="memdesc:ga3d4847cb6900851ec11e39a35f833b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">varargs-aware *printf-like output through a callback.  <a href="group__cbprintf__apis.html#ga3d4847cb6900851ec11e39a35f833b26">More...</a><br /></td></tr>
<tr class="separator:ga3d4847cb6900851ec11e39a35f833b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga150fa7bb8dfb96db886006c9115e1dd7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga150fa7bb8dfb96db886006c9115e1dd7">cbpprintf</a> (<a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a> out, void *ctx, void *packaged)</td></tr>
<tr class="memdesc:ga150fa7bb8dfb96db886006c9115e1dd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the output for a previously captured format operation.  <a href="group__cbprintf__apis.html#ga150fa7bb8dfb96db886006c9115e1dd7">More...</a><br /></td></tr>
<tr class="separator:ga150fa7bb8dfb96db886006c9115e1dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2636e91fd5d78835cfaffe5b5012638b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga2636e91fd5d78835cfaffe5b5012638b">fprintfcb</a> (<a class="el" href="stdio_8h.html#ac15bbd02a147d1595cdfb8b2979693d7">FILE</a> *stream, const char *format,...)</td></tr>
<tr class="memdesc:ga2636e91fd5d78835cfaffe5b5012638b"><td class="mdescLeft">&#160;</td><td class="mdescRight">fprintf using Zephyrs cbprintf infrastructure.  <a href="group__cbprintf__apis.html#ga2636e91fd5d78835cfaffe5b5012638b">More...</a><br /></td></tr>
<tr class="separator:ga2636e91fd5d78835cfaffe5b5012638b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24d7226976f3acbe579b6d6b5d530ade"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga24d7226976f3acbe579b6d6b5d530ade">vfprintfcb</a> (<a class="el" href="stdio_8h.html#ac15bbd02a147d1595cdfb8b2979693d7">FILE</a> *stream, const char *format, va_list ap)</td></tr>
<tr class="memdesc:ga24d7226976f3acbe579b6d6b5d530ade"><td class="mdescLeft">&#160;</td><td class="mdescRight">vfprintf using Zephyrs cbprintf infrastructure.  <a href="group__cbprintf__apis.html#ga24d7226976f3acbe579b6d6b5d530ade">More...</a><br /></td></tr>
<tr class="separator:ga24d7226976f3acbe579b6d6b5d530ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17aa694ea800f8188a3de3babd524c3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga17aa694ea800f8188a3de3babd524c3f">printfcb</a> (const char *format,...)</td></tr>
<tr class="memdesc:ga17aa694ea800f8188a3de3babd524c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">printf using Zephyrs cbprintf infrastructure.  <a href="group__cbprintf__apis.html#ga17aa694ea800f8188a3de3babd524c3f">More...</a><br /></td></tr>
<tr class="separator:ga17aa694ea800f8188a3de3babd524c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa70a1b73fb04b88b40c1fa5fd65efd15"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#gaa70a1b73fb04b88b40c1fa5fd65efd15">vprintfcb</a> (const char *format, va_list ap)</td></tr>
<tr class="memdesc:gaa70a1b73fb04b88b40c1fa5fd65efd15"><td class="mdescLeft">&#160;</td><td class="mdescRight">vprintf using Zephyrs cbprintf infrastructure.  <a href="group__cbprintf__apis.html#gaa70a1b73fb04b88b40c1fa5fd65efd15">More...</a><br /></td></tr>
<tr class="separator:gaa70a1b73fb04b88b40c1fa5fd65efd15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga909f859afbc2a596cd0174f711a60047"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga909f859afbc2a596cd0174f711a60047">snprintfcb</a> (char *str, size_t size, const char *format,...)</td></tr>
<tr class="memdesc:ga909f859afbc2a596cd0174f711a60047"><td class="mdescLeft">&#160;</td><td class="mdescRight">snprintf using Zephyrs cbprintf infrastructure.  <a href="group__cbprintf__apis.html#ga909f859afbc2a596cd0174f711a60047">More...</a><br /></td></tr>
<tr class="separator:ga909f859afbc2a596cd0174f711a60047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37b0f96a7b9c025659a902e8fd614b33"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cbprintf__apis.html#ga37b0f96a7b9c025659a902e8fd614b33">vsnprintfcb</a> (char *str, size_t size, const char *format, va_list ap)</td></tr>
<tr class="memdesc:ga37b0f96a7b9c025659a902e8fd614b33"><td class="mdescLeft">&#160;</td><td class="mdescRight">vsnprintf using Zephyrs cbprintf infrastructure.  <a href="group__cbprintf__apis.html#ga37b0f96a7b9c025659a902e8fd614b33">More...</a><br /></td></tr>
<tr class="separator:ga37b0f96a7b9c025659a902e8fd614b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga464cc00d557fa9e8582b809165e2e4c8" name="ga464cc00d557fa9e8582b809165e2e4c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga464cc00d557fa9e8582b809165e2e4c8">&#9670;&nbsp;</a></span>CBPRINTF_MUST_RUNTIME_PACKAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CBPRINTF_MUST_RUNTIME_PACKAGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">skip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	Z_CBPRINTF_MUST_RUNTIME_PACKAGE(skip, <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>Determine if string must be packaged in run time. </p>
<p >Static packaging can be applied if size of the package can be determined at compile time. In general, package size can be determined at compile time if there are no string arguments which might be copied into package body if they are considered transient.</p>
<dl class="section note"><dt>Note</dt><dd>By default any char pointers are considered to be pointing at transient strings. This can be narrowed down to non const pointers by using <a class="el" href="group__CBPRINTF__MUST__RUNTIME__PACKAGE__FLAGS.html#ga6f959e54db274fa111af63b7014c60f9">CBPRINTF_MUST_RUNTIME_PACKAGE_CONST_CHAR</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skip</td><td>number of read only string arguments in the parameter list. It shall be non-zero if there are known read only string arguments present in the string (e.g. function name prefix in the log message).</td></tr>
    <tr><td class="paramname">...</td><td>String with arguments. </td></tr>
    <tr><td class="paramname">flags</td><td>option flags. See <a class="el" href="group__CBPRINTF__MUST__RUNTIME__PACKAGE__FLAGS.html">Package flags.</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if string must be packaged in run time. </td></tr>
    <tr><td class="paramname">0</td><td>string can be statically packaged. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3b917fb81bb246a0910066e2708dbd78" name="ga3b917fb81bb246a0910066e2708dbd78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b917fb81bb246a0910066e2708dbd78">&#9670;&nbsp;</a></span>CBPRINTF_PACKAGE_ALIGNMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CBPRINTF_PACKAGE_ALIGNMENT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>
<b>Value:</b><div class="fragment"><div class="line">        (<a class="code hl_define" href="group__sys-util.html#ga111fe4e9d63758262fc6810a782cb32a">IS_ENABLED</a>(CONFIG_CBPRINTF_PACKAGE_LONGDOUBLE) ? \</div>
<div class="line">                sizeof(<span class="keywordtype">long</span> <span class="keywordtype">double</span>) : <a class="code hl_define" href="group__sys-util.html#gafa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(sizeof(double), sizeof(long long)))</div>
<div class="ttc" id="agroup__sys-util_html_ga111fe4e9d63758262fc6810a782cb32a"><div class="ttname"><a href="group__sys-util.html#ga111fe4e9d63758262fc6810a782cb32a">IS_ENABLED</a></div><div class="ttdeci">#define IS_ENABLED(config_macro)</div><div class="ttdoc">Check for macro definition in compiler-visible expressions.</div><div class="ttdef"><b>Definition:</b> util_macro.h:101</div></div>
<div class="ttc" id="agroup__sys-util_html_gafa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="group__sys-util.html#gafa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdoc">The larger value between a and b.</div><div class="ttdef"><b>Definition:</b> util.h:184</div></div>
</div><!-- fragment -->
<p>Required alignment of the buffer used for packaging. </p>

</div>
</div>
<a id="ga1ac0f7d0956fc96a9d850d2fef928285" name="ga1ac0f7d0956fc96a9d850d2fef928285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ac0f7d0956fc96a9d850d2fef928285">&#9670;&nbsp;</a></span>CBPRINTF_STATIC_PACKAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CBPRINTF_STATIC_PACKAGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">packaged, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">inlen, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">outlen, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">align_offset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>
<b>Value:</b><div class="fragment"><div class="line">        Z_CBPRINTF_STATIC_PACKAGE(packaged, inlen, outlen, \</div>
<div class="line">                                  align_offset, <a class="code hl_enumeration" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, __VA_ARGS__)</div>
<div class="ttc" id="ahttp__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> http_parser.h:131</div></div>
</div><!-- fragment -->
<p>Statically package string. </p>
<p >Build string package from formatted string. It assumes that formatted string is in the read only memory.</p>
<p >If _Generic is not supported then runtime packaging is performed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packaged</td><td>pointer to where the packaged data can be stored. Pass a null pointer to skip packaging but still calculate the total space required. The data stored here is relocatable, that is it can be moved to another contiguous block of memory. It must be aligned to the size of the longest argument. It is recommended to use CBPRINTF_PACKAGE_ALIGNMENT for alignment.</td></tr>
    <tr><td class="paramname">inlen</td><td>set to the number of bytes available at <code>packaged</code>. If <code>packaged</code> is NULL the value is ignored.</td></tr>
    <tr><td class="paramname">outlen</td><td>variable updated to the number of bytes required to completely store the packed information. If input buffer was too small it is set to -ENOSPC.</td></tr>
    <tr><td class="paramname">align_offset</td><td>input buffer alignment offset in bytes. Where offset 0 means that buffer is aligned to CBPRINTF_PACKAGE_ALIGNMENT. Xtensa requires that <code>packaged</code> is aligned to CBPRINTF_PACKAGE_ALIGNMENT so it must be multiply of CBPRINTF_PACKAGE_ALIGNMENT or 0.</td></tr>
    <tr><td class="paramname">flags</td><td>option flags. See <a class="el" href="group__CBPRINTF__PACKAGE__FLAGS.html">Package flags.</a>.</td></tr>
    <tr><td class="paramname">...</td><td>formatted string with arguments. Format string must be constant. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaca8362dda031a176d96855a604395a83" name="gaca8362dda031a176d96855a604395a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca8362dda031a176d96855a604395a83">&#9670;&nbsp;</a></span>cbprintf_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* cbprintf_cb) ()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>Signature for a cbprintf callback function. </p>
<p >This function expects two parameters:</p>
<ul>
<li><code>c</code> a character to output. The output behavior should be as if this was cast to an unsigned char.</li>
<li><code>ctx</code> a pointer to an object that provides context for the output operation.</li>
</ul>
<p >The declaration does not specify the parameter types. This allows a function like <code>fputc</code> to be used without requiring all context pointers to be to a <code>FILE</code> object.</p>
<dl class="section return"><dt>Returns</dt><dd>the value of <code>c</code> cast to an unsigned char then back to int, or a negative error code that will be returned from <a class="el" href="group__cbprintf__apis.html#ga0cebdbf4f142ee28c5bd80a1615647da" title="*printf-like output through a callback.">cbprintf()</a>. </dd></dl>

</div>
</div>
<a id="gacf080321312296d57ff59d94e26a0dcc" name="gacf080321312296d57ff59d94e26a0dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf080321312296d57ff59d94e26a0dcc">&#9670;&nbsp;</a></span>cbvprintf_exteral_formatter_func</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* cbvprintf_exteral_formatter_func) (<a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a> out, void *ctx, const char *fmt, va_list ap)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>Signature for a external formatter function identical to cbvprintf. </p>
<p >This function expects the following parameters:</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>the function used to emit each generated character.</td></tr>
    <tr><td class="paramname">ctx</td><td>a pointer to an object that provides context for the external formatter.</td></tr>
    <tr><td class="paramname">fmt</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">ap</td><td>captured stack arguments corresponding to the conversion specifications found within <code>fmt</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vprintf like return values: the number of characters printed, or a negative error value returned from external formatter. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga150fa7bb8dfb96db886006c9115e1dd7" name="ga150fa7bb8dfb96db886006c9115e1dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga150fa7bb8dfb96db886006c9115e1dd7">&#9670;&nbsp;</a></span>cbpprintf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbpprintf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a>&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>packaged</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>Generate the output for a previously captured format operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>the function used to emit each generated character.</td></tr>
    <tr><td class="paramname">ctx</td><td>context provided when invoking out</td></tr>
    <tr><td class="paramname">packaged</td><td>the data required to generate the formatted output, as captured by <a class="el" href="group__cbprintf__apis.html#gad9c56f0a84f60cc53fa9e687069a8f1b" title="Capture state required to output formatted data later.">cbprintf_package()</a> or <a class="el" href="group__cbprintf__apis.html#gaa83f17925daa9747d329b6f1078ab15a" title="Capture state required to output formatted data later.">cbvprintf_package()</a>. The alignment requirement on this data is the same as when it was initially created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Memory indicated by <code>packaged</code> will be modified in a non-destructive way, meaning that it could still be reused with this function again.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the number of characters printed, or a negative error value returned from invoking <code>out</code>. </dd></dl>

</div>
</div>
<a id="ga0a419dfaa1873bca5a9f4e0fb3609e7e" name="ga0a419dfaa1873bca5a9f4e0fb3609e7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a419dfaa1873bca5a9f4e0fb3609e7e">&#9670;&nbsp;</a></span>cbpprintf_external()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbpprintf_external </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a>&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cbprintf__apis.html#gacf080321312296d57ff59d94e26a0dcc">cbvprintf_exteral_formatter_func</a>&#160;</td>
          <td class="paramname"><em>formatter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>packaged</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>Generate the output for a previously captured format operation using an external formatter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>the function used to emit each generated character.</td></tr>
    <tr><td class="paramname">formatter</td><td>external formatter function.</td></tr>
    <tr><td class="paramname">ctx</td><td>a pointer to an object that provides context for the external formatter.</td></tr>
    <tr><td class="paramname">packaged</td><td>the data required to generate the formatted output, as captured by <a class="el" href="group__cbprintf__apis.html#gad9c56f0a84f60cc53fa9e687069a8f1b" title="Capture state required to output formatted data later.">cbprintf_package()</a> or <a class="el" href="group__cbprintf__apis.html#gaa83f17925daa9747d329b6f1078ab15a" title="Capture state required to output formatted data later.">cbvprintf_package()</a>. The alignment requirement on this data is the same as when it was initially created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Memory indicated by <code>packaged</code> will be modified in a non-destructive way, meaning that it could still be reused with this function again.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>printf like return values: the number of characters printed, or a negative error value returned from external formatter. </dd></dl>

</div>
</div>
<a id="ga0cebdbf4f142ee28c5bd80a1615647da" name="ga0cebdbf4f142ee28c5bd80a1615647da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0cebdbf4f142ee28c5bd80a1615647da">&#9670;&nbsp;</a></span>cbprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbprintf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a>&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>*printf-like output through a callback. </p>
<p >This is essentially <a class="el" href="stdio_8h.html#a6c67912b5a18e7d7ac03ca4e77425715">printf()</a> except the output is generated character-by-character using the provided <code>out</code> function. This allows formatting text of unbounded length without incurring the cost of a temporary buffer.</p>
<p >All formatting specifiers of C99 are recognized, and most are supported if the functionality is enabled.</p>
<dl class="section note"><dt>Note</dt><dd>The functionality of this function is significantly reduced when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_NANO` </pre> is selected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>the function used to emit each generated character.</td></tr>
    <tr><td class="paramname">ctx</td><td>context provided when invoking out</td></tr>
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">...</td><td>arguments corresponding to the conversion specifications found within <code>format</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of characters printed, or a negative error value returned from invoking <code>out</code>. </dd></dl>

</div>
</div>
<a id="ga4f71af38815a9873217fa3a8edc48b0c" name="ga4f71af38815a9873217fa3a8edc48b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f71af38815a9873217fa3a8edc48b0c">&#9670;&nbsp;</a></span>cbprintf_fsc_package()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbprintf_fsc_package </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>in_packaged</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>in_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>packaged</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>Convert package to fully self-contained (fsc) package. </p>
<p >By default, package does not contain read only strings. However, if needed it may be converted to a fully self-contained package which contains all strings. In order to allow such conversion, original package must be created with <a class="el" href="group__CBPRINTF__PACKAGE__FLAGS.html#ga95b0b7f91303781b8bad610f7cac3fa3">CBPRINTF_PACKAGE_ADD_STRING_IDXS</a> flag. Such package will contain necessary data to find read only strings in the package and copy them into package body.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_packaged</td><td>pointer to original package created with <a class="el" href="group__CBPRINTF__PACKAGE__FLAGS.html#ga95b0b7f91303781b8bad610f7cac3fa3">CBPRINTF_PACKAGE_ADD_STRING_IDXS</a>.</td></tr>
    <tr><td class="paramname">in_len</td><td><code>in_packaged</code> length.</td></tr>
    <tr><td class="paramname">packaged</td><td>pointer to location where fully self-contained version of the input package will be written. Pass a null pointer to calculate space required.</td></tr>
    <tr><td class="paramname">len</td><td>must be set to the number of bytes available at <code>packaged</code>. Not used if <code>packaged</code> is null.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nonegative</td><td>the number of bytes successfully stored at <code>packaged</code>. This will not exceed <code>len</code>. If <code>packaged</code> is null, calculated length. </td></tr>
    <tr><td class="paramname">-ENOSPC</td><td>if <code>packaged</code> was not null and the space required to store exceed <code>len</code>. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if <code>in_packaged</code> is null. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad9c56f0a84f60cc53fa9e687069a8f1b" name="gad9c56f0a84f60cc53fa9e687069a8f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9c56f0a84f60cc53fa9e687069a8f1b">&#9670;&nbsp;</a></span>cbprintf_package()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbprintf_package </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>packaged</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>Capture state required to output formatted data later. </p>
<p >Like <a class="el" href="group__cbprintf__apis.html#ga0cebdbf4f142ee28c5bd80a1615647da" title="*printf-like output through a callback.">cbprintf()</a> but instead of processing the arguments and emitting the formatted results immediately all arguments are captured so this can be done in a different context, e.g. when the output function can block.</p>
<p >In addition to the values extracted from arguments this will ensure that copies are made of the necessary portions of any string parameters that are not confirmed to be stored in read-only memory (hence assumed to be safe to refer to directly later).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packaged</td><td>pointer to where the packaged data can be stored. Pass a null pointer to store nothing but still calculate the total space required. The data stored here is relocatable, that is it can be moved to another contiguous block of memory. However, under condition that alignment is maintained. It must be aligned to at least the size of a pointer.</td></tr>
    <tr><td class="paramname">len</td><td>this must be set to the number of bytes available at <code>packaged</code> if it is not null. If <code>packaged</code> is null then it indicates hypothetical buffer alignment offset in bytes compared to CBPRINTF_PACKAGE_ALIGNMENT alignment. Buffer alignment offset impacts returned size of the package. Xtensa requires that buffer is always aligned to CBPRINTF_PACKAGE_ALIGNMENT so it must be multiply of CBPRINTF_PACKAGE_ALIGNMENT or 0 when <code>packaged</code> is null.</td></tr>
    <tr><td class="paramname">flags</td><td>option flags. See <a class="el" href="group__CBPRINTF__PACKAGE__FLAGS.html">Package flags.</a>.</td></tr>
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">...</td><td>arguments corresponding to the conversion specifications found within <code>format</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nonegative</td><td>the number of bytes successfully stored at <code>packaged</code>. This will not exceed <code>len</code>. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if <code>format</code> is not acceptable </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>if <code>packaged</code> alignment is not acceptable </td></tr>
    <tr><td class="paramname">-ENOSPC</td><td>if <code>packaged</code> was not null and the space required to store exceed <code>len</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3d4847cb6900851ec11e39a35f833b26" name="ga3d4847cb6900851ec11e39a35f833b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d4847cb6900851ec11e39a35f833b26">&#9670;&nbsp;</a></span>cbvprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbvprintf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbprintf__apis.html#gaca8362dda031a176d96855a604395a83">cbprintf_cb</a>&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>varargs-aware *printf-like output through a callback. </p>
<p >This is essentially <a class="el" href="stdio_8h.html#a0cf1b75a23729bcc1669ce788d01aa63">vsprintf()</a> except the output is generated character-by-character using the provided <code>out</code> function. This allows formatting text of unbounded length without incurring the cost of a temporary buffer.</p>
<dl class="section note"><dt>Note</dt><dd>This function is available only when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_LIBC_SUBSTS` </pre> is selected.</dd>
<dd>
The functionality of this function is significantly reduced when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_NANO` </pre> is selected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>the function used to emit each generated character.</td></tr>
    <tr><td class="paramname">ctx</td><td>context provided when invoking out</td></tr>
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">ap</td><td>a reference to the values to be converted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of characters generated, or a negative error value returned from invoking <code>out</code>. </dd></dl>

</div>
</div>
<a id="gaa83f17925daa9747d329b6f1078ab15a" name="gaa83f17925daa9747d329b6f1078ab15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa83f17925daa9747d329b6f1078ab15a">&#9670;&nbsp;</a></span>cbvprintf_package()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbvprintf_package </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>packaged</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>Capture state required to output formatted data later. </p>
<p >Like <a class="el" href="group__cbprintf__apis.html#ga0cebdbf4f142ee28c5bd80a1615647da" title="*printf-like output through a callback.">cbprintf()</a> but instead of processing the arguments and emitting the formatted results immediately all arguments are captured so this can be done in a different context, e.g. when the output function can block.</p>
<p >In addition to the values extracted from arguments this will ensure that copies are made of the necessary portions of any string parameters that are not confirmed to be stored in read-only memory (hence assumed to be safe to refer to directly later).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packaged</td><td>pointer to where the packaged data can be stored. Pass a null pointer to store nothing but still calculate the total space required. The data stored here is relocatable, that is it can be moved to another contiguous block of memory. The pointer must be aligned to a multiple of the largest element in the argument list.</td></tr>
    <tr><td class="paramname">len</td><td>this must be set to the number of bytes available at <code>packaged</code>. Ignored if <code>packaged</code> is NULL.</td></tr>
    <tr><td class="paramname">flags</td><td>option flags. See <a class="el" href="group__CBPRINTF__PACKAGE__FLAGS.html">Package flags.</a>.</td></tr>
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">ap</td><td>captured stack arguments corresponding to the conversion specifications found within <code>format</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nonegative</td><td>the number of bytes successfully stored at <code>packaged</code>. This will not exceed <code>len</code>. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if <code>format</code> is not acceptable </td></tr>
    <tr><td class="paramname">-ENOSPC</td><td>if <code>packaged</code> was not null and the space required to store exceed <code>len</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2636e91fd5d78835cfaffe5b5012638b" name="ga2636e91fd5d78835cfaffe5b5012638b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2636e91fd5d78835cfaffe5b5012638b">&#9670;&nbsp;</a></span>fprintfcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fprintfcb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdio_8h.html#ac15bbd02a147d1595cdfb8b2979693d7">FILE</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>fprintf using Zephyrs cbprintf infrastructure. </p>
<dl class="section note"><dt>Note</dt><dd>This function is available only when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_LIBC_SUBSTS` </pre> is selected.</dd>
<dd>
The functionality of this function is significantly reduced when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_NANO` </pre> is selected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to which the output should be written.</td></tr>
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">...</td><td>arguments corresponding to the conversion specifications found within <code>format</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>return The number of characters printed. </p>

</div>
</div>
<a id="ga17aa694ea800f8188a3de3babd524c3f" name="ga17aa694ea800f8188a3de3babd524c3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17aa694ea800f8188a3de3babd524c3f">&#9670;&nbsp;</a></span>printfcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int printfcb </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>printf using Zephyrs cbprintf infrastructure. </p>
<dl class="section note"><dt>Note</dt><dd>This function is available only when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_LIBC_SUBSTS` </pre> is selected.</dd>
<dd>
The functionality of this function is significantly reduced when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_NANO` </pre> is selected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">...</td><td>arguments corresponding to the conversion specifications found within <code>format</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of characters printed. </dd></dl>

</div>
</div>
<a id="ga909f859afbc2a596cd0174f711a60047" name="ga909f859afbc2a596cd0174f711a60047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga909f859afbc2a596cd0174f711a60047">&#9670;&nbsp;</a></span>snprintfcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snprintfcb </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>snprintf using Zephyrs cbprintf infrastructure. </p>
<dl class="section note"><dt>Note</dt><dd>This function is available only when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_LIBC_SUBSTS` </pre> is selected.</dd>
<dd>
The functionality of this function is significantly reduced when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_NANO` </pre> is selected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>where the formatted content should be written</td></tr>
    <tr><td class="paramname">size</td><td>maximum number of chaacters for the formatted output, including the terminating null byte.</td></tr>
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">...</td><td>arguments corresponding to the conversion specifications found within <code>format</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of characters that would have been written to <code>str</code>, excluding the terminating null byte. This is greater than the number actually written if <code>size</code> is too small. </dd></dl>

</div>
</div>
<a id="ga24d7226976f3acbe579b6d6b5d530ade" name="ga24d7226976f3acbe579b6d6b5d530ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24d7226976f3acbe579b6d6b5d530ade">&#9670;&nbsp;</a></span>vfprintfcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vfprintfcb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdio_8h.html#ac15bbd02a147d1595cdfb8b2979693d7">FILE</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>vfprintf using Zephyrs cbprintf infrastructure. </p>
<dl class="section note"><dt>Note</dt><dd>This function is available only when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_LIBC_SUBSTS` </pre> is selected.</dd>
<dd>
The functionality of this function is significantly reduced when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_NANO` </pre> is selected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to which the output should be written.</td></tr>
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">ap</td><td>a reference to the values to be converted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of characters printed. </dd></dl>

</div>
</div>
<a id="gaa70a1b73fb04b88b40c1fa5fd65efd15" name="gaa70a1b73fb04b88b40c1fa5fd65efd15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa70a1b73fb04b88b40c1fa5fd65efd15">&#9670;&nbsp;</a></span>vprintfcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vprintfcb </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>vprintf using Zephyrs cbprintf infrastructure. </p>
<dl class="section note"><dt>Note</dt><dd>This function is available only when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_LIBC_SUBSTS` </pre> is selected.</dd>
<dd>
The functionality of this function is significantly reduced when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_NANO` </pre> is selected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">ap</td><td>a reference to the values to be converted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of characters printed. </dd></dl>

</div>
</div>
<a id="ga37b0f96a7b9c025659a902e8fd614b33" name="ga37b0f96a7b9c025659a902e8fd614b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37b0f96a7b9c025659a902e8fd614b33">&#9670;&nbsp;</a></span>vsnprintfcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vsnprintfcb </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="cbprintf_8h.html">include/sys/cbprintf.h</a>&gt;</code></p>

<p>vsnprintf using Zephyrs cbprintf infrastructure. </p>
<dl class="section note"><dt>Note</dt><dd>This function is available only when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_LIBC_SUBSTS` </pre> is selected.</dd>
<dd>
The functionality of this function is significantly reduced when <pre class="fragment">embed:rst:inline :kconfig:`CONFIG_CBPRINTF_NANO` </pre> is selected.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>where the formatted content should be written</td></tr>
    <tr><td class="paramname">size</td><td>maximum number of chaacters for the formatted output, including the terminating null byte.</td></tr>
    <tr><td class="paramname">format</td><td>a standard ISO C format string with characters and conversion specifications.</td></tr>
    <tr><td class="paramname">ap</td><td>a reference to the values to be converted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of characters that would have been written to <code>str</code>, excluding the terminating null byte. This is greater than the number actually written if <code>size</code> is too small. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 21 2022 04:59:41 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
