<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: include/dfu/mcuboot.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.99</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mcuboot_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mcuboot.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="stdbool_8h_source.html">stdbool.h</a>&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2zephyr_2types_8h_source.html">zephyr/types.h</a>&gt;</code><br />
</div>
<p><a href="mcuboot_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmcuboot__img__sem__ver.html">mcuboot_img_sem_ver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MCUboot image header representation for image version.  <a href="structmcuboot__img__sem__ver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmcuboot__img__header__v1.html">mcuboot_img_header_v1</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Model for the MCUboot image header as of version 1.  <a href="structmcuboot__img__header__v1.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmcuboot__img__header.html">mcuboot_img_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Model for the MCUBoot image header.  <a href="structmcuboot__img__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abb6482b898e8307074d8aef01b1102b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#abb6482b898e8307074d8aef01b1102b7">BOOT_SWAP_TYPE_NONE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:abb6482b898e8307074d8aef01b1102b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa4415c47231a120c4cab455ea0beef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a3aa4415c47231a120c4cab455ea0beef">BOOT_SWAP_TYPE_TEST</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a3aa4415c47231a120c4cab455ea0beef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ebc9ba28e294e71388480bb9e4f677"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a09ebc9ba28e294e71388480bb9e4f677">BOOT_SWAP_TYPE_PERM</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a09ebc9ba28e294e71388480bb9e4f677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca7bd765c6ab669db0774c0b0122494"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a8ca7bd765c6ab669db0774c0b0122494">BOOT_SWAP_TYPE_REVERT</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a8ca7bd765c6ab669db0774c0b0122494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28cb43e6bfacdd285d95751cda80de13"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a28cb43e6bfacdd285d95751cda80de13">BOOT_SWAP_TYPE_FAIL</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a28cb43e6bfacdd285d95751cda80de13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e697351ff503f9a53b17916e63cce06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a1e697351ff503f9a53b17916e63cce06">BOOT_IMG_VER_STRLEN_MAX</a>&#160;&#160;&#160;25  /* 255.255.65535.4294967295\0 */</td></tr>
<tr class="separator:a1e697351ff503f9a53b17916e63cce06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a32d15f3cf338f519af849eba394919"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a4a32d15f3cf338f519af849eba394919">BOOT_MAX_ALIGN</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a4a32d15f3cf338f519af849eba394919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a916a1c0ccc53d12c28de3892af3897"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a3a916a1c0ccc53d12c28de3892af3897">BOOT_MAGIC_SZ</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a3a916a1c0ccc53d12c28de3892af3897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be8758496083a7f91285c8a25e5d85f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a8be8758496083a7f91285c8a25e5d85f">BOOT_TRAILER_IMG_STATUS_OFFS</a>(bank_area)</td></tr>
<tr class="separator:a8be8758496083a7f91285c8a25e5d85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ed69fcd1ebf57cc356ce2bb835853f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a9ed69fcd1ebf57cc356ce2bb835853f7">BOOT_UPGRADE_TEST</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a9ed69fcd1ebf57cc356ce2bb835853f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48b79d246df6ebc712040c5ee00aa73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#ab48b79d246df6ebc712040c5ee00aa73">BOOT_UPGRADE_PERMANENT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab48b79d246df6ebc712040c5ee00aa73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a652ffad55e2917c62a62f6463935fe59"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a652ffad55e2917c62a62f6463935fe59">boot_read_bank_header</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> area_id, struct <a class="el" href="structmcuboot__img__header.html">mcuboot_img_header</a> *header, size_t header_size)</td></tr>
<tr class="memdesc:a652ffad55e2917c62a62f6463935fe59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the MCUboot image header information from an image bank.  <a href="mcuboot_8h.html#a652ffad55e2917c62a62f6463935fe59">More...</a><br /></td></tr>
<tr class="separator:a652ffad55e2917c62a62f6463935fe59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eadd700521a8b94dea3d3d04c9f5bd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a2eadd700521a8b94dea3d3d04c9f5bd8">boot_is_img_confirmed</a> (void)</td></tr>
<tr class="memdesc:a2eadd700521a8b94dea3d3d04c9f5bd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the currently running image is confirmed as OK.  <a href="mcuboot_8h.html#a2eadd700521a8b94dea3d3d04c9f5bd8">More...</a><br /></td></tr>
<tr class="separator:a2eadd700521a8b94dea3d3d04c9f5bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ccc9e1c7460fec16b9ce9ac8ad7a72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a95ccc9e1c7460fec16b9ce9ac8ad7a72">boot_write_img_confirmed</a> (void)</td></tr>
<tr class="memdesc:a95ccc9e1c7460fec16b9ce9ac8ad7a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the currently running image as confirmed.  <a href="mcuboot_8h.html#a95ccc9e1c7460fec16b9ce9ac8ad7a72">More...</a><br /></td></tr>
<tr class="separator:a95ccc9e1c7460fec16b9ce9ac8ad7a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f2410f520ef57e6d793c169639a6f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#aa0f2410f520ef57e6d793c169639a6f8">boot_write_img_confirmed_multi</a> (int image_index)</td></tr>
<tr class="memdesc:aa0f2410f520ef57e6d793c169639a6f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the image with the given index in the primary slot as confirmed.  <a href="mcuboot_8h.html#aa0f2410f520ef57e6d793c169639a6f8">More...</a><br /></td></tr>
<tr class="separator:aa0f2410f520ef57e6d793c169639a6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ce517ba1c0b21c4898762fab959b12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#aa0ce517ba1c0b21c4898762fab959b12">mcuboot_swap_type</a> (void)</td></tr>
<tr class="memdesc:aa0ce517ba1c0b21c4898762fab959b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the action, if any, that mcuboot will take on the next reboot.  <a href="mcuboot_8h.html#aa0ce517ba1c0b21c4898762fab959b12">More...</a><br /></td></tr>
<tr class="separator:aa0ce517ba1c0b21c4898762fab959b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e679c6fefe7deaaed9a2265ce69cf1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a1e679c6fefe7deaaed9a2265ce69cf1e">mcuboot_swap_type_multi</a> (int image_index)</td></tr>
<tr class="memdesc:a1e679c6fefe7deaaed9a2265ce69cf1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the action, if any, that mcuboot will take on the next reboot.  <a href="mcuboot_8h.html#a1e679c6fefe7deaaed9a2265ce69cf1e">More...</a><br /></td></tr>
<tr class="separator:a1e679c6fefe7deaaed9a2265ce69cf1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad47f2356938a7b5acf8e0bbe4d9e4494"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#ad47f2356938a7b5acf8e0bbe4d9e4494">boot_request_upgrade</a> (int permanent)</td></tr>
<tr class="memdesc:ad47f2356938a7b5acf8e0bbe4d9e4494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the image in slot 1 as pending. On the next reboot, the system will perform a boot of the slot 1 image.  <a href="mcuboot_8h.html#ad47f2356938a7b5acf8e0bbe4d9e4494">More...</a><br /></td></tr>
<tr class="separator:ad47f2356938a7b5acf8e0bbe4d9e4494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e0e43663c3671aa4b4df6d30511d39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#ae9e0e43663c3671aa4b4df6d30511d39">boot_request_upgrade_multi</a> (int image_index, int permanent)</td></tr>
<tr class="memdesc:ae9e0e43663c3671aa4b4df6d30511d39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the image with the given index in the secondary slot as pending. On the next reboot, the system will perform a boot of the secondary slot image.  <a href="mcuboot_8h.html#ae9e0e43663c3671aa4b4df6d30511d39">More...</a><br /></td></tr>
<tr class="separator:ae9e0e43663c3671aa4b4df6d30511d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b691762d00e4cab6a5bd91979d8d80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mcuboot_8h.html#a03b691762d00e4cab6a5bd91979d8d80">boot_erase_img_bank</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> area_id)</td></tr>
<tr class="memdesc:a03b691762d00e4cab6a5bd91979d8d80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the image Bank.  <a href="mcuboot_8h.html#a03b691762d00e4cab6a5bd91979d8d80">More...</a><br /></td></tr>
<tr class="separator:a03b691762d00e4cab6a5bd91979d8d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1e697351ff503f9a53b17916e63cce06" name="a1e697351ff503f9a53b17916e63cce06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e697351ff503f9a53b17916e63cce06">&#9670;&nbsp;</a></span>BOOT_IMG_VER_STRLEN_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_IMG_VER_STRLEN_MAX&#160;&#160;&#160;25  /* 255.255.65535.4294967295\0 */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3a916a1c0ccc53d12c28de3892af3897" name="a3a916a1c0ccc53d12c28de3892af3897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a916a1c0ccc53d12c28de3892af3897">&#9670;&nbsp;</a></span>BOOT_MAGIC_SZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_MAGIC_SZ&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4a32d15f3cf338f519af849eba394919" name="a4a32d15f3cf338f519af849eba394919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a32d15f3cf338f519af849eba394919">&#9670;&nbsp;</a></span>BOOT_MAX_ALIGN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_MAX_ALIGN&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a28cb43e6bfacdd285d95751cda80de13" name="a28cb43e6bfacdd285d95751cda80de13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28cb43e6bfacdd285d95751cda80de13">&#9670;&nbsp;</a></span>BOOT_SWAP_TYPE_FAIL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_SWAP_TYPE_FAIL&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Swap failed because image to be run is not valid </p>

</div>
</div>
<a id="abb6482b898e8307074d8aef01b1102b7" name="abb6482b898e8307074d8aef01b1102b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6482b898e8307074d8aef01b1102b7">&#9670;&nbsp;</a></span>BOOT_SWAP_TYPE_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_SWAP_TYPE_NONE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Attempt to boot the contents of slot 0. </p>

</div>
</div>
<a id="a09ebc9ba28e294e71388480bb9e4f677" name="a09ebc9ba28e294e71388480bb9e4f677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ebc9ba28e294e71388480bb9e4f677">&#9670;&nbsp;</a></span>BOOT_SWAP_TYPE_PERM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_SWAP_TYPE_PERM&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Swap to slot 1, and permanently switch to booting its contents. </p>

</div>
</div>
<a id="a8ca7bd765c6ab669db0774c0b0122494" name="a8ca7bd765c6ab669db0774c0b0122494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ca7bd765c6ab669db0774c0b0122494">&#9670;&nbsp;</a></span>BOOT_SWAP_TYPE_REVERT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_SWAP_TYPE_REVERT&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Swap back to alternate slot. A confirm changes this state to NONE. </p>

</div>
</div>
<a id="a3aa4415c47231a120c4cab455ea0beef" name="a3aa4415c47231a120c4cab455ea0beef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aa4415c47231a120c4cab455ea0beef">&#9670;&nbsp;</a></span>BOOT_SWAP_TYPE_TEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_SWAP_TYPE_TEST&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Swap to slot 1. Absent a confirm command, revert back on next boot. </p>

</div>
</div>
<a id="a8be8758496083a7f91285c8a25e5d85f" name="a8be8758496083a7f91285c8a25e5d85f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8be8758496083a7f91285c8a25e5d85f">&#9670;&nbsp;</a></span>BOOT_TRAILER_IMG_STATUS_OFFS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_TRAILER_IMG_STATUS_OFFS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bank_area</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                                  ((bank_area)-&gt;fa_size -\</div>
<div class="line">                                                  <a class="code hl_define" href="mcuboot_8h.html#a3a916a1c0ccc53d12c28de3892af3897">BOOT_MAGIC_SZ</a> -\</div>
<div class="line">                                                  <a class="code hl_define" href="mcuboot_8h.html#a4a32d15f3cf338f519af849eba394919">BOOT_MAX_ALIGN</a> * 2)</div>
<div class="ttc" id="amcuboot_8h_html_a3a916a1c0ccc53d12c28de3892af3897"><div class="ttname"><a href="mcuboot_8h.html#a3a916a1c0ccc53d12c28de3892af3897">BOOT_MAGIC_SZ</a></div><div class="ttdeci">#define BOOT_MAGIC_SZ</div><div class="ttdef"><b>Definition:</b> mcuboot.h:70</div></div>
<div class="ttc" id="amcuboot_8h_html_a4a32d15f3cf338f519af849eba394919"><div class="ttname"><a href="mcuboot_8h.html#a4a32d15f3cf338f519af849eba394919">BOOT_MAX_ALIGN</a></div><div class="ttdeci">#define BOOT_MAX_ALIGN</div><div class="ttdef"><b>Definition:</b> mcuboot.h:68</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab48b79d246df6ebc712040c5ee00aa73" name="ab48b79d246df6ebc712040c5ee00aa73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab48b79d246df6ebc712040c5ee00aa73">&#9670;&nbsp;</a></span>BOOT_UPGRADE_PERMANENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_UPGRADE_PERMANENT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ed69fcd1ebf57cc356ce2bb835853f7" name="a9ed69fcd1ebf57cc356ce2bb835853f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed69fcd1ebf57cc356ce2bb835853f7">&#9670;&nbsp;</a></span>BOOT_UPGRADE_TEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOT_UPGRADE_TEST&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Boot upgrade request modes </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a03b691762d00e4cab6a5bd91979d8d80" name="a03b691762d00e4cab6a5bd91979d8d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03b691762d00e4cab6a5bd91979d8d80">&#9670;&nbsp;</a></span>boot_erase_img_bank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int boot_erase_img_bank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>area_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase the image Bank. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">area_id</td><td><a class="el" href="structflash__area.html" title="Flash partition.">flash_area</a> ID of image bank to be erased. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="a2eadd700521a8b94dea3d3d04c9f5bd8" name="a2eadd700521a8b94dea3d3d04c9f5bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eadd700521a8b94dea3d3d04c9f5bd8">&#9670;&nbsp;</a></span>boot_is_img_confirmed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> boot_is_img_confirmed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the currently running image is confirmed as OK. </p>
<p >MCUboot can perform "test" upgrades. When these occur, a new firmware image is installed and booted, but the old version will be reverted at the next reset unless the new image explicitly marks itself OK.</p>
<p >This routine can be used to check if the currently running image has been marked as OK.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the image is confirmed as OK, false otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="mcuboot_8h.html#a95ccc9e1c7460fec16b9ce9ac8ad7a72" title="Marks the currently running image as confirmed.">boot_write_img_confirmed()</a> </dd></dl>

</div>
</div>
<a id="a652ffad55e2917c62a62f6463935fe59" name="a652ffad55e2917c62a62f6463935fe59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a652ffad55e2917c62a62f6463935fe59">&#9670;&nbsp;</a></span>boot_read_bank_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int boot_read_bank_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>area_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmcuboot__img__header.html">mcuboot_img_header</a> *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>header_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the MCUboot image header information from an image bank. </p>
<p >This attempts to parse the image header, From the start of the <em>area_id</em> image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">area_id</td><td><a class="el" href="structflash__area.html" title="Flash partition.">flash_area</a> ID of image bank which stores the image. </td></tr>
    <tr><td class="paramname">header</td><td>On success, the returned header information is available in this structure. </td></tr>
    <tr><td class="paramname">header_size</td><td>Size of the header structure passed by the caller. If this is not large enough to contain all of the necessary information, an error is returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, a negative value on error. </dd></dl>

</div>
</div>
<a id="ad47f2356938a7b5acf8e0bbe4d9e4494" name="ad47f2356938a7b5acf8e0bbe4d9e4494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad47f2356938a7b5acf8e0bbe4d9e4494">&#9670;&nbsp;</a></span>boot_request_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int boot_request_upgrade </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permanent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the image in slot 1 as pending. On the next reboot, the system will perform a boot of the slot 1 image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permanent</td><td>Whether the image should be used permanently or only tested once: BOOT_UPGRADE_TEST=run image once, then confirm or revert. BOOT_UPGRADE_PERMANENT=run image forever. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="ae9e0e43663c3671aa4b4df6d30511d39" name="ae9e0e43663c3671aa4b4df6d30511d39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9e0e43663c3671aa4b4df6d30511d39">&#9670;&nbsp;</a></span>boot_request_upgrade_multi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int boot_request_upgrade_multi </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>image_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permanent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the image with the given index in the secondary slot as pending. On the next reboot, the system will perform a boot of the secondary slot image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image_index</td><td>Image pair index. </td></tr>
    <tr><td class="paramname">permanent</td><td>Whether the image should be used permanently or only tested once: BOOT_UPGRADE_TEST=run image once, then confirm or revert. BOOT_UPGRADE_PERMANENT=run image forever. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="a95ccc9e1c7460fec16b9ce9ac8ad7a72" name="a95ccc9e1c7460fec16b9ce9ac8ad7a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ccc9e1c7460fec16b9ce9ac8ad7a72">&#9670;&nbsp;</a></span>boot_write_img_confirmed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int boot_write_img_confirmed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the currently running image as confirmed. </p>
<p >This routine attempts to mark the currently running firmware image as OK, which will install it permanently, preventing MCUboot from reverting it for an older image at the next reset.</p>
<p >This routine is safe to call if the current image has already been confirmed. It will return a successful result in this case.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="aa0f2410f520ef57e6d793c169639a6f8" name="aa0f2410f520ef57e6d793c169639a6f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f2410f520ef57e6d793c169639a6f8">&#9670;&nbsp;</a></span>boot_write_img_confirmed_multi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int boot_write_img_confirmed_multi </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>image_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the image with the given index in the primary slot as confirmed. </p>
<p >This routine attempts to mark the firmware image in the primary slot as OK, which will install it permanently, preventing MCUboot from reverting it for an older image at the next reset.</p>
<p >This routine is safe to call if the current image has already been confirmed. It will return a successful result in this case.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image_index</td><td>Image pair index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="aa0ce517ba1c0b21c4898762fab959b12" name="aa0ce517ba1c0b21c4898762fab959b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ce517ba1c0b21c4898762fab959b12">&#9670;&nbsp;</a></span>mcuboot_swap_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mcuboot_swap_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the action, if any, that mcuboot will take on the next reboot. </p>
<dl class="section return"><dt>Returns</dt><dd>a BOOT_SWAP_TYPE_[...] constant on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="a1e679c6fefe7deaaed9a2265ce69cf1e" name="a1e679c6fefe7deaaed9a2265ce69cf1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e679c6fefe7deaaed9a2265ce69cf1e">&#9670;&nbsp;</a></span>mcuboot_swap_type_multi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mcuboot_swap_type_multi </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>image_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the action, if any, that mcuboot will take on the next reboot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image_index</td><td>Image pair index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a BOOT_SWAP_TYPE_[...] constant on success, negative errno code on fail. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_7464a6b1b0a3f30b998710e6a7979f20.html">dfu</a></li><li class="navelem"><a class="el" href="mcuboot_8h.html">mcuboot.h</a></li>
    <li class="footer">Generated on Sat Mar 5 2022 05:00:45 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
