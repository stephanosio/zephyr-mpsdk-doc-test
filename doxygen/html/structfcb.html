<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: fcb Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.99</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structfcb.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">fcb Struct Reference<div class="ingroups"><a class="el" href="group__file__system__storage.html">File System Storage</a> &raquo; <a class="el" href="group__fcb.html">Flash Circular Buffer (FCB)</a> &raquo; <a class="el" href="group__fcb__data__structures.html">Flash Circular Buffer Data Structures</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>FCB instance structure.  
 <a href="structfcb.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fcb_8h_source.html">fcb.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a4206faa9ed633ba2315163c52e557397"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#a4206faa9ed633ba2315163c52e557397">f_magic</a></td></tr>
<tr class="separator:a4206faa9ed633ba2315163c52e557397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030b96abd6c857295f154197278cca69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#a030b96abd6c857295f154197278cca69">f_version</a></td></tr>
<tr class="separator:a030b96abd6c857295f154197278cca69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa642058028d755c7bc5b6814a4cb8c16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#aa642058028d755c7bc5b6814a4cb8c16">f_sector_cnt</a></td></tr>
<tr class="separator:aa642058028d755c7bc5b6814a4cb8c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab748de6989e30de6571fc94d66ee365"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#aab748de6989e30de6571fc94d66ee365">f_scratch_cnt</a></td></tr>
<tr class="separator:aab748de6989e30de6571fc94d66ee365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc96f045d541c8d141d3427884f1fb44"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structflash__sector.html">flash_sector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#afc96f045d541c8d141d3427884f1fb44">f_sectors</a></td></tr>
<tr class="separator:afc96f045d541c8d141d3427884f1fb44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f30c78d7e02748fbf0bf5033d4bdadf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structk__mutex.html">k_mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#a1f30c78d7e02748fbf0bf5033d4bdadf">f_mtx</a></td></tr>
<tr class="separator:a1f30c78d7e02748fbf0bf5033d4bdadf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6dc6236f8b03e4b03f691c55b4d3327"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structflash__sector.html">flash_sector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#ac6dc6236f8b03e4b03f691c55b4d3327">f_oldest</a></td></tr>
<tr class="separator:ac6dc6236f8b03e4b03f691c55b4d3327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7922dc1e8076bcfffca117260d5e02"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfcb__entry.html">fcb_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#a1f7922dc1e8076bcfffca117260d5e02">f_active</a></td></tr>
<tr class="separator:a1f7922dc1e8076bcfffca117260d5e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da1d0b4bef7d9ddcd5922d9bbef0cef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a5debae8b2a1ec20a6694c0c443ee399e">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#a8da1d0b4bef7d9ddcd5922d9bbef0cef">f_active_id</a></td></tr>
<tr class="separator:a8da1d0b4bef7d9ddcd5922d9bbef0cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa745e88d4477408b40a759dd1baea637"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#aa745e88d4477408b40a759dd1baea637">f_align</a></td></tr>
<tr class="separator:aa745e88d4477408b40a759dd1baea637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16cfc82afc8abe70291f4b462e617f2f"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structflash__area.html">flash_area</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#a16cfc82afc8abe70291f4b462e617f2f">fap</a></td></tr>
<tr class="separator:a16cfc82afc8abe70291f4b462e617f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a614c6441395637c6c0a17a4fd6107db3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfcb.html#a614c6441395637c6c0a17a4fd6107db3">f_erase_value</a></td></tr>
<tr class="separator:a614c6441395637c6c0a17a4fd6107db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >FCB instance structure. </p>
<p >The following data structure describes the FCB itself. First part should be filled in by the user before calling <a class="el" href="group__fcb__api.html#ga318d35b6f023bb4079aaf76c01a59b96">fcb_init</a>. The second part is used by FCB for its internal bookkeeping. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a1f7922dc1e8076bcfffca117260d5e02" name="a1f7922dc1e8076bcfffca117260d5e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7922dc1e8076bcfffca117260d5e02">&#9670;&nbsp;</a></span>f_active</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfcb__entry.html">fcb_entry</a> fcb::f_active</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >internal state </p>

</div>
</div>
<a id="a8da1d0b4bef7d9ddcd5922d9bbef0cef" name="a8da1d0b4bef7d9ddcd5922d9bbef0cef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da1d0b4bef7d9ddcd5922d9bbef0cef">&#9670;&nbsp;</a></span>f_active_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a5debae8b2a1ec20a6694c0c443ee399e">uint16_t</a> fcb::f_active_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Flash location where the newest data is, internal state </p>

</div>
</div>
<a id="aa745e88d4477408b40a759dd1baea637" name="aa745e88d4477408b40a759dd1baea637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa745e88d4477408b40a759dd1baea637">&#9670;&nbsp;</a></span>f_align</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> fcb::f_align</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >writes to flash have to aligned to this, internal state </p>

</div>
</div>
<a id="a614c6441395637c6c0a17a4fd6107db3" name="a614c6441395637c6c0a17a4fd6107db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a614c6441395637c6c0a17a4fd6107db3">&#9670;&nbsp;</a></span>f_erase_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> fcb::f_erase_value</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The value flash takes when it is erased. This is read from flash parameters and initialized upon call to fcb_init. </p>

</div>
</div>
<a id="a4206faa9ed633ba2315163c52e557397" name="a4206faa9ed633ba2315163c52e557397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4206faa9ed633ba2315163c52e557397">&#9670;&nbsp;</a></span>f_magic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> fcb::f_magic</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Magic value, should not be 0xFFFFFFFF. It is xored with inversion of f_erase_value and placed in the beginning of FCB flash sector. FCB uses this when determining whether sector contains valid data or not. Giving it value of 0xFFFFFFFF means leaving bytes of the filed in "erased" state. </p>

</div>
</div>
<a id="a1f30c78d7e02748fbf0bf5033d4bdadf" name="a1f30c78d7e02748fbf0bf5033d4bdadf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f30c78d7e02748fbf0bf5033d4bdadf">&#9670;&nbsp;</a></span>f_mtx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structk__mutex.html">k_mutex</a> fcb::f_mtx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Locking for accessing the FCB data, internal state </p>

</div>
</div>
<a id="ac6dc6236f8b03e4b03f691c55b4d3327" name="ac6dc6236f8b03e4b03f691c55b4d3327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6dc6236f8b03e4b03f691c55b4d3327">&#9670;&nbsp;</a></span>f_oldest</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structflash__sector.html">flash_sector</a>* fcb::f_oldest</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Pointer to flash sector containing the oldest data, internal state </p>

</div>
</div>
<a id="aab748de6989e30de6571fc94d66ee365" name="aab748de6989e30de6571fc94d66ee365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab748de6989e30de6571fc94d66ee365">&#9670;&nbsp;</a></span>f_scratch_cnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> fcb::f_scratch_cnt</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Number of sectors to keep empty. This can be used if you need to have scratch space for garbage collecting when FCB fills up. </p>

</div>
</div>
<a id="aa642058028d755c7bc5b6814a4cb8c16" name="aa642058028d755c7bc5b6814a4cb8c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa642058028d755c7bc5b6814a4cb8c16">&#9670;&nbsp;</a></span>f_sector_cnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> fcb::f_sector_cnt</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Number of elements in sector array </p>

</div>
</div>
<a id="afc96f045d541c8d141d3427884f1fb44" name="afc96f045d541c8d141d3427884f1fb44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc96f045d541c8d141d3427884f1fb44">&#9670;&nbsp;</a></span>f_sectors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structflash__sector.html">flash_sector</a>* fcb::f_sectors</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Array of sectors, must be contiguous </p>

</div>
</div>
<a id="a030b96abd6c857295f154197278cca69" name="a030b96abd6c857295f154197278cca69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030b96abd6c857295f154197278cca69">&#9670;&nbsp;</a></span>f_version</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> fcb::f_version</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Current version number of the data </p>

</div>
</div>
<a id="a16cfc82afc8abe70291f4b462e617f2f" name="a16cfc82afc8abe70291f4b462e617f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16cfc82afc8abe70291f4b462e617f2f">&#9670;&nbsp;</a></span>fap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structflash__area.html">flash_area</a>* fcb::fap</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Flash area used by the fcb instance, , internal state. This can be transfer to FCB user </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/fs/<a class="el" href="fcb_8h_source.html">fcb.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structfcb.html">fcb</a></li>
    <li class="footer">Generated on Sat Mar 5 2022 05:00:48 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
