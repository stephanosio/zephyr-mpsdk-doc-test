<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: Ztest mocking support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.99</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__ztest__mock.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">Ztest mocking support<div class="ingroups"><a class="el" href="group__ztest.html">Zephyr testing suite</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga58c2f0c0e628e73a2268a3d18b0440d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#ga58c2f0c0e628e73a2268a3d18b0440d6">ztest_expect_value</a>(func,  param,  value)</td></tr>
<tr class="memdesc:ga58c2f0c0e628e73a2268a3d18b0440d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell function <em>func</em> to expect the value <em>value</em> for <em>param</em>.  <a href="group__ztest__mock.html#ga58c2f0c0e628e73a2268a3d18b0440d6">More...</a><br /></td></tr>
<tr class="separator:ga58c2f0c0e628e73a2268a3d18b0440d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9af6ba8e51738e938763c896f17ea8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#gae9af6ba8e51738e938763c896f17ea8f">ztest_check_expected_value</a>(param)</td></tr>
<tr class="memdesc:gae9af6ba8e51738e938763c896f17ea8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <em>param</em> doesn't match the value set by <a class="el" href="group__ztest__mock.html#ga58c2f0c0e628e73a2268a3d18b0440d6" title="Tell function func to expect the value value for param.">ztest_expect_value()</a>, fail the test.  <a href="group__ztest__mock.html#gae9af6ba8e51738e938763c896f17ea8f">More...</a><br /></td></tr>
<tr class="separator:gae9af6ba8e51738e938763c896f17ea8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1a64d8bf9c877e8666e0c6d93b0dbab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#gac1a64d8bf9c877e8666e0c6d93b0dbab">ztest_expect_data</a>(func,  param,  <a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>)&#160;&#160;&#160;	z_ztest_expect_data(<a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(func), <a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(param), (void *)(<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>))</td></tr>
<tr class="memdesc:gac1a64d8bf9c877e8666e0c6d93b0dbab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell function <em>func</em> to expect the data <em>data</em> for <em>param</em>.  <a href="group__ztest__mock.html#gac1a64d8bf9c877e8666e0c6d93b0dbab">More...</a><br /></td></tr>
<tr class="separator:gac1a64d8bf9c877e8666e0c6d93b0dbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga805cf99272f147beeeee5ad6ca2553f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#ga805cf99272f147beeeee5ad6ca2553f5">ztest_check_expected_data</a>(param,  length)</td></tr>
<tr class="memdesc:ga805cf99272f147beeeee5ad6ca2553f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">If data pointed by <em>param</em> don't match the data set by <a class="el" href="group__ztest__mock.html#gac1a64d8bf9c877e8666e0c6d93b0dbab" title="Tell function func to expect the data data for param.">ztest_expect_data()</a>, fail the test.  <a href="group__ztest__mock.html#ga805cf99272f147beeeee5ad6ca2553f5">More...</a><br /></td></tr>
<tr class="separator:ga805cf99272f147beeeee5ad6ca2553f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac79d097a6b274b25286f2b0e80fbd6e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#gac79d097a6b274b25286f2b0e80fbd6e9">ztest_return_data</a>(func,  param,  <a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>)&#160;&#160;&#160;	z_ztest_return_data(<a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(func), <a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(param), (void *)(<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>))</td></tr>
<tr class="memdesc:gac79d097a6b274b25286f2b0e80fbd6e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell function <em>func</em> to return the data <em>data</em> for <em>param</em>.  <a href="group__ztest__mock.html#gac79d097a6b274b25286f2b0e80fbd6e9">More...</a><br /></td></tr>
<tr class="separator:gac79d097a6b274b25286f2b0e80fbd6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12872a3d783d53d564ed94583bc490b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#ga12872a3d783d53d564ed94583bc490b0">ztest_copy_return_data</a>(param,  length)</td></tr>
<tr class="memdesc:ga12872a3d783d53d564ed94583bc490b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the data set by ztest_return_data to the memory pointed by <em>param</em>.  <a href="group__ztest__mock.html#ga12872a3d783d53d564ed94583bc490b0">More...</a><br /></td></tr>
<tr class="separator:ga12872a3d783d53d564ed94583bc490b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ec539b4c0f3e4efb695213b4fd08c2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#ga2ec539b4c0f3e4efb695213b4fd08c2c">ztest_returns_value</a>(func,  value)&#160;&#160;&#160;	z_ztest_returns_value(<a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(func), (<a class="el" href="stdint_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>)(value))</td></tr>
<tr class="memdesc:ga2ec539b4c0f3e4efb695213b4fd08c2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell <em>func</em> that it should return <em>value</em>.  <a href="group__ztest__mock.html#ga2ec539b4c0f3e4efb695213b4fd08c2c">More...</a><br /></td></tr>
<tr class="separator:ga2ec539b4c0f3e4efb695213b4fd08c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31dcd5b5a3596a7404a771a2d32f3a39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#ga31dcd5b5a3596a7404a771a2d32f3a39">ztest_get_return_value</a>()&#160;&#160;&#160;z_ztest_get_return_value(__func__)</td></tr>
<tr class="memdesc:ga31dcd5b5a3596a7404a771a2d32f3a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the return value for current function.  <a href="group__ztest__mock.html#ga31dcd5b5a3596a7404a771a2d32f3a39">More...</a><br /></td></tr>
<tr class="separator:ga31dcd5b5a3596a7404a771a2d32f3a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2df2eaeba49019b7a83ac769ea95968"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ztest__mock.html#gaa2df2eaeba49019b7a83ac769ea95968">ztest_get_return_value_ptr</a>()&#160;&#160;&#160;	((void *)z_ztest_get_return_value(__func__))</td></tr>
<tr class="memdesc:gaa2df2eaeba49019b7a83ac769ea95968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the return value as a pointer for current function.  <a href="group__ztest__mock.html#gaa2df2eaeba49019b7a83ac769ea95968">More...</a><br /></td></tr>
<tr class="separator:gaa2df2eaeba49019b7a83ac769ea95968"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >This module provides simple mocking functions for unit testing. These need CONFIG_ZTEST_MOCKING=y. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga805cf99272f147beeeee5ad6ca2553f5" name="ga805cf99272f147beeeee5ad6ca2553f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga805cf99272f147beeeee5ad6ca2553f5">&#9670;&nbsp;</a></span>ztest_check_expected_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_check_expected_data</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>
<b>Value:</b><div class="fragment"><div class="line">        z_ztest_check_expected_data(__func__, <a class="code hl_define" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(param),                \</div>
<div class="line">                                    (<span class="keywordtype">void</span> *)(param), (length))</div>
<div class="ttc" id="acommon_8h_html_a4689212d5a549893cabb9d7782eecfb6"><div class="ttname"><a href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a></div><div class="ttdeci">#define STRINGIFY(s)</div><div class="ttdef"><b>Definition:</b> common.h:129</div></div>
</div><!-- fragment -->
<p>If data pointed by <em>param</em> don't match the data set by <a class="el" href="group__ztest__mock.html#gac1a64d8bf9c877e8666e0c6d93b0dbab" title="Tell function func to expect the data data for param.">ztest_expect_data()</a>, fail the test. </p>
<p >This will first check that <em>param</em> is expected to be null or non-null and then check whether the data pointed by parameter is equal to expected data. If either of these checks fail, the current test will fail. This must be called from the called function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>Parameter to check </td></tr>
    <tr><td class="paramname">length</td><td>Length of the data to compare </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae9af6ba8e51738e938763c896f17ea8f" name="gae9af6ba8e51738e938763c896f17ea8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9af6ba8e51738e938763c896f17ea8f">&#9670;&nbsp;</a></span>ztest_check_expected_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_check_expected_value</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>
<b>Value:</b><div class="fragment"><div class="line">        z_ztest_check_expected_value(__func__, <a class="code hl_define" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(param),               \</div>
<div class="line">                                     (<a class="code hl_typedef" href="stdint_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>)(param))</div>
<div class="ttc" id="astdint_8h_html_a4788399d1d0b37ccf098a7da82254808"><div class="ttname"><a href="stdint_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a></div><div class="ttdeci">__UINTPTR_TYPE__ uintptr_t</div><div class="ttdef"><b>Definition:</b> stdint.h:75</div></div>
</div><!-- fragment -->
<p>If <em>param</em> doesn't match the value set by <a class="el" href="group__ztest__mock.html#ga58c2f0c0e628e73a2268a3d18b0440d6" title="Tell function func to expect the value value for param.">ztest_expect_value()</a>, fail the test. </p>
<p >This will first check that does <em>param</em> have a value to be expected, and then checks whether the value of the parameter is equal to the expected value. If either of these checks fail, the current test will fail. This must be called from the called function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>Parameter to check </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga12872a3d783d53d564ed94583bc490b0" name="ga12872a3d783d53d564ed94583bc490b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12872a3d783d53d564ed94583bc490b0">&#9670;&nbsp;</a></span>ztest_copy_return_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_copy_return_data</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>
<b>Value:</b><div class="fragment"><div class="line">        z_ztest_copy_return_data(__func__, <a class="code hl_define" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(param),                   \</div>
<div class="line">                                 (<span class="keywordtype">void</span> *)(param), (length))</div>
</div><!-- fragment -->
<p>Copy the data set by ztest_return_data to the memory pointed by <em>param</em>. </p>
<p >This will first check that <em>param</em> is not null and then copy the data. This must be called from the called function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>Parameter to return data for </td></tr>
    <tr><td class="paramname">length</td><td>Length of the data to return </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac1a64d8bf9c877e8666e0c6d93b0dbab" name="gac1a64d8bf9c877e8666e0c6d93b0dbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1a64d8bf9c877e8666e0c6d93b0dbab">&#9670;&nbsp;</a></span>ztest_expect_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_expect_data</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	z_ztest_expect_data(<a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(func), <a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(param), (void *)(<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>

<p>Tell function <em>func</em> to expect the data <em>data</em> for <em>param</em>. </p>
<p >When using <a class="el" href="group__ztest__mock.html#ga805cf99272f147beeeee5ad6ca2553f5" title="If data pointed by param don&#39;t match the data set by ztest_expect_data(), fail the test.">ztest_check_expected_data()</a>, the data pointed to by <em>param</em> should be same <em>data</em> in this function. Only data pointer is stored by this function, so it must still be valid when ztest_check_expected_data is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Function in question </td></tr>
    <tr><td class="paramname">param</td><td>Parameter for which the data should be set </td></tr>
    <tr><td class="paramname">data</td><td>pointer for the data for parameter <em>param</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga58c2f0c0e628e73a2268a3d18b0440d6" name="ga58c2f0c0e628e73a2268a3d18b0440d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58c2f0c0e628e73a2268a3d18b0440d6">&#9670;&nbsp;</a></span>ztest_expect_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_expect_value</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>
<b>Value:</b><div class="fragment"><div class="line">        z_ztest_expect_value(<a class="code hl_define" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(func), <a class="code hl_define" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(param),                \</div>
<div class="line">                             (<a class="code hl_typedef" href="stdint_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>)(value))</div>
</div><!-- fragment -->
<p>Tell function <em>func</em> to expect the value <em>value</em> for <em>param</em>. </p>
<p >When using <a class="el" href="group__ztest__mock.html#gae9af6ba8e51738e938763c896f17ea8f" title="If param doesn&#39;t match the value set by ztest_expect_value(), fail the test.">ztest_check_expected_value()</a>, tell that the value of <em>param</em> should be <em>value</em>. The value will internally be stored as an <code>uintptr_t</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Function in question </td></tr>
    <tr><td class="paramname">param</td><td>Parameter for which the value should be set </td></tr>
    <tr><td class="paramname">value</td><td>Value for <em>param</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga31dcd5b5a3596a7404a771a2d32f3a39" name="ga31dcd5b5a3596a7404a771a2d32f3a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31dcd5b5a3596a7404a771a2d32f3a39">&#9670;&nbsp;</a></span>ztest_get_return_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_get_return_value</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;z_ztest_get_return_value(__func__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>

<p>Get the return value for current function. </p>
<p >The return value must have been set previously with <a class="el" href="group__ztest__mock.html#ga2ec539b4c0f3e4efb695213b4fd08c2c" title="Tell func that it should return value.">ztest_returns_value()</a>. If no return value exists, the current test will fail.</p>
<dl class="section return"><dt>Returns</dt><dd>The value the current function should return </dd></dl>

</div>
</div>
<a id="gaa2df2eaeba49019b7a83ac769ea95968" name="gaa2df2eaeba49019b7a83ac769ea95968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2df2eaeba49019b7a83ac769ea95968">&#9670;&nbsp;</a></span>ztest_get_return_value_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_get_return_value_ptr</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;	((void *)z_ztest_get_return_value(__func__))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>

<p>Get the return value as a pointer for current function. </p>
<p >The return value must have been set previously with <a class="el" href="group__ztest__mock.html#ga2ec539b4c0f3e4efb695213b4fd08c2c" title="Tell func that it should return value.">ztest_returns_value()</a>. If no return value exists, the current test will fail.</p>
<dl class="section return"><dt>Returns</dt><dd>The value the current function should return as a <code>void *</code> </dd></dl>

</div>
</div>
<a id="gac79d097a6b274b25286f2b0e80fbd6e9" name="gac79d097a6b274b25286f2b0e80fbd6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac79d097a6b274b25286f2b0e80fbd6e9">&#9670;&nbsp;</a></span>ztest_return_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_return_data</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">param, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	z_ztest_return_data(<a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(func), <a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(param), (void *)(<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>

<p>Tell function <em>func</em> to return the data <em>data</em> for <em>param</em>. </p>
<p >When using <a class="el" href="group__ztest__mock.html#gac79d097a6b274b25286f2b0e80fbd6e9" title="Tell function func to return the data data for param.">ztest_return_data()</a>, the data pointed to by <em>param</em> should be same <em>data</em> in this function. Only data pointer is stored by this function, so it must still be valid when ztest_copy_return_data is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Function in question </td></tr>
    <tr><td class="paramname">param</td><td>Parameter for which the data should be set </td></tr>
    <tr><td class="paramname">data</td><td>pointer for the data for parameter <em>param</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2ec539b4c0f3e4efb695213b4fd08c2c" name="ga2ec539b4c0f3e4efb695213b4fd08c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ec539b4c0f3e4efb695213b4fd08c2c">&#9670;&nbsp;</a></span>ztest_returns_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ztest_returns_value</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	z_ztest_returns_value(<a class="el" href="common_8h.html#a4689212d5a549893cabb9d7782eecfb6">STRINGIFY</a>(func), (<a class="el" href="stdint_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>)(value))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="ztest__mock_8h.html">subsys/testsuite/ztest/include/ztest_mock.h</a>&gt;</code></p>

<p>Tell <em>func</em> that it should return <em>value</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Function that should return <em>value</em> </td></tr>
    <tr><td class="paramname">value</td><td>Value to return from <em>func</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Mar 5 2022 05:00:47 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
