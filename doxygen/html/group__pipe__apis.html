<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: Pipe APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.0-rc3</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__pipe__apis.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Pipe APIs<div class="ingroups"><a class="el" href="group__kernel__apis.html">Kernel APIs</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structk__pipe.html">k_pipe</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gac2256aa00c59e78199be9bdefd61aa52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#gac2256aa00c59e78199be9bdefd61aa52">K_PIPE_DEFINE</a>(name,  pipe_buffer_size,  pipe_align)</td></tr>
<tr class="memdesc:gac2256aa00c59e78199be9bdefd61aa52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statically define and initialize a pipe.  <a href="group__pipe__apis.html#gac2256aa00c59e78199be9bdefd61aa52">More...</a><br /></td></tr>
<tr class="separator:gac2256aa00c59e78199be9bdefd61aa52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae9e807fb63bb7186b87015664f2c762d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#gae9e807fb63bb7186b87015664f2c762d">k_pipe_init</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>, <a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a4089fb16419d359081465355db05f846">unsigned</a> char *<a class="el" href="group__kernel__mbox__api.html#gab659fc0dee01e6639b8b6108addbd046">buffer</a>, size_t size)</td></tr>
<tr class="memdesc:gae9e807fb63bb7186b87015664f2c762d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a pipe.  <a href="group__pipe__apis.html#gae9e807fb63bb7186b87015664f2c762d">More...</a><br /></td></tr>
<tr class="separator:gae9e807fb63bb7186b87015664f2c762d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad0ab1b97b537da408031e4bcbe04f36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#gaad0ab1b97b537da408031e4bcbe04f36">k_pipe_cleanup</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>)</td></tr>
<tr class="memdesc:gaad0ab1b97b537da408031e4bcbe04f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a pipe's allocated buffer.  <a href="group__pipe__apis.html#gaad0ab1b97b537da408031e4bcbe04f36">More...</a><br /></td></tr>
<tr class="separator:gaad0ab1b97b537da408031e4bcbe04f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32a902a5d12ca54b17c2b58783214613"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#ga32a902a5d12ca54b17c2b58783214613">k_pipe_alloc_init</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>, size_t size)</td></tr>
<tr class="memdesc:ga32a902a5d12ca54b17c2b58783214613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a pipe and allocate a buffer for it.  <a href="group__pipe__apis.html#ga32a902a5d12ca54b17c2b58783214613">More...</a><br /></td></tr>
<tr class="separator:ga32a902a5d12ca54b17c2b58783214613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5cfd4b75485c7d69f8614030914ad132"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#ga5cfd4b75485c7d69f8614030914ad132">k_pipe_put</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>, void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t bytes_to_write, size_t *bytes_written, size_t min_xfer, <a class="el" href="structk__timeout__t.html">k_timeout_t</a> <a class="el" href="timer_2cycle64_2src_2main_8c.html#a8f4b69a82b00d7baf3f1f7d480bb7fa0">timeout</a>)</td></tr>
<tr class="memdesc:ga5cfd4b75485c7d69f8614030914ad132"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to a pipe.  <a href="group__pipe__apis.html#ga5cfd4b75485c7d69f8614030914ad132">More...</a><br /></td></tr>
<tr class="separator:ga5cfd4b75485c7d69f8614030914ad132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada9aaf9a336d98a95441212f4223e9ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#gada9aaf9a336d98a95441212f4223e9ef">k_pipe_get</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>, void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t bytes_to_read, size_t *bytes_read, size_t min_xfer, <a class="el" href="structk__timeout__t.html">k_timeout_t</a> <a class="el" href="timer_2cycle64_2src_2main_8c.html#a8f4b69a82b00d7baf3f1f7d480bb7fa0">timeout</a>)</td></tr>
<tr class="memdesc:gada9aaf9a336d98a95441212f4223e9ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from a pipe.  <a href="group__pipe__apis.html#gada9aaf9a336d98a95441212f4223e9ef">More...</a><br /></td></tr>
<tr class="separator:gada9aaf9a336d98a95441212f4223e9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21849ebf856532de6e3ea38489071220"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#ga21849ebf856532de6e3ea38489071220">k_pipe_read_avail</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>)</td></tr>
<tr class="memdesc:ga21849ebf856532de6e3ea38489071220"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the number of bytes that may be read from <em>pipe</em>.  <a href="group__pipe__apis.html#ga21849ebf856532de6e3ea38489071220">More...</a><br /></td></tr>
<tr class="separator:ga21849ebf856532de6e3ea38489071220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff3ed3e93591d72c60a3640d195998c3"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#gaff3ed3e93591d72c60a3640d195998c3">k_pipe_write_avail</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>)</td></tr>
<tr class="memdesc:gaff3ed3e93591d72c60a3640d195998c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the number of bytes that may be written to <em>pipe</em>.  <a href="group__pipe__apis.html#gaff3ed3e93591d72c60a3640d195998c3">More...</a><br /></td></tr>
<tr class="separator:gaff3ed3e93591d72c60a3640d195998c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41484bb5c7dcd97e7a7b7f1422f8026f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#ga41484bb5c7dcd97e7a7b7f1422f8026f">k_pipe_flush</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>)</td></tr>
<tr class="memdesc:ga41484bb5c7dcd97e7a7b7f1422f8026f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the pipe of write data.  <a href="group__pipe__apis.html#ga41484bb5c7dcd97e7a7b7f1422f8026f">More...</a><br /></td></tr>
<tr class="separator:ga41484bb5c7dcd97e7a7b7f1422f8026f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71e0e38a15fa27f27c1f028223936445"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pipe__apis.html#ga71e0e38a15fa27f27c1f028223936445">k_pipe_buffer_flush</a> (struct <a class="el" href="structk__pipe.html">k_pipe</a> *<a class="el" href="group__kernel__pipe__tests.html#gaa4fbc828f262153e0dc676826872c0da">pipe</a>)</td></tr>
<tr class="memdesc:ga71e0e38a15fa27f27c1f028223936445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the pipe's internal buffer.  <a href="group__pipe__apis.html#ga71e0e38a15fa27f27c1f028223936445">More...</a><br /></td></tr>
<tr class="separator:ga71e0e38a15fa27f27c1f028223936445"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gac2256aa00c59e78199be9bdefd61aa52" name="gac2256aa00c59e78199be9bdefd61aa52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2256aa00c59e78199be9bdefd61aa52">&#9670;&nbsp;</a></span>K_PIPE_DEFINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_PIPE_DEFINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pipe_buffer_size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pipe_align&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>
<b>Value:</b><div class="fragment"><div class="line">        <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> __noinit __aligned(pipe_align)             \</div>
<div class="line">                _k_pipe_buf_##name[pipe_buffer_size];                   \</div>
<div class="line">        STRUCT_SECTION_ITERABLE(<a class="code hl_struct" href="structk__pipe.html">k_pipe</a>, name) =                         \</div>
<div class="line">                Z_PIPE_INITIALIZER(name, _k_pipe_buf_##name, pipe_buffer_size)</div>
<div class="ttc" id="astructk__pipe_html"><div class="ttname"><a href="structk__pipe.html">k_pipe</a></div><div class="ttdef"><b>Definition:</b> kernel.h:4664</div></div>
</div><!-- fragment -->
<p>Statically define and initialize a pipe. </p>
<p >The pipe can be accessed outside the module where it is defined using:</p>
<div class="fragment"><div class="line"><span class="keyword">extern</span> <span class="keyword">struct </span><a class="code hl_struct" href="structk__pipe.html">k_pipe</a> &lt;name&gt;; </div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the pipe. </td></tr>
    <tr><td class="paramname">pipe_buffer_size</td><td>Size of the pipe's ring buffer (in bytes), or zero if no ring buffer is used. </td></tr>
    <tr><td class="paramname">pipe_align</td><td>Alignment of the pipe's ring buffer (power of 2). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga32a902a5d12ca54b17c2b58783214613" name="ga32a902a5d12ca54b17c2b58783214613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga32a902a5d12ca54b17c2b58783214613">&#9670;&nbsp;</a></span>k_pipe_alloc_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int k_pipe_alloc_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Initialize a pipe and allocate a buffer for it. </p>
<p >Storage for the buffer region will be allocated from the calling thread's resource pool. This memory will be released if <a class="el" href="group__pipe__apis.html#gaad0ab1b97b537da408031e4bcbe04f36" title="Release a pipe&#39;s allocated buffer.">k_pipe_cleanup()</a> is called, or userspace is enabled and the pipe object loses all references to it.</p>
<p >This function should only be called on uninitialized pipe objects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the pipe's ring buffer (in bytes), or zero if no ring buffer is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-ENOMEM</td><td>if memory couldn't be allocated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga71e0e38a15fa27f27c1f028223936445" name="ga71e0e38a15fa27f27c1f028223936445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71e0e38a15fa27f27c1f028223936445">&#9670;&nbsp;</a></span>k_pipe_buffer_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_pipe_buffer_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Flush the pipe's internal buffer. </p>
<p >This routine flushes the pipe's internal buffer. This is equivalent to reading up to N bytes from the pipe (where N is the size of the pipe's buffer) into a temporary buffer and then discarding that buffer. If there were writers previously pending, then some may unpend as they try to fill up the pipe's emptied buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="gaad0ab1b97b537da408031e4bcbe04f36" name="gaad0ab1b97b537da408031e4bcbe04f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad0ab1b97b537da408031e4bcbe04f36">&#9670;&nbsp;</a></span>k_pipe_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int k_pipe_cleanup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Release a pipe's allocated buffer. </p>
<p >If a pipe object was given a dynamically allocated buffer via <a class="el" href="group__pipe__apis.html#ga32a902a5d12ca54b17c2b58783214613" title="Initialize a pipe and allocate a buffer for it.">k_pipe_alloc_init()</a>, this will free it. This function does nothing if the buffer wasn't dynamically allocated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-EAGAIN</td><td>nothing to cleanup </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga41484bb5c7dcd97e7a7b7f1422f8026f" name="ga41484bb5c7dcd97e7a7b7f1422f8026f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41484bb5c7dcd97e7a7b7f1422f8026f">&#9670;&nbsp;</a></span>k_pipe_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_pipe_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Flush the pipe of write data. </p>
<p >This routine flushes the pipe. Flushing the pipe is equivalent to reading both all the data in the pipe's buffer and all the data waiting to go into that pipe into a large temporary buffer and discarding the buffer. Any writers that were previously pended become unpended.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>N/A </dd></dl>

</div>
</div>
<a id="gada9aaf9a336d98a95441212f4223e9ef" name="gada9aaf9a336d98a95441212f4223e9ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gada9aaf9a336d98a95441212f4223e9ef">&#9670;&nbsp;</a></span>k_pipe_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int k_pipe_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bytes_to_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bytes_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>min_xfer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structk__timeout__t.html">k_timeout_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Read data from a pipe. </p>
<p >This routine reads up to <em>bytes_to_read</em> bytes of data from <em>pipe</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe. </td></tr>
    <tr><td class="paramname">data</td><td>Address to place the data read from pipe. </td></tr>
    <tr><td class="paramname">bytes_to_read</td><td>Maximum number of data bytes to read. </td></tr>
    <tr><td class="paramname">bytes_read</td><td>Address of area to hold the number of bytes read. </td></tr>
    <tr><td class="paramname">min_xfer</td><td>Minimum number of data bytes to read. </td></tr>
    <tr><td class="paramname">timeout</td><td>Waiting period to wait for the data to be read, or one of the special values K_NO_WAIT and K_FOREVER.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>At least <em>min_xfer</em> bytes of data were read. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>invalid parameters supplied </td></tr>
    <tr><td class="paramname">-EIO</td><td>Returned without waiting; zero data bytes were read. </td></tr>
    <tr><td class="paramname">-EAGAIN</td><td>Waiting period timed out; between zero and <em>min_xfer</em> minus one data bytes were read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae9e807fb63bb7186b87015664f2c762d" name="gae9e807fb63bb7186b87015664f2c762d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9e807fb63bb7186b87015664f2c762d">&#9670;&nbsp;</a></span>k_pipe_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void k_pipe_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a4089fb16419d359081465355db05f846">unsigned</a> char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Initialize a pipe. </p>
<p >This routine initializes a pipe object, prior to its first use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe. </td></tr>
    <tr><td class="paramname">buffer</td><td>Address of the pipe's ring buffer, or NULL if no ring buffer is used. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the pipe's ring buffer (in bytes), or zero if no ring buffer is used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5cfd4b75485c7d69f8614030914ad132" name="ga5cfd4b75485c7d69f8614030914ad132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5cfd4b75485c7d69f8614030914ad132">&#9670;&nbsp;</a></span>k_pipe_put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int k_pipe_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bytes_to_write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bytes_written</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>min_xfer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structk__timeout__t.html">k_timeout_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Write data to a pipe. </p>
<p >This routine writes up to <em>bytes_to_write</em> bytes of data to <em>pipe</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe. </td></tr>
    <tr><td class="paramname">data</td><td>Address of data to write. </td></tr>
    <tr><td class="paramname">bytes_to_write</td><td>Size of data (in bytes). </td></tr>
    <tr><td class="paramname">bytes_written</td><td>Address of area to hold the number of bytes written. </td></tr>
    <tr><td class="paramname">min_xfer</td><td>Minimum number of bytes to write. </td></tr>
    <tr><td class="paramname">timeout</td><td>Waiting period to wait for the data to be written, or one of the special values K_NO_WAIT and K_FOREVER.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>At least <em>min_xfer</em> bytes of data were written. </td></tr>
    <tr><td class="paramname">-EIO</td><td>Returned without waiting; zero data bytes were written. </td></tr>
    <tr><td class="paramname">-EAGAIN</td><td>Waiting period timed out; between zero and <em>min_xfer</em> minus one data bytes were written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga21849ebf856532de6e3ea38489071220" name="ga21849ebf856532de6e3ea38489071220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21849ebf856532de6e3ea38489071220">&#9670;&nbsp;</a></span>k_pipe_read_avail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t k_pipe_read_avail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Query the number of bytes that may be read from <em>pipe</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>number n such that 0 &lt;= n &lt;= <a class="el" href="structk__pipe.html#aca3472fb8d68f01af4e26b0b88736d64">k_pipe::size</a>; the result is zero for unbuffered pipes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaff3ed3e93591d72c60a3640d195998c3" name="gaff3ed3e93591d72c60a3640d195998c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff3ed3e93591d72c60a3640d195998c3">&#9670;&nbsp;</a></span>k_pipe_write_avail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t k_pipe_write_avail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structk__pipe.html">k_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="include_2kernel_8h.html">include/kernel.h</a>&gt;</code></p>

<p>Query the number of bytes that may be written to <em>pipe</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>Address of the pipe.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>number n such that 0 &lt;= n &lt;= <a class="el" href="structk__pipe.html#aca3472fb8d68f01af4e26b0b88736d64">k_pipe::size</a>; the result is zero for unbuffered pipes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 21 2022 04:59:41 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
