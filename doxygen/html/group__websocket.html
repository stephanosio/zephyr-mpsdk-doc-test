<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: Websocket API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.0-rc3</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__websocket.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Websocket API<div class="ingroups"><a class="el" href="group__networking.html">Networking</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Websocket API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwebsocket__request.html">websocket_request</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga002ade0e3787b6d9da82ab84af1cd354"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga002ade0e3787b6d9da82ab84af1cd354">WEBSOCKET_FLAG_FINAL</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="separator:ga002ade0e3787b6d9da82ab84af1cd354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9405e69474b48472dfe0b10017dfcd75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga9405e69474b48472dfe0b10017dfcd75">WEBSOCKET_FLAG_TEXT</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="separator:ga9405e69474b48472dfe0b10017dfcd75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8616f88cb194d82da9367f2f48832842"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga8616f88cb194d82da9367f2f48832842">WEBSOCKET_FLAG_BINARY</a>&#160;&#160;&#160;0x00000004</td></tr>
<tr class="separator:ga8616f88cb194d82da9367f2f48832842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab5fa480351106751f6482f5056b4238"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#gaab5fa480351106751f6482f5056b4238">WEBSOCKET_FLAG_CLOSE</a>&#160;&#160;&#160;0x00000008</td></tr>
<tr class="separator:gaab5fa480351106751f6482f5056b4238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f2ea01b18c13f38fe834f855ae0da93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga2f2ea01b18c13f38fe834f855ae0da93">WEBSOCKET_FLAG_PING</a>&#160;&#160;&#160;0x00000010</td></tr>
<tr class="separator:ga2f2ea01b18c13f38fe834f855ae0da93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68cdf577c5401440095dacf224541047"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga68cdf577c5401440095dacf224541047">WEBSOCKET_FLAG_PONG</a>&#160;&#160;&#160;0x00000020</td></tr>
<tr class="separator:ga68cdf577c5401440095dacf224541047"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga4cfa3b60fe810341a1dbc80ecfe49a8e"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga4cfa3b60fe810341a1dbc80ecfe49a8e">websocket_connect_cb_t</a>) (int ws_sock, struct <a class="el" href="structhttp__request.html">http_request</a> *req, void *<a class="el" href="timer_2timer__api_2src_2main_8c.html#a862de962130decf51321624c10294338">user_data</a>)</td></tr>
<tr class="memdesc:ga4cfa3b60fe810341a1dbc80ecfe49a8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback called after Websocket connection is established.  <a href="group__websocket.html#ga4cfa3b60fe810341a1dbc80ecfe49a8e">More...</a><br /></td></tr>
<tr class="separator:ga4cfa3b60fe810341a1dbc80ecfe49a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga207402575311103c75906143724e8c35"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga207402575311103c75906143724e8c35">websocket_opcode</a> { <br />
&#160;&#160;<a class="el" href="group__websocket.html#gga207402575311103c75906143724e8c35a8912ad4ae9a3bbbe7ecb02cd2c1a8b35">WEBSOCKET_OPCODE_CONTINUE</a> = 0x00
, <a class="el" href="group__websocket.html#gga207402575311103c75906143724e8c35a2058fe14c900c3298affa6eed05d182c">WEBSOCKET_OPCODE_DATA_TEXT</a> = 0x01
, <a class="el" href="group__websocket.html#gga207402575311103c75906143724e8c35aa8d476ba0f4f3f892503d29fa76f1a69">WEBSOCKET_OPCODE_DATA_BINARY</a> = 0x02
, <a class="el" href="group__websocket.html#gga207402575311103c75906143724e8c35a291cb41ba1d8b535a1625d394c066191">WEBSOCKET_OPCODE_CLOSE</a> = 0x08
, <br />
&#160;&#160;<a class="el" href="group__websocket.html#gga207402575311103c75906143724e8c35af7a26bf82e06544e8393f17d6c074709">WEBSOCKET_OPCODE_PING</a> = 0x09
, <a class="el" href="group__websocket.html#gga207402575311103c75906143724e8c35a141c7a8d3c0864115c8bfe3248e59d90">WEBSOCKET_OPCODE_PONG</a> = 0x0A
<br />
 }</td></tr>
<tr class="separator:ga207402575311103c75906143724e8c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga71a43ec629929d2eb1baba4e3f13a615"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga71a43ec629929d2eb1baba4e3f13a615">websocket_connect</a> (int http_sock, struct <a class="el" href="structwebsocket__request.html">websocket_request</a> *req, <a class="el" href="stdint_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a> <a class="el" href="timer_2cycle64_2src_2main_8c.html#a8f4b69a82b00d7baf3f1f7d480bb7fa0">timeout</a>, void *<a class="el" href="timer_2timer__api_2src_2main_8c.html#a862de962130decf51321624c10294338">user_data</a>)</td></tr>
<tr class="memdesc:ga71a43ec629929d2eb1baba4e3f13a615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a server that provides Websocket service. The callback is called after connection is established. The returned value is a new socket descriptor that can be used to send / receive data using the BSD socket API.  <a href="group__websocket.html#ga71a43ec629929d2eb1baba4e3f13a615">More...</a><br /></td></tr>
<tr class="separator:ga71a43ec629929d2eb1baba4e3f13a615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac23c351e5020d0fc9e936933d399b187"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#gac23c351e5020d0fc9e936933d399b187">websocket_send_msg</a> (int ws_sock, const <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *payload, size_t payload_len, enum <a class="el" href="group__websocket.html#ga207402575311103c75906143724e8c35">websocket_opcode</a> opcode, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> mask, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> final, <a class="el" href="stdint_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a> <a class="el" href="timer_2cycle64_2src_2main_8c.html#a8f4b69a82b00d7baf3f1f7d480bb7fa0">timeout</a>)</td></tr>
<tr class="memdesc:gac23c351e5020d0fc9e936933d399b187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send websocket msg to peer.  <a href="group__websocket.html#gac23c351e5020d0fc9e936933d399b187">More...</a><br /></td></tr>
<tr class="separator:gac23c351e5020d0fc9e936933d399b187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fb118f84b7631d12c1b742b75593ba6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#ga0fb118f84b7631d12c1b742b75593ba6">websocket_recv_msg</a> (int ws_sock, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *buf, size_t buf_len, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> *message_type, <a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> *remaining, <a class="el" href="stdint_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a> <a class="el" href="timer_2cycle64_2src_2main_8c.html#a8f4b69a82b00d7baf3f1f7d480bb7fa0">timeout</a>)</td></tr>
<tr class="memdesc:ga0fb118f84b7631d12c1b742b75593ba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive websocket msg from peer.  <a href="group__websocket.html#ga0fb118f84b7631d12c1b742b75593ba6">More...</a><br /></td></tr>
<tr class="separator:ga0fb118f84b7631d12c1b742b75593ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc2f06e2c361317ff48f171abc3d1209"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#gacc2f06e2c361317ff48f171abc3d1209">websocket_disconnect</a> (int ws_sock)</td></tr>
<tr class="memdesc:gacc2f06e2c361317ff48f171abc3d1209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close websocket.  <a href="group__websocket.html#gacc2f06e2c361317ff48f171abc3d1209">More...</a><br /></td></tr>
<tr class="separator:gacc2f06e2c361317ff48f171abc3d1209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab258dd52880c6cbbc7e2aceee329a4a3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__websocket.html#gab258dd52880c6cbbc7e2aceee329a4a3">websocket_init</a> (void)</td></tr>
<tr class="separator:gab258dd52880c6cbbc7e2aceee329a4a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Websocket API. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga8616f88cb194d82da9367f2f48832842" name="ga8616f88cb194d82da9367f2f48832842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8616f88cb194d82da9367f2f48832842">&#9670;&nbsp;</a></span>WEBSOCKET_FLAG_BINARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WEBSOCKET_FLAG_BINARY&#160;&#160;&#160;0x00000004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>
<p >Binary data <br  />
 </p>

</div>
</div>
<a id="gaab5fa480351106751f6482f5056b4238" name="gaab5fa480351106751f6482f5056b4238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab5fa480351106751f6482f5056b4238">&#9670;&nbsp;</a></span>WEBSOCKET_FLAG_CLOSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WEBSOCKET_FLAG_CLOSE&#160;&#160;&#160;0x00000008</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>
<p >Closing connection </p>

</div>
</div>
<a id="ga002ade0e3787b6d9da82ab84af1cd354" name="ga002ade0e3787b6d9da82ab84af1cd354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga002ade0e3787b6d9da82ab84af1cd354">&#9670;&nbsp;</a></span>WEBSOCKET_FLAG_FINAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WEBSOCKET_FLAG_FINAL&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>
<p >Message type values. Returned in <a class="el" href="group__websocket.html#ga0fb118f84b7631d12c1b742b75593ba6" title="Receive websocket msg from peer.">websocket_recv_msg()</a> Final frame <br  />
 </p>

</div>
</div>
<a id="ga2f2ea01b18c13f38fe834f855ae0da93" name="ga2f2ea01b18c13f38fe834f855ae0da93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f2ea01b18c13f38fe834f855ae0da93">&#9670;&nbsp;</a></span>WEBSOCKET_FLAG_PING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WEBSOCKET_FLAG_PING&#160;&#160;&#160;0x00000010</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>
<p >Ping message <br  />
 </p>

</div>
</div>
<a id="ga68cdf577c5401440095dacf224541047" name="ga68cdf577c5401440095dacf224541047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68cdf577c5401440095dacf224541047">&#9670;&nbsp;</a></span>WEBSOCKET_FLAG_PONG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WEBSOCKET_FLAG_PONG&#160;&#160;&#160;0x00000020</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>
<p >Pong message <br  />
 </p>

</div>
</div>
<a id="ga9405e69474b48472dfe0b10017dfcd75" name="ga9405e69474b48472dfe0b10017dfcd75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9405e69474b48472dfe0b10017dfcd75">&#9670;&nbsp;</a></span>WEBSOCKET_FLAG_TEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WEBSOCKET_FLAG_TEXT&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>
<p >Textual data <br  />
 </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga4cfa3b60fe810341a1dbc80ecfe49a8e" name="ga4cfa3b60fe810341a1dbc80ecfe49a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cfa3b60fe810341a1dbc80ecfe49a8e">&#9670;&nbsp;</a></span>websocket_connect_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">websocket_connect_cb_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>

<p>Callback called after Websocket connection is established. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws_sock</td><td>Websocket id </td></tr>
    <tr><td class="paramname">req</td><td>HTTP handshake request </td></tr>
    <tr><td class="paramname">user_data</td><td>A valid pointer on some user data or NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if ok, &lt;0 if there is an error and connection should be aborted </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga207402575311103c75906143724e8c35" name="ga207402575311103c75906143724e8c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga207402575311103c75906143724e8c35">&#9670;&nbsp;</a></span>websocket_opcode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__websocket.html#ga207402575311103c75906143724e8c35">websocket_opcode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga207402575311103c75906143724e8c35a8912ad4ae9a3bbbe7ecb02cd2c1a8b35" name="gga207402575311103c75906143724e8c35a8912ad4ae9a3bbbe7ecb02cd2c1a8b35"></a>WEBSOCKET_OPCODE_CONTINUE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga207402575311103c75906143724e8c35a2058fe14c900c3298affa6eed05d182c" name="gga207402575311103c75906143724e8c35a2058fe14c900c3298affa6eed05d182c"></a>WEBSOCKET_OPCODE_DATA_TEXT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga207402575311103c75906143724e8c35aa8d476ba0f4f3f892503d29fa76f1a69" name="gga207402575311103c75906143724e8c35aa8d476ba0f4f3f892503d29fa76f1a69"></a>WEBSOCKET_OPCODE_DATA_BINARY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga207402575311103c75906143724e8c35a291cb41ba1d8b535a1625d394c066191" name="gga207402575311103c75906143724e8c35a291cb41ba1d8b535a1625d394c066191"></a>WEBSOCKET_OPCODE_CLOSE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga207402575311103c75906143724e8c35af7a26bf82e06544e8393f17d6c074709" name="gga207402575311103c75906143724e8c35af7a26bf82e06544e8393f17d6c074709"></a>WEBSOCKET_OPCODE_PING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga207402575311103c75906143724e8c35a141c7a8d3c0864115c8bfe3248e59d90" name="gga207402575311103c75906143724e8c35a141c7a8d3c0864115c8bfe3248e59d90"></a>WEBSOCKET_OPCODE_PONG&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga71a43ec629929d2eb1baba4e3f13a615" name="ga71a43ec629929d2eb1baba4e3f13a615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71a43ec629929d2eb1baba4e3f13a615">&#9670;&nbsp;</a></span>websocket_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int websocket_connect </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>http_sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwebsocket__request.html">websocket_request</a> *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>

<p>Connect to a server that provides Websocket service. The callback is called after connection is established. The returned value is a new socket descriptor that can be used to send / receive data using the BSD socket API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">http_sock</td><td>Socket id to the server. Note that this socket is used to do HTTP handshakes etc. The actual Websocket connectivity is done via the returned websocket id. Note that the http_sock must not be closed after this function returns as it is used to deliver the Websocket packets to the Websocket server. </td></tr>
    <tr><td class="paramname">req</td><td>Websocket request. User should allocate and fill the request data. </td></tr>
    <tr><td class="paramname">timeout</td><td>Max timeout to wait for the connection. The timeout value is in milliseconds. Value SYS_FOREVER_MS means to wait forever. </td></tr>
    <tr><td class="paramname">user_data</td><td>User specified data that is passed to the callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Websocket id to be used when sending/receiving Websocket data. </dd></dl>

</div>
</div>
<a id="gacc2f06e2c361317ff48f171abc3d1209" name="gacc2f06e2c361317ff48f171abc3d1209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc2f06e2c361317ff48f171abc3d1209">&#9670;&nbsp;</a></span>websocket_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int websocket_disconnect </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ws_sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>

<p>Close websocket. </p>
<p >One must call <a class="el" href="group__websocket.html#ga71a43ec629929d2eb1baba4e3f13a615" title="Connect to a server that provides Websocket service. The callback is called after connection is estab...">websocket_connect()</a> after this call to re-establish the connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws_sock</td><td>Websocket id returned by <a class="el" href="group__websocket.html#ga71a43ec629929d2eb1baba4e3f13a615" title="Connect to a server that provides Websocket service. The callback is called after connection is estab...">websocket_connect()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab258dd52880c6cbbc7e2aceee329a4a3" name="gab258dd52880c6cbbc7e2aceee329a4a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab258dd52880c6cbbc7e2aceee329a4a3">&#9670;&nbsp;</a></span>websocket_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void websocket_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>

</div>
</div>
<a id="ga0fb118f84b7631d12c1b742b75593ba6" name="ga0fb118f84b7631d12c1b742b75593ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0fb118f84b7631d12c1b742b75593ba6">&#9670;&nbsp;</a></span>websocket_recv_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int websocket_recv_msg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ws_sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> *&#160;</td>
          <td class="paramname"><em>remaining</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>

<p>Receive websocket msg from peer. </p>
<p >The function will automatically remove websocket header from the message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws_sock</td><td>Websocket id returned by <a class="el" href="group__websocket.html#ga71a43ec629929d2eb1baba4e3f13a615" title="Connect to a server that provides Websocket service. The callback is called after connection is estab...">websocket_connect()</a>. </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer where websocket data is read. </td></tr>
    <tr><td class="paramname">buf_len</td><td>Length of the data buffer. </td></tr>
    <tr><td class="paramname">message_type</td><td>Type of the message. </td></tr>
    <tr><td class="paramname">remaining</td><td>How much there is data left in the message after this read. </td></tr>
    <tr><td class="paramname">timeout</td><td>How long to try to receive the message. The value is in milliseconds. Value SYS_FOREVER_MS means to wait forever.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&lt;0 if error, &gt;=0 amount of bytes received </dd></dl>

</div>
</div>
<a id="gac23c351e5020d0fc9e936933d399b187" name="gac23c351e5020d0fc9e936933d399b187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac23c351e5020d0fc9e936933d399b187">&#9670;&nbsp;</a></span>websocket_send_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int websocket_send_msg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ws_sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payload_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__websocket.html#ga207402575311103c75906143724e8c35">websocket_opcode</a>&#160;</td>
          <td class="paramname"><em>opcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>final</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="websocket_8h.html">include/net/websocket.h</a>&gt;</code></p>

<p>Send websocket msg to peer. </p>
<p >The function will automatically add websocket header to the message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws_sock</td><td>Websocket id returned by <a class="el" href="group__websocket.html#ga71a43ec629929d2eb1baba4e3f13a615" title="Connect to a server that provides Websocket service. The callback is called after connection is estab...">websocket_connect()</a>. </td></tr>
    <tr><td class="paramname">payload</td><td>Websocket data to send. </td></tr>
    <tr><td class="paramname">payload_len</td><td>Length of the data to be sent. </td></tr>
    <tr><td class="paramname">opcode</td><td>Operation code (text, binary, ping, pong, close) </td></tr>
    <tr><td class="paramname">mask</td><td>Mask the data, see RFC 6455 for details </td></tr>
    <tr><td class="paramname">final</td><td>Is this final message for this message send. If final == false, then the first message must have valid opcode and subsequent messages must have opcode WEBSOCKET_OPCODE_CONTINUE. If final == true and this is the only message, then opcode should have proper opcode (text or binary) set. </td></tr>
    <tr><td class="paramname">timeout</td><td>How long to try to send the message. The value is in milliseconds. Value SYS_FOREVER_MS means to wait forever.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&lt;0 if error, &gt;=0 amount of bytes sent </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 21 2022 04:59:42 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
