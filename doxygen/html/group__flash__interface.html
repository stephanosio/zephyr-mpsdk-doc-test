<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: FLASH Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.99</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__flash__interface.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">FLASH Interface<div class="ingroups"><a class="el" href="group__io__interfaces.html">Device Driver APIs</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>FLASH Interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structflash__parameters.html">flash_parameters</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structflash__pages__info.html">flash_pages_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga41bfc5eb05a8e73873763c36f3e1ec6f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#ga41bfc5eb05a8e73873763c36f3e1ec6f">flash_page_cb</a>) (const struct <a class="el" href="structflash__pages__info.html">flash_pages_info</a> *info, void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>)</td></tr>
<tr class="memdesc:ga41bfc5eb05a8e73873763c36f3e1ec6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback type for iterating over flash pages present on a device.  <a href="group__flash__interface.html#ga41bfc5eb05a8e73873763c36f3e1ec6f">More...</a><br /></td></tr>
<tr class="separator:ga41bfc5eb05a8e73873763c36f3e1ec6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa7c9382796aad64da0da683f54600b5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#gaa7c9382796aad64da0da683f54600b5f">flash_read</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, off_t offset, void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t len)</td></tr>
<tr class="memdesc:gaa7c9382796aad64da0da683f54600b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from flash.  <a href="group__flash__interface.html#gaa7c9382796aad64da0da683f54600b5f">More...</a><br /></td></tr>
<tr class="separator:gaa7c9382796aad64da0da683f54600b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76d7880cc5e18ca40237736d3bd94324"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#ga76d7880cc5e18ca40237736d3bd94324">flash_write</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, off_t offset, const void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t len)</td></tr>
<tr class="memdesc:ga76d7880cc5e18ca40237736d3bd94324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write buffer into flash memory.  <a href="group__flash__interface.html#ga76d7880cc5e18ca40237736d3bd94324">More...</a><br /></td></tr>
<tr class="separator:ga76d7880cc5e18ca40237736d3bd94324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05f9c8b0c1ff7273f71797e7ff799c95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#ga05f9c8b0c1ff7273f71797e7ff799c95">flash_erase</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, off_t offset, size_t size)</td></tr>
<tr class="memdesc:ga05f9c8b0c1ff7273f71797e7ff799c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase part or all of a flash memory.  <a href="group__flash__interface.html#ga05f9c8b0c1ff7273f71797e7ff799c95">More...</a><br /></td></tr>
<tr class="separator:ga05f9c8b0c1ff7273f71797e7ff799c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc959b0363eb27d6a3237e4288d60979"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#gafc959b0363eb27d6a3237e4288d60979">flash_get_page_info_by_offs</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, off_t offset, struct <a class="el" href="structflash__pages__info.html">flash_pages_info</a> *info)</td></tr>
<tr class="memdesc:gafc959b0363eb27d6a3237e4288d60979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size and start offset of flash page at certain flash offset.  <a href="group__flash__interface.html#gafc959b0363eb27d6a3237e4288d60979">More...</a><br /></td></tr>
<tr class="separator:gafc959b0363eb27d6a3237e4288d60979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae733082fa92f80261d5895d3f81a98b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#gaae733082fa92f80261d5895d3f81a98b">flash_get_page_info_by_idx</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> page_index, struct <a class="el" href="structflash__pages__info.html">flash_pages_info</a> *info)</td></tr>
<tr class="memdesc:gaae733082fa92f80261d5895d3f81a98b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size and start offset of flash page of certain index.  <a href="group__flash__interface.html#gaae733082fa92f80261d5895d3f81a98b">More...</a><br /></td></tr>
<tr class="separator:gaae733082fa92f80261d5895d3f81a98b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf750fe20c02758be7e37f36d2d16345e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#gaf750fe20c02758be7e37f36d2d16345e">flash_get_page_count</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:gaf750fe20c02758be7e37f36d2d16345e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total number of flash pages.  <a href="group__flash__interface.html#gaf750fe20c02758be7e37f36d2d16345e">More...</a><br /></td></tr>
<tr class="separator:gaf750fe20c02758be7e37f36d2d16345e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga275f2346e88b5e4d050dae426f0953fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#ga275f2346e88b5e4d050dae426f0953fe">flash_page_foreach</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="group__flash__interface.html#ga41bfc5eb05a8e73873763c36f3e1ec6f">flash_page_cb</a> cb, void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>)</td></tr>
<tr class="memdesc:ga275f2346e88b5e4d050dae426f0953fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterate over all flash pages on a device.  <a href="group__flash__interface.html#ga275f2346e88b5e4d050dae426f0953fe">More...</a><br /></td></tr>
<tr class="separator:ga275f2346e88b5e4d050dae426f0953fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e9b921299bfb059bf72445a2ffa5a97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#ga8e9b921299bfb059bf72445a2ffa5a97">flash_sfdp_read</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, off_t offset, void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t len)</td></tr>
<tr class="memdesc:ga8e9b921299bfb059bf72445a2ffa5a97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from Serial Flash Discoverable Parameters.  <a href="group__flash__interface.html#ga8e9b921299bfb059bf72445a2ffa5a97">More...</a><br /></td></tr>
<tr class="separator:ga8e9b921299bfb059bf72445a2ffa5a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb273ed317e1088b57adcac3385f50a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#gadb273ed317e1088b57adcac3385f50a7">flash_read_jedec_id</a> (const struct <a class="el" href="structdevice.html">device</a> *dev, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *id)</td></tr>
<tr class="memdesc:gadb273ed317e1088b57adcac3385f50a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the JEDEC ID from a compatible flash device.  <a href="group__flash__interface.html#gadb273ed317e1088b57adcac3385f50a7">More...</a><br /></td></tr>
<tr class="separator:gadb273ed317e1088b57adcac3385f50a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadfb323bc1b4efa39e7bc0a048c472a6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#gaadfb323bc1b4efa39e7bc0a048c472a6">flash_get_write_block_size</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:gaadfb323bc1b4efa39e7bc0a048c472a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the minimum write block size supported by the driver.  <a href="group__flash__interface.html#gaadfb323bc1b4efa39e7bc0a048c472a6">More...</a><br /></td></tr>
<tr class="separator:gaadfb323bc1b4efa39e7bc0a048c472a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07b516708224b7a69a5169ef9c5c26e3"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structflash__parameters.html">flash_parameters</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__interface.html#ga07b516708224b7a69a5169ef9c5c26e3">flash_get_parameters</a> (const struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="memdesc:ga07b516708224b7a69a5169ef9c5c26e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pointer to <a class="el" href="structflash__parameters.html">flash_parameters</a> structure.  <a href="group__flash__interface.html#ga07b516708224b7a69a5169ef9c5c26e3">More...</a><br /></td></tr>
<tr class="separator:ga07b516708224b7a69a5169ef9c5c26e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >FLASH Interface. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga41bfc5eb05a8e73873763c36f3e1ec6f" name="ga41bfc5eb05a8e73873763c36f3e1ec6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41bfc5eb05a8e73873763c36f3e1ec6f">&#9670;&nbsp;</a></span>flash_page_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(* flash_page_cb) (const struct <a class="el" href="structflash__pages__info.html">flash_pages_info</a> *info, void *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Callback type for iterating over flash pages present on a device. </p>
<p >The callback should return true to continue iterating, and false to halt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>Information for current page </td></tr>
    <tr><td class="paramname">data</td><td>Private data for callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True to continue iteration, false to halt iteration. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__flash__interface.html#ga275f2346e88b5e4d050dae426f0953fe" title="Iterate over all flash pages on a device.">flash_page_foreach()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga05f9c8b0c1ff7273f71797e7ff799c95" name="ga05f9c8b0c1ff7273f71797e7ff799c95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05f9c8b0c1ff7273f71797e7ff799c95">&#9670;&nbsp;</a></span>flash_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flash_erase </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Erase part or all of a flash memory. </p>
<p >Acceptable values of erase size and offset are subject to hardware-specific multiples of page size and offset. Please check the API implemented by the underlying sub driver, for example by using <a class="el" href="group__flash__interface.html#gafc959b0363eb27d6a3237e4288d60979" title="Get the size and start offset of flash page at certain flash offset.">flash_get_page_info_by_offs()</a> if that is supported by your flash driver.</p>
<p >Any necessary erase protection management is performed by the driver erase implementation itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>: flash device </td></tr>
    <tr><td class="paramname">offset</td><td>: erase area starting offset </td></tr>
    <tr><td class="paramname">size</td><td>: size of area to be erased</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__flash__interface.html#gafc959b0363eb27d6a3237e4288d60979" title="Get the size and start offset of flash page at certain flash offset.">flash_get_page_info_by_offs()</a> </dd>
<dd>
<a class="el" href="group__flash__interface.html#gaae733082fa92f80261d5895d3f81a98b" title="Get the size and start offset of flash page of certain index.">flash_get_page_info_by_idx()</a> </dd></dl>

</div>
</div>
<a id="gaf750fe20c02758be7e37f36d2d16345e" name="gaf750fe20c02758be7e37f36d2d16345e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf750fe20c02758be7e37f36d2d16345e">&#9670;&nbsp;</a></span>flash_get_page_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t flash_get_page_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Get the total number of flash pages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>flash device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of flash pages. </dd></dl>

</div>
</div>
<a id="gaae733082fa92f80261d5895d3f81a98b" name="gaae733082fa92f80261d5895d3f81a98b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae733082fa92f80261d5895d3f81a98b">&#9670;&nbsp;</a></span>flash_get_page_info_by_idx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flash_get_page_info_by_idx </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td>
          <td class="paramname"><em>page_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structflash__pages__info.html">flash_pages_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Get the size and start offset of flash page of certain index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>flash device </td></tr>
    <tr><td class="paramname">page_index</td><td>Index of the page. Index are counted from 0. </td></tr>
    <tr><td class="paramname">info</td><td>Page Info structure to be filled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL if page of the index doesn't exist. </dd></dl>

</div>
</div>
<a id="gafc959b0363eb27d6a3237e4288d60979" name="gafc959b0363eb27d6a3237e4288d60979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc959b0363eb27d6a3237e4288d60979">&#9670;&nbsp;</a></span>flash_get_page_info_by_offs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flash_get_page_info_by_offs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structflash__pages__info.html">flash_pages_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Get the size and start offset of flash page at certain flash offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>flash device </td></tr>
    <tr><td class="paramname">offset</td><td>Offset within the page </td></tr>
    <tr><td class="paramname">info</td><td>Page Info structure to be filled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL if page of the offset doesn't exist. </dd></dl>

</div>
</div>
<a id="ga07b516708224b7a69a5169ef9c5c26e3" name="ga07b516708224b7a69a5169ef9c5c26e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07b516708224b7a69a5169ef9c5c26e3">&#9670;&nbsp;</a></span>flash_get_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structflash__parameters.html">flash_parameters</a> * flash_get_parameters </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Get pointer to <a class="el" href="structflash__parameters.html">flash_parameters</a> structure. </p>
<p >Returned pointer points to a structure that should be considered constant through a runtime, regardless if it is defined in RAM or Flash. Developer is free to cache the structure pointer or copy its contents.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to <a class="el" href="structflash__parameters.html">flash_parameters</a> structure characteristic for the device. </dd></dl>

</div>
</div>
<a id="gaadfb323bc1b4efa39e7bc0a048c472a6" name="gaadfb323bc1b4efa39e7bc0a048c472a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaadfb323bc1b4efa39e7bc0a048c472a6">&#9670;&nbsp;</a></span>flash_get_write_block_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t flash_get_write_block_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Get the minimum write block size supported by the driver. </p>
<p >The write block size supported by the driver might differ from the write block size of memory used because the driver might implements write-modify algorithm.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>flash device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>write block size in bytes. </dd></dl>

</div>
</div>
<a id="ga275f2346e88b5e4d050dae426f0953fe" name="ga275f2346e88b5e4d050dae426f0953fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga275f2346e88b5e4d050dae426f0953fe">&#9670;&nbsp;</a></span>flash_page_foreach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_page_foreach </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__flash__interface.html#ga41bfc5eb05a8e73873763c36f3e1ec6f">flash_page_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Iterate over all flash pages on a device. </p>
<p >This routine iterates over all flash pages on the given device, ordered by increasing start offset. For each page, it invokes the given callback, passing it the page's information and a private data object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device whose pages to iterate over </td></tr>
    <tr><td class="paramname">cb</td><td>Callback to invoke for each flash page </td></tr>
    <tr><td class="paramname">data</td><td>Private data for callback function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa7c9382796aad64da0da683f54600b5f" name="gaa7c9382796aad64da0da683f54600b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7c9382796aad64da0da683f54600b5f">&#9670;&nbsp;</a></span>flash_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flash_read </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Read data from flash. </p>
<p >All flash drivers support reads without alignment restrictions on the read offset, the read size, or the destination address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>: flash dev </td></tr>
    <tr><td class="paramname">offset</td><td>: Offset (byte aligned) to read </td></tr>
    <tr><td class="paramname">data</td><td>: Buffer to store read data </td></tr>
    <tr><td class="paramname">len</td><td>: Number of bytes to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="gadb273ed317e1088b57adcac3385f50a7" name="gadb273ed317e1088b57adcac3385f50a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb273ed317e1088b57adcac3385f50a7">&#9670;&nbsp;</a></span>flash_read_jedec_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flash_read_jedec_id </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Read the JEDEC ID from a compatible flash device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device from which id will be read </td></tr>
    <tr><td class="paramname">id</td><td>pointer to a buffer of at least 3 bytes into which id will be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on successful store of 3-byte JEDEC id </td></tr>
    <tr><td class="paramname">-ENOTSUP</td><td>if flash driver doesn't support this function </td></tr>
    <tr><td class="paramname">negative</td><td>values for other errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8e9b921299bfb059bf72445a2ffa5a97" name="ga8e9b921299bfb059bf72445a2ffa5a97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e9b921299bfb059bf72445a2ffa5a97">&#9670;&nbsp;</a></span>flash_sfdp_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flash_sfdp_read </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Read data from Serial Flash Discoverable Parameters. </p>
<p >This routine reads data from a serial flash device compatible with the JEDEC JESD216 standard for encoding flash memory characteristics.</p>
<p >Availability of this API is conditional on selecting <code>CONFIG_FLASH_JESD216_API</code> and support of that functionality in the driver underlying <code>dev</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device from which parameters will be read </td></tr>
    <tr><td class="paramname">offset</td><td>address within the SFDP region containing data of interest </td></tr>
    <tr><td class="paramname">data</td><td>where the data to be read will be placed </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes of data to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-ENOTSUP</td><td>if the flash driver does not support SFDP access </td></tr>
    <tr><td class="paramname">negative</td><td>values for other errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga76d7880cc5e18ca40237736d3bd94324" name="ga76d7880cc5e18ca40237736d3bd94324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76d7880cc5e18ca40237736d3bd94324">&#9670;&nbsp;</a></span>flash_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flash_write </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="flash_8h.html">include/drivers/flash.h</a>&gt;</code></p>

<p>Write buffer into flash memory. </p>
<p >All flash drivers support a source buffer located either in RAM or SoC flash, without alignment restrictions on the source address. Write size and offset must be multiples of the minimum write block size supported by the driver.</p>
<p >Any necessary write protection management is performed by the driver write implementation itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>: flash device </td></tr>
    <tr><td class="paramname">offset</td><td>: starting offset for the write </td></tr>
    <tr><td class="paramname">data</td><td>: data to write </td></tr>
    <tr><td class="paramname">len</td><td>: Number of bytes to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Mar 5 2022 05:00:46 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
