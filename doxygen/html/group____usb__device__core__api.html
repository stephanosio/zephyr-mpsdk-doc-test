<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zephyr API Documentation: USB Device Core API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zephyr API Documentation
   &#160;<span id="projectnumber">3.0.99</span>
   </div>
   <div id="projectbrief">A Scalable Open Source RTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group____usb__device__core__api.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">USB Device Core API</div></div>
</div><!--header-->
<div class="contents">

<p>USB Device Core Layer API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__ep__cfg__data.html">usb_ep_cfg_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Endpoint Configuration.  <a href="structusb__ep__cfg__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__interface__cfg__data.html">usb_interface_cfg_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Interface Configuration.  <a href="structusb__interface__cfg__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__cfg__data.html">usb_cfg_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB device configuration.  <a href="structusb__cfg__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gabb531b022f5d2d859227a7b35d593d80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#gabb531b022f5d2d859227a7b35d593d80">USB_TRANS_READ</a>&#160;&#160;&#160;<a class="el" href="group__sys-util.html#ga3a8ea58898cb58fc96013383d39f482c">BIT</a>(0)   /** Read transfer <a class="el" href="semaphore_2sys__sem_2src_2main_8c.html#a194186a621980a6095d787bf06099591">flag</a> */</td></tr>
<tr class="separator:gabb531b022f5d2d859227a7b35d593d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga163ee39a47b0a3d9fe3697cc4f24e787"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga163ee39a47b0a3d9fe3697cc4f24e787">USB_TRANS_WRITE</a>&#160;&#160;&#160;<a class="el" href="group__sys-util.html#ga3a8ea58898cb58fc96013383d39f482c">BIT</a>(1)   /** Write transfer <a class="el" href="semaphore_2sys__sem_2src_2main_8c.html#a194186a621980a6095d787bf06099591">flag</a> */</td></tr>
<tr class="separator:ga163ee39a47b0a3d9fe3697cc4f24e787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81c618544f27e0dc0e556021b0418c40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga81c618544f27e0dc0e556021b0418c40">USB_TRANS_NO_ZLP</a>&#160;&#160;&#160;<a class="el" href="group__sys-util.html#ga3a8ea58898cb58fc96013383d39f482c">BIT</a>(2)   /** No zero-length packet <a class="el" href="semaphore_2sys__sem_2src_2main_8c.html#a194186a621980a6095d787bf06099591">flag</a> */</td></tr>
<tr class="separator:ga81c618544f27e0dc0e556021b0418c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga9a45db26a9be295640ed122533427725"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga9a45db26a9be295640ed122533427725">usb_ep_callback</a>) (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, enum <a class="el" href="group____usb__device__controller__api.html#gaf7f083f61e1406e7d41513113dccd3bd">usb_dc_ep_cb_status_code</a> cb_status)</td></tr>
<tr class="memdesc:ga9a45db26a9be295640ed122533427725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function signature for the USB Endpoint status.  <a href="group____usb__device__core__api.html#ga9a45db26a9be295640ed122533427725">More...</a><br /></td></tr>
<tr class="separator:ga9a45db26a9be295640ed122533427725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddacbff094a41c885c3041af72fa6804"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#gaddacbff094a41c885c3041af72fa6804">usb_request_handler</a>) (struct <a class="el" href="structusb__setup__packet.html">usb_setup_packet</a> *setup, <a class="el" href="stdint_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a> *transfer_len, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> **payload_data)</td></tr>
<tr class="memdesc:gaddacbff094a41c885c3041af72fa6804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function signature for class specific requests.  <a href="group____usb__device__core__api.html#gaddacbff094a41c885c3041af72fa6804">More...</a><br /></td></tr>
<tr class="separator:gaddacbff094a41c885c3041af72fa6804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3439af9464471b3acdc21f4359efb53a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga3439af9464471b3acdc21f4359efb53a">usb_interface_config</a>) (struct <a class="el" href="structusb__desc__header.html">usb_desc_header</a> *head, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> bInterfaceNumber)</td></tr>
<tr class="memdesc:ga3439af9464471b3acdc21f4359efb53a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for interface runtime configuration.  <a href="group____usb__device__core__api.html#ga3439af9464471b3acdc21f4359efb53a">More...</a><br /></td></tr>
<tr class="separator:ga3439af9464471b3acdc21f4359efb53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e599eb20f647d9bb2369d76a7dc51db"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga2e599eb20f647d9bb2369d76a7dc51db">usb_transfer_callback</a>) (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, int tsize, void *priv)</td></tr>
<tr class="separator:ga2e599eb20f647d9bb2369d76a7dc51db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga28783e727e35db1a651309a7f9f5444a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga28783e727e35db1a651309a7f9f5444a">usb_set_config</a> (const <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *usb_descriptor)</td></tr>
<tr class="memdesc:ga28783e727e35db1a651309a7f9f5444a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure USB controller.  <a href="group____usb__device__core__api.html#ga28783e727e35db1a651309a7f9f5444a">More...</a><br /></td></tr>
<tr class="separator:ga28783e727e35db1a651309a7f9f5444a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d485c77055dd975f3170fbaea7f2bdf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga2d485c77055dd975f3170fbaea7f2bdf">usb_deconfig</a> (void)</td></tr>
<tr class="memdesc:ga2d485c77055dd975f3170fbaea7f2bdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deconfigure USB controller.  <a href="group____usb__device__core__api.html#ga2d485c77055dd975f3170fbaea7f2bdf">More...</a><br /></td></tr>
<tr class="separator:ga2d485c77055dd975f3170fbaea7f2bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1fa5e491d93c2bd1fe7967c12148902"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#gad1fa5e491d93c2bd1fe7967c12148902">usb_enable</a> (<a class="el" href="group____usb__device__controller__api.html#ga2ddb0b059b4e1e76473ed7f56d0cf2ee">usb_dc_status_callback</a> status_cb)</td></tr>
<tr class="memdesc:gad1fa5e491d93c2bd1fe7967c12148902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the USB subsystem and associated hardware.  <a href="group____usb__device__core__api.html#gad1fa5e491d93c2bd1fe7967c12148902">More...</a><br /></td></tr>
<tr class="separator:gad1fa5e491d93c2bd1fe7967c12148902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65723c9469a12c87e5554169396f8e76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga65723c9469a12c87e5554169396f8e76">usb_disable</a> (void)</td></tr>
<tr class="memdesc:ga65723c9469a12c87e5554169396f8e76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the USB device.  <a href="group____usb__device__core__api.html#ga65723c9469a12c87e5554169396f8e76">More...</a><br /></td></tr>
<tr class="separator:ga65723c9469a12c87e5554169396f8e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d4b568f2f3aac4f099c35393fb601b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga6d4b568f2f3aac4f099c35393fb601b3">usb_write</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, const <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> data_len, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> *bytes_ret)</td></tr>
<tr class="memdesc:ga6d4b568f2f3aac4f099c35393fb601b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the specified endpoint.  <a href="group____usb__device__core__api.html#ga6d4b568f2f3aac4f099c35393fb601b3">More...</a><br /></td></tr>
<tr class="separator:ga6d4b568f2f3aac4f099c35393fb601b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2c21738baa839b483654d1d5baf2981"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#gab2c21738baa839b483654d1d5baf2981">usb_read</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> max_data_len, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> *ret_bytes)</td></tr>
<tr class="memdesc:gab2c21738baa839b483654d1d5baf2981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the specified endpoint.  <a href="group____usb__device__core__api.html#gab2c21738baa839b483654d1d5baf2981">More...</a><br /></td></tr>
<tr class="separator:gab2c21738baa839b483654d1d5baf2981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf206afaf32bde1b8d77d04bc6ec091f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#gaaf206afaf32bde1b8d77d04bc6ec091f">usb_ep_set_stall</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep)</td></tr>
<tr class="memdesc:gaaf206afaf32bde1b8d77d04bc6ec091f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set STALL condition on the specified endpoint.  <a href="group____usb__device__core__api.html#gaaf206afaf32bde1b8d77d04bc6ec091f">More...</a><br /></td></tr>
<tr class="separator:gaaf206afaf32bde1b8d77d04bc6ec091f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7bc410d0db8a6d2142992153bb1424d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#gae7bc410d0db8a6d2142992153bb1424d">usb_ep_clear_stall</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep)</td></tr>
<tr class="memdesc:gae7bc410d0db8a6d2142992153bb1424d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears STALL condition on the specified endpoint.  <a href="group____usb__device__core__api.html#gae7bc410d0db8a6d2142992153bb1424d">More...</a><br /></td></tr>
<tr class="separator:gae7bc410d0db8a6d2142992153bb1424d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c919f7e993f80150bdde2d7fab254ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga4c919f7e993f80150bdde2d7fab254ee">usb_ep_read_wait</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> max_data_len, <a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> *read_bytes)</td></tr>
<tr class="memdesc:ga4c919f7e993f80150bdde2d7fab254ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the specified endpoint.  <a href="group____usb__device__core__api.html#ga4c919f7e993f80150bdde2d7fab254ee">More...</a><br /></td></tr>
<tr class="separator:ga4c919f7e993f80150bdde2d7fab254ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab17b8c523ac211ff308c8dc774ba092"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#gaab17b8c523ac211ff308c8dc774ba092">usb_ep_read_continue</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep)</td></tr>
<tr class="memdesc:gaab17b8c523ac211ff308c8dc774ba092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Continue reading data from the endpoint.  <a href="group____usb__device__core__api.html#gaab17b8c523ac211ff308c8dc774ba092">More...</a><br /></td></tr>
<tr class="separator:gaab17b8c523ac211ff308c8dc774ba092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3485c3d1c3fa7259de32fd57d303bc77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga3485c3d1c3fa7259de32fd57d303bc77">usb_transfer_ep_callback</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, enum <a class="el" href="group____usb__device__controller__api.html#gaf7f083f61e1406e7d41513113dccd3bd">usb_dc_ep_cb_status_code</a>)</td></tr>
<tr class="memdesc:ga3485c3d1c3fa7259de32fd57d303bc77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer management endpoint callback.  <a href="group____usb__device__core__api.html#ga3485c3d1c3fa7259de32fd57d303bc77">More...</a><br /></td></tr>
<tr class="separator:ga3485c3d1c3fa7259de32fd57d303bc77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27c3040dca474b5b45e6bea63a500cce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga27c3040dca474b5b45e6bea63a500cce">usb_transfer</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t dlen, <a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a4089fb16419d359081465355db05f846">unsigned</a> int <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, <a class="el" href="group____usb__device__core__api.html#ga2e599eb20f647d9bb2369d76a7dc51db">usb_transfer_callback</a> cb, void *priv)</td></tr>
<tr class="memdesc:ga27c3040dca474b5b45e6bea63a500cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a transfer.  <a href="group____usb__device__core__api.html#ga27c3040dca474b5b45e6bea63a500cce">More...</a><br /></td></tr>
<tr class="separator:ga27c3040dca474b5b45e6bea63a500cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1060e3a473a7f0bc71763a413e91ab56"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga1060e3a473a7f0bc71763a413e91ab56">usb_transfer_sync</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *<a class="el" href="test__stack__fail_8c.html#a4bb6fa6c719fd9021449009ab8befc04">data</a>, size_t dlen, <a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a4089fb16419d359081465355db05f846">unsigned</a> int <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>)</td></tr>
<tr class="memdesc:ga1060e3a473a7f0bc71763a413e91ab56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a transfer and block-wait for completion.  <a href="group____usb__device__core__api.html#ga1060e3a473a7f0bc71763a413e91ab56">More...</a><br /></td></tr>
<tr class="separator:ga1060e3a473a7f0bc71763a413e91ab56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab399dc4a43a99c927ee7588a57c49211"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#gab399dc4a43a99c927ee7588a57c49211">usb_cancel_transfer</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep)</td></tr>
<tr class="memdesc:gab399dc4a43a99c927ee7588a57c49211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel any ongoing transfer on the specified endpoint.  <a href="group____usb__device__core__api.html#gab399dc4a43a99c927ee7588a57c49211">More...</a><br /></td></tr>
<tr class="separator:gab399dc4a43a99c927ee7588a57c49211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga758a63b22c48d2ae9d025adb92ed5925"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga758a63b22c48d2ae9d025adb92ed5925">usb_cancel_transfers</a> (void)</td></tr>
<tr class="memdesc:ga758a63b22c48d2ae9d025adb92ed5925"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all ongoing transfers.  <a href="group____usb__device__core__api.html#ga758a63b22c48d2ae9d025adb92ed5925">More...</a><br /></td></tr>
<tr class="separator:ga758a63b22c48d2ae9d025adb92ed5925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6292a473cffc1f8683da902c2a85d653"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga6292a473cffc1f8683da902c2a85d653">usb_transfer_is_busy</a> (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep)</td></tr>
<tr class="memdesc:ga6292a473cffc1f8683da902c2a85d653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that transfer is ongoing for the endpoint.  <a href="group____usb__device__core__api.html#ga6292a473cffc1f8683da902c2a85d653">More...</a><br /></td></tr>
<tr class="separator:ga6292a473cffc1f8683da902c2a85d653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d67c8d49b52fb33818d654ca647c1e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga7d67c8d49b52fb33818d654ca647c1e5">usb_wakeup_request</a> (void)</td></tr>
<tr class="memdesc:ga7d67c8d49b52fb33818d654ca647c1e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the USB remote wakeup procedure.  <a href="group____usb__device__core__api.html#ga7d67c8d49b52fb33818d654ca647c1e5">More...</a><br /></td></tr>
<tr class="separator:ga7d67c8d49b52fb33818d654ca647c1e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga577018c415eec38ef5038cdb2f45ed2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____usb__device__core__api.html#ga577018c415eec38ef5038cdb2f45ed2f">usb_get_remote_wakeup_status</a> (void)</td></tr>
<tr class="memdesc:ga577018c415eec38ef5038cdb2f45ed2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of the USB remote wakeup feature.  <a href="group____usb__device__core__api.html#ga577018c415eec38ef5038cdb2f45ed2f">More...</a><br /></td></tr>
<tr class="separator:ga577018c415eec38ef5038cdb2f45ed2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >USB Device Core Layer API. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga81c618544f27e0dc0e556021b0418c40" name="ga81c618544f27e0dc0e556021b0418c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81c618544f27e0dc0e556021b0418c40">&#9670;&nbsp;</a></span>USB_TRANS_NO_ZLP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_TRANS_NO_ZLP&#160;&#160;&#160;<a class="el" href="group__sys-util.html#ga3a8ea58898cb58fc96013383d39f482c">BIT</a>(2)   /** No zero-length packet <a class="el" href="semaphore_2sys__sem_2src_2main_8c.html#a194186a621980a6095d787bf06099591">flag</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

</div>
</div>
<a id="gabb531b022f5d2d859227a7b35d593d80" name="gabb531b022f5d2d859227a7b35d593d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb531b022f5d2d859227a7b35d593d80">&#9670;&nbsp;</a></span>USB_TRANS_READ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_TRANS_READ&#160;&#160;&#160;<a class="el" href="group__sys-util.html#ga3a8ea58898cb58fc96013383d39f482c">BIT</a>(0)   /** Read transfer <a class="el" href="semaphore_2sys__sem_2src_2main_8c.html#a194186a621980a6095d787bf06099591">flag</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

</div>
</div>
<a id="ga163ee39a47b0a3d9fe3697cc4f24e787" name="ga163ee39a47b0a3d9fe3697cc4f24e787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga163ee39a47b0a3d9fe3697cc4f24e787">&#9670;&nbsp;</a></span>USB_TRANS_WRITE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_TRANS_WRITE&#160;&#160;&#160;<a class="el" href="group__sys-util.html#ga3a8ea58898cb58fc96013383d39f482c">BIT</a>(1)   /** Write transfer <a class="el" href="semaphore_2sys__sem_2src_2main_8c.html#a194186a621980a6095d787bf06099591">flag</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga9a45db26a9be295640ed122533427725" name="ga9a45db26a9be295640ed122533427725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a45db26a9be295640ed122533427725">&#9670;&nbsp;</a></span>usb_ep_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* usb_ep_callback) (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, enum <a class="el" href="group____usb__device__controller__api.html#gaf7f083f61e1406e7d41513113dccd3bd">usb_dc_ep_cb_status_code</a> cb_status)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Callback function signature for the USB Endpoint status. </p>

</div>
</div>
<a id="ga3439af9464471b3acdc21f4359efb53a" name="ga3439af9464471b3acdc21f4359efb53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3439af9464471b3acdc21f4359efb53a">&#9670;&nbsp;</a></span>usb_interface_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* usb_interface_config) (struct <a class="el" href="structusb__desc__header.html">usb_desc_header</a> *head, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> bInterfaceNumber)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Function for interface runtime configuration. </p>

</div>
</div>
<a id="gaddacbff094a41c885c3041af72fa6804" name="gaddacbff094a41c885c3041af72fa6804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaddacbff094a41c885c3041af72fa6804">&#9670;&nbsp;</a></span>usb_request_handler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* usb_request_handler) (struct <a class="el" href="structusb__setup__packet.html">usb_setup_packet</a> *setup, <a class="el" href="stdint_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a> *transfer_len, <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> **payload_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Callback function signature for class specific requests. </p>
<p >Function which handles Class specific requests corresponding to an interface number specified in the device descriptor table. For host to device direction the 'len' and 'payload_data' contain the length of the received data and the pointer to the received data respectively. For device to host class requests, 'len' and 'payload_data' should be set by the callback function with the length and the address of the data to be transmitted buffer respectively. </p>

</div>
</div>
<a id="ga2e599eb20f647d9bb2369d76a7dc51db" name="ga2e599eb20f647d9bb2369d76a7dc51db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e599eb20f647d9bb2369d76a7dc51db">&#9670;&nbsp;</a></span>usb_transfer_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* usb_transfer_callback) (<a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> ep, int tsize, void *priv)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>
<p >Callback function signature for transfer completion. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab399dc4a43a99c927ee7588a57c49211" name="gab399dc4a43a99c927ee7588a57c49211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab399dc4a43a99c927ee7588a57c49211">&#9670;&nbsp;</a></span>usb_cancel_transfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb_cancel_transfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Cancel any ongoing transfer on the specified endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga758a63b22c48d2ae9d025adb92ed5925" name="ga758a63b22c48d2ae9d025adb92ed5925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga758a63b22c48d2ae9d025adb92ed5925">&#9670;&nbsp;</a></span>usb_cancel_transfers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb_cancel_transfers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Cancel all ongoing transfers. </p>

</div>
</div>
<a id="ga2d485c77055dd975f3170fbaea7f2bdf" name="ga2d485c77055dd975f3170fbaea7f2bdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d485c77055dd975f3170fbaea7f2bdf">&#9670;&nbsp;</a></span>usb_deconfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_deconfig </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Deconfigure USB controller. </p>
<p >This function returns the USB device to it's initial state</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail </dd></dl>

</div>
</div>
<a id="ga65723c9469a12c87e5554169396f8e76" name="ga65723c9469a12c87e5554169396f8e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65723c9469a12c87e5554169396f8e76">&#9670;&nbsp;</a></span>usb_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Disable the USB device. </p>
<p >Function to disable the USB device. Upon success, the specified USB interface is clock gated in hardware, it is no longer capable of generating interrupts.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail </dd></dl>

</div>
</div>
<a id="gad1fa5e491d93c2bd1fe7967c12148902" name="gad1fa5e491d93c2bd1fe7967c12148902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1fa5e491d93c2bd1fe7967c12148902">&#9670;&nbsp;</a></span>usb_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group____usb__device__controller__api.html#ga2ddb0b059b4e1e76473ed7f56d0cf2ee">usb_dc_status_callback</a>&#160;</td>
          <td class="paramname"><em>status_cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Enable the USB subsystem and associated hardware. </p>
<p >This function initializes the USB core subsystem and enables the corresponding hardware so that it can begin transmitting and receiving on the USB bus, as well as generating interrupts.</p>
<p >Class-specific initialization and registration must be performed by the user before invoking this, so that any data or events on the bus are processed correctly by the associated class handling code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status_cb</td><td>Callback registered by user to notify about USB device controller state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="gae7bc410d0db8a6d2142992153bb1424d" name="gae7bc410d0db8a6d2142992153bb1424d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7bc410d0db8a6d2142992153bb1424d">&#9670;&nbsp;</a></span>usb_ep_clear_stall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_ep_clear_stall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Clears STALL condition on the specified endpoint. </p>
<p >This function is called by USB device class handler code to clear stall condition on endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail </dd></dl>

</div>
</div>
<a id="gaab17b8c523ac211ff308c8dc774ba092" name="gaab17b8c523ac211ff308c8dc774ba092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab17b8c523ac211ff308c8dc774ba092">&#9670;&nbsp;</a></span>usb_ep_read_continue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_ep_read_continue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Continue reading data from the endpoint. </p>
<p >Clear the endpoint NAK and enable the endpoint to accept more data from the host. Usually called after <a class="el" href="group____usb__device__core__api.html#ga4c919f7e993f80150bdde2d7fab254ee" title="Read data from the specified endpoint.">usb_ep_read_wait()</a> when the consumer is fine to accept more data. Thus these calls together acts as flow control mechanism.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="ga4c919f7e993f80150bdde2d7fab254ee" name="ga4c919f7e993f80150bdde2d7fab254ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c919f7e993f80150bdde2d7fab254ee">&#9670;&nbsp;</a></span>usb_ep_read_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_ep_read_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td>
          <td class="paramname"><em>max_data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>read_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Read data from the specified endpoint. </p>
<p >This is similar to usb_ep_read, the difference being that, it doesn't clear the endpoint NAKs so that the consumer is not bogged down by further upcalls till he is done with the processing of the data. The caller should reactivate ep by invoking <a class="el" href="group____usb__device__core__api.html#gaab17b8c523ac211ff308c8dc774ba092" title="Continue reading data from the endpoint.">usb_ep_read_continue()</a> do so.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>pointer to data buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_data_len</td><td>max length of data to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">read_bytes</td><td>Number of bytes read. If data is NULL and max_data_len is 0 the number of bytes available for read should be returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="gaaf206afaf32bde1b8d77d04bc6ec091f" name="gaaf206afaf32bde1b8d77d04bc6ec091f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf206afaf32bde1b8d77d04bc6ec091f">&#9670;&nbsp;</a></span>usb_ep_set_stall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_ep_set_stall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Set STALL condition on the specified endpoint. </p>
<p >This function is called by USB device class handler code to set stall condition on endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail </dd></dl>

</div>
</div>
<a id="ga577018c415eec38ef5038cdb2f45ed2f" name="ga577018c415eec38ef5038cdb2f45ed2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga577018c415eec38ef5038cdb2f45ed2f">&#9670;&nbsp;</a></span>usb_get_remote_wakeup_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> usb_get_remote_wakeup_status </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Get status of the USB remote wakeup feature. </p>
<dl class="section return"><dt>Returns</dt><dd>true if remote wakeup has been enabled by the host, false otherwise. </dd></dl>

</div>
</div>
<a id="gab2c21738baa839b483654d1d5baf2981" name="gab2c21738baa839b483654d1d5baf2981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2c21738baa839b483654d1d5baf2981">&#9670;&nbsp;</a></span>usb_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td>
          <td class="paramname"><em>max_data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>ret_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Read data from the specified endpoint. </p>
<p >This function is called by the Endpoint handler function, after an OUT interrupt has been received for that EP. The application must only call this function through the supplied usb_ep_callback function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to data buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_data_len</td><td>Max length of data to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ret_bytes</td><td>Number of bytes read. If data is NULL and max_data_len is 0 the number of bytes available for read is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail </dd></dl>

</div>
</div>
<a id="ga28783e727e35db1a651309a7f9f5444a" name="ga28783e727e35db1a651309a7f9f5444a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28783e727e35db1a651309a7f9f5444a">&#9670;&nbsp;</a></span>usb_set_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_set_config </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>usb_descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Configure USB controller. </p>
<p >Function to configure USB controller. Configuration parameters must be valid or an error is returned</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usb_descriptor</td><td>USB descriptor table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail </dd></dl>

</div>
</div>
<a id="ga27c3040dca474b5b45e6bea63a500cce" name="ga27c3040dca474b5b45e6bea63a500cce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27c3040dca474b5b45e6bea63a500cce">&#9670;&nbsp;</a></span>usb_transfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_transfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a4089fb16419d359081465355db05f846">unsigned</a> int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group____usb__device__core__api.html#ga2e599eb20f647d9bb2369d76a7dc51db">usb_transfer_callback</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Start a transfer. </p>
<p >Start a usb transfer to/from the data buffer. This function is asynchronous and can be executed in IRQ context. The provided callback will be called on transfer completion (or error) in thread context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to data buffer to write-to/read-from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dlen</td><td>Size of data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Transfer flags (USB_TRANS_READ, USB_TRANS_WRITE...) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Function called on transfer completion/failure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Data passed back to the transfer completion callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="ga3485c3d1c3fa7259de32fd57d303bc77" name="ga3485c3d1c3fa7259de32fd57d303bc77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3485c3d1c3fa7259de32fd57d303bc77">&#9670;&nbsp;</a></span>usb_transfer_ep_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb_transfer_ep_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum&#160;</td>
          <td class="paramname"><em>usb_dc_ep_cb_status_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Transfer management endpoint callback. </p>
<p >If a USB class driver wants to use high-level transfer functions, driver needs to register this callback as usb endpoint callback. </p>

</div>
</div>
<a id="ga6292a473cffc1f8683da902c2a85d653" name="ga6292a473cffc1f8683da902c2a85d653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6292a473cffc1f8683da902c2a85d653">&#9670;&nbsp;</a></span>usb_transfer_is_busy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> usb_transfer_is_busy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Check that transfer is ongoing for the endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if transfer is ongoing, false otherwise. </dd></dl>

</div>
</div>
<a id="ga1060e3a473a7f0bc71763a413e91ab56" name="ga1060e3a473a7f0bc71763a413e91ab56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1060e3a473a7f0bc71763a413e91ab56">&#9670;&nbsp;</a></span>usb_transfer_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_transfer_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lib_2libc_2minimal_2include_2sys_2types_8h.html#a4089fb16419d359081465355db05f846">unsigned</a> int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Start a transfer and block-wait for completion. </p>
<p >Synchronous version of usb_transfer, wait for transfer completion before returning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to data buffer to write-to/read-from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dlen</td><td>Size of data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Transfer flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes transferred on success, negative errno code on fail. </dd></dl>

</div>
</div>
<a id="ga7d67c8d49b52fb33818d654ca647c1e5" name="ga7d67c8d49b52fb33818d654ca647c1e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d67c8d49b52fb33818d654ca647c1e5">&#9670;&nbsp;</a></span>usb_wakeup_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_wakeup_request </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Start the USB remote wakeup procedure. </p>
<p >Function to request a remote wakeup. This feature must be enabled in configuration, otherwise it will always return -ENOTSUP error.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail, i.e. when the bus is already active. </dd></dl>

</div>
</div>
<a id="ga6d4b568f2f3aac4f099c35393fb601b3" name="ga6d4b568f2f3aac4f099c35393fb601b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d4b568f2f3aac4f099c35393fb601b3">&#9670;&nbsp;</a></span>usb_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int usb_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>bytes_ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="usb__device_8h.html">include/usb/usb_device.h</a>&gt;</code></p>

<p>Write data to the specified endpoint. </p>
<p >Function to write data to the specified endpoint. The supplied usb_ep_callback will be called when transmission is done.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address corresponding to the one listed in the device configuration table </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to data to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_len</td><td>Length of data requested to write. This may be zero for a zero length status packet. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bytes_ret</td><td>Bytes written to the EP FIFO. This value may be NULL if the application expects all bytes to be written</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno code on fail </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Mar 5 2022 05:00:47 for Zephyr API Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
