<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shell &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Storage" href="../storage/index.html" />
    <link rel="prev" title="Resource Management" href="../resource_management/index.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libc/index.html">C standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modbus/index.html">Modbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Shell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#connecting-to-segger-rtt-via-tcp-on-macos-for-example">Connecting to Segger RTT via TCP (on macOS, for example)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#commands">Commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-commands">Creating commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dictionary-commands">Dictionary commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commands-execution">Commands execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#built-in-commands">Built-in commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tab-feature">Tab Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#history-feature">History Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wildcards-feature">Wildcards Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#meta-keys-feature">Meta Keys Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getopt-feature">Getopt Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obscured-input-feature">Obscured Input Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shell-logger-backend-feature">Shell Logger Backend Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usermode/index.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">API Reference</a> &raquo;</li>
  
  <li>Shell</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/shell/index.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="shell">
<span id="shell-api"></span><h1>Shell<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id2">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#connecting-to-segger-rtt-via-tcp-on-macos-for-example" id="id3">Connecting to Segger RTT via TCP (on macOS, for example)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#commands" id="id4">Commands</a></p>
<ul>
<li><p><a class="reference internal" href="#creating-commands" id="id5">Creating commands</a></p></li>
<li><p><a class="reference internal" href="#dictionary-commands" id="id6">Dictionary commands</a></p></li>
<li><p><a class="reference internal" href="#commands-execution" id="id7">Commands execution</a></p></li>
<li><p><a class="reference internal" href="#built-in-commands" id="id8">Built-in commands</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-feature" id="id9">Tab Feature</a></p></li>
<li><p><a class="reference internal" href="#history-feature" id="id10">History Feature</a></p></li>
<li><p><a class="reference internal" href="#wildcards-feature" id="id11">Wildcards Feature</a></p></li>
<li><p><a class="reference internal" href="#meta-keys-feature" id="id12">Meta Keys Feature</a></p></li>
<li><p><a class="reference internal" href="#getopt-feature" id="id13">Getopt Feature</a></p></li>
<li><p><a class="reference internal" href="#obscured-input-feature" id="id14">Obscured Input Feature</a></p></li>
<li><p><a class="reference internal" href="#shell-logger-backend-feature" id="id15">Shell Logger Backend Feature</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id16">Usage</a></p></li>
<li><p><a class="reference internal" href="#api-reference" id="id17">API Reference</a></p></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id2">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This module allows you to create and handle a shell with a user-defined command
set. You can use it in examples where more than simple button or LED user
interaction is required. This module is a Unix-like shell with these features:</p>
<ul class="simple">
<li><p>Support for multiple instances.</p></li>
<li><p>Advanced cooperation with the <a class="reference internal" href="../logging/index.html#logging-api"><span class="std std-ref">Logging</span></a>.</p></li>
<li><p>Support for static and dynamic commands.</p></li>
<li><p>Support for dictionary commands.</p></li>
<li><p>Smart command completion with the <kbd class="kbd docutils literal notranslate">Tab</kbd> key.</p></li>
<li><p>Built-in commands: <strong class="command">clear</strong>, <strong class="command">shell</strong>, <strong class="command">colors</strong>,
<strong class="command">echo</strong>, <strong class="command">history</strong> and <strong class="command">resize</strong>.</p></li>
<li><p>Viewing recently executed commands using keys: <kbd class="kbd docutils literal notranslate">↑</kbd> <kbd class="kbd docutils literal notranslate">↓</kbd> or meta keys.</p></li>
<li><p>Text edition using keys: <kbd class="kbd docutils literal notranslate">←</kbd>, <kbd class="kbd docutils literal notranslate">→</kbd>, <kbd class="kbd docutils literal notranslate">Backspace</kbd>,
<kbd class="kbd docutils literal notranslate">Delete</kbd>, <kbd class="kbd docutils literal notranslate">End</kbd>, <kbd class="kbd docutils literal notranslate">Home</kbd>, <kbd class="kbd docutils literal notranslate">Insert</kbd>.</p></li>
<li><p>Support for ANSI escape codes: <code class="docutils literal notranslate"><span class="pre">VT100</span></code> and <code class="docutils literal notranslate"><span class="pre">ESC[n~</span></code> for cursor control
and color printing.</p></li>
<li><p>Support for editing multiline commands.</p></li>
<li><p>Built-in handler to display help for the commands.</p></li>
<li><p>Support for wildcards: <code class="docutils literal notranslate"><span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">?</span></code>.</p></li>
<li><p>Support for meta keys.</p></li>
<li><p>Support for getopt and getopt_long.</p></li>
<li><p>Kconfig configuration to optimize memory usage.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some of these features have a significant impact on RAM and flash usage,
but many can be disabled when not needed.  To default to options which
favor reduced RAM and flash requirements instead of features, you should
enable <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_MINIMAL"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_MINIMAL</span></code></a> and selectively enable just the
features you want.</p>
</div>
<p>The module can be connected to any transport for command input and output.
At this point, the following transport layers are implemented:</p>
<ul class="simple">
<li><p>Segger RTT</p></li>
<li><p>SMP</p></li>
<li><p>Telnet</p></li>
<li><p>UART</p></li>
<li><p>USB</p></li>
<li><p>DUMMY - not a physical transport layer.</p></li>
</ul>
<div class="section" id="connecting-to-segger-rtt-via-tcp-on-macos-for-example">
<h3><a class="toc-backref" href="#id3">Connecting to Segger RTT via TCP (on macOS, for example)</a><a class="headerlink" href="#connecting-to-segger-rtt-via-tcp-on-macos-for-example" title="Permalink to this headline">¶</a></h3>
<p>On macOS JLinkRTTClient won’t let you enter input. Instead, please use following
procedure:</p>
<ul>
<li><p>Open up a first Terminal window and enter:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>JLinkRTTLogger -Device NRF52840_XXAA -RTTChannel 1 -if SWD -Speed 4000 ~/rtt.log
</pre></div>
</div>
<p>(change device if required)</p>
</li>
<li><p>Open up a second Terminal window and enter:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nc localhost 19021
</pre></div>
</div>
</li>
<li><p>Now you should have a network connection to RTT that will let you enter input
to the shell.</p></li>
</ul>
</div>
</div>
<div class="section" id="commands">
<h2><a class="toc-backref" href="#id4">Commands</a><a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<p>Shell commands are organized in a tree structure and grouped into the following
types:</p>
<ul class="simple">
<li><p>Root command (level 0): Gathered and alphabetically sorted in a dedicated
memory section.</p></li>
<li><p>Static subcommand (level &gt; 0): Number and syntax must be known during compile
time. Created in the software module.</p></li>
<li><p>Dynamic subcommand (level &gt; 0): Number and syntax does not need to be known
during compile time. Created in the software module.</p></li>
</ul>
<div class="section" id="creating-commands">
<h3><a class="toc-backref" href="#id5">Creating commands</a><a class="headerlink" href="#creating-commands" title="Permalink to this headline">¶</a></h3>
<p>Use the following macros for adding shell commands:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.SHELL_CMD_REGISTER" title="SHELL_CMD_REGISTER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_CMD_REGISTER</span></code></a> - Create root command. All root commands must
have different name.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_COND_CMD_REGISTER" title="SHELL_COND_CMD_REGISTER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_COND_CMD_REGISTER</span></code></a> - Conditionally (if compile time flag is
set) create root command. All root commands must have different name.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_CMD_ARG_REGISTER" title="SHELL_CMD_ARG_REGISTER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_CMD_ARG_REGISTER</span></code></a> - Create root command with arguments.
All root commands must have different name.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_COND_CMD_ARG_REGISTER" title="SHELL_COND_CMD_ARG_REGISTER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_COND_CMD_ARG_REGISTER</span></code></a> - Conditionally (if compile time flag
is set) create root command with arguments. All root commands must have
different name.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_CMD" title="SHELL_CMD"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_CMD</span></code></a> - Initialize a command.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_COND_CMD" title="SHELL_COND_CMD"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_COND_CMD</span></code></a> - Initialize a command if compile time flag is set.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_EXPR_CMD" title="SHELL_EXPR_CMD"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_EXPR_CMD</span></code></a> - Initialize a command if compile time expression is
non-zero.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_CMD_ARG" title="SHELL_CMD_ARG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_CMD_ARG</span></code></a> - Initialize a command with arguments.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_COND_CMD_ARG" title="SHELL_COND_CMD_ARG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_COND_CMD_ARG</span></code></a> - Initialize a command with arguments if compile
time flag is set.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_EXPR_CMD_ARG" title="SHELL_EXPR_CMD_ARG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_EXPR_CMD_ARG</span></code></a> - Initialize a command with arguments if compile
time expression is non-zero.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_STATIC_SUBCMD_SET_CREATE" title="SHELL_STATIC_SUBCMD_SET_CREATE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_STATIC_SUBCMD_SET_CREATE</span></code></a> - Create a static subcommands
array.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_SUBCMD_DICT_SET_CREATE" title="SHELL_SUBCMD_DICT_SET_CREATE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_SUBCMD_DICT_SET_CREATE</span></code></a> - Create a dictionary subcommands
array.</p></li>
<li><p><a class="reference internal" href="#c.SHELL_DYNAMIC_CMD_CREATE" title="SHELL_DYNAMIC_CMD_CREATE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_DYNAMIC_CMD_CREATE</span></code></a> - Create a dynamic subcommands array.</p></li>
</ul>
<p>Commands can be created in any file in the system that includes
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/shell/shell.h">include/shell/shell.h</a>. All created commands are available for all
shell instances.</p>
<div class="section" id="static-commands">
<h4>Static commands<a class="headerlink" href="#static-commands" title="Permalink to this headline">¶</a></h4>
<p>Example code demonstrating how to create a root command with static
subcommands.</p>
<img alt="Command tree with static commands." class="align-center" src="../../_images/static_cmd.PNG" />
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Creating subcommands (level 1 command) array for command &quot;demo&quot;. */</span><span class="w"></span>
<span class="n">SHELL_STATIC_SUBCMD_SET_CREATE</span><span class="p">(</span><span class="n">sub_demo</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_CMD</span><span class="p">(</span><span class="n">params</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Print params command.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                                               </span><span class="n">cmd_demo_params</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_CMD</span><span class="p">(</span><span class="n">ping</span><span class="p">,</span><span class="w">   </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ping command.&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cmd_demo_ping</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_SUBCMD_SET_END</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
<span class="cm">/* Creating root (level 0) command &quot;demo&quot; */</span><span class="w"></span>
<span class="n">SHELL_CMD_REGISTER</span><span class="p">(</span><span class="n">demo</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sub_demo</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Demo commands&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Example implementation can be found under following location:
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/samples/subsys/shell/shell_module/src/main.c">samples/subsys/shell/shell_module/src/main.c</a>.</p>
</div>
</div>
<div class="section" id="dictionary-commands">
<h3><a class="toc-backref" href="#id6">Dictionary commands</a><a class="headerlink" href="#dictionary-commands" title="Permalink to this headline">¶</a></h3>
<p>This is a special kind of static commands. Dictionary commands can be used
every time you want to use a pair: (string &lt;-&gt; corresponding data) in
a command handler. The string is usually a verbal description of a given data.
The idea is to use the string as a command syntax that can be prompted by the
shell and corresponding data can be used to process the command.</p>
<p>Let’s use an example. Suppose you created a command to set an ADC gain.
It is a perfect place where a dictionary can be used. The dictionary would
be a set of pairs: (string: gain_value, int: value) where int value could
be used with the ADC driver API.</p>
<p>Abstract code for this task would look like this:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">gain_cmd_handler</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">shell</span><span class="w"> </span><span class="o">*</span><span class="n">shell</span><span class="p">,</span><span class="w"></span>
<span class="w">                            </span><span class="kt">size_t</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">gain</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="cm">/* data is a value corresponding to called command syntax */</span><span class="w"></span>
<span class="w">        </span><span class="n">gain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">data</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">adc_set_gain</span><span class="p">(</span><span class="n">gain</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">shell_print</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ADC gain set to: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="w"></span>
<span class="w">                           </span><span class="s">&quot;Value send to ADC driver: %d&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                           </span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"></span>
<span class="w">                           </span><span class="n">gain</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">SHELL_SUBCMD_DICT_SET_CREATE</span><span class="p">(</span><span class="n">sub_gain</span><span class="p">,</span><span class="w"> </span><span class="n">gain_cmd_handler</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">(</span><span class="n">gain_1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">gain_2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">gain_1_2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">gain_1_4</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
<span class="n">SHELL_CMD_REGISTER</span><span class="p">(</span><span class="n">gain</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sub_gain</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Set ADC gain&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>This is how it would look like in the shell:</p>
<img alt="Dictionary commands example." class="align-center" src="../../_images/dict_cmd.png" />
<div class="section" id="dynamic-commands">
<h4>Dynamic commands<a class="headerlink" href="#dynamic-commands" title="Permalink to this headline">¶</a></h4>
<p>Example code demonstrating how to create a root command with static and dynamic
subcommands. At the beginning dynamic command list is empty. New commands
can be added by typing:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dynamic add &lt;new_dynamic_command&gt;
</pre></div>
</div>
<p>Newly added commands can be prompted or autocompleted with the <kbd class="kbd docutils literal notranslate">Tab</kbd> key.</p>
<img alt="Command tree with static and dynamic commands." class="align-center" src="../../_images/dynamic_cmd.PNG" />
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Buffer for 10 dynamic commands */</span><span class="w"></span>
<span class="k">static</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">dynamic_cmd_buffer</span><span class="p">[</span><span class="mi">10</span><span class="p">][</span><span class="mi">50</span><span class="p">];</span><span class="w"></span>

<span class="cm">/* commands counter */</span><span class="w"></span>
<span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">dynamic_cmd_cnt</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* Function returning command dynamically created</span>
<span class="cm"> * in  dynamic_cmd_buffer.</span>
<span class="cm"> */</span><span class="w"></span>
<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dynamic_cmd_get</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">idx</span><span class="p">,</span><span class="w"></span>
<span class="w">                            </span><span class="k">struct</span><span class="w"> </span><span class="nc">shell_static_entry</span><span class="w"> </span><span class="o">*</span><span class="n">entry</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dynamic_cmd_cnt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">syntax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dynamic_cmd_buffer</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span><span class="w"></span>
<span class="w">                </span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">handler</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="w">                </span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">subcmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="w">                </span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Show dynamic command name.&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="cm">/* if there are no more dynamic commands available</span>
<span class="cm">                 * syntax must be set to NULL.</span>
<span class="cm">                 */</span><span class="w"></span>
<span class="w">                </span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">syntax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">SHELL_DYNAMIC_CMD_CREATE</span><span class="p">(</span><span class="n">m_sub_dynamic_set</span><span class="p">,</span><span class="w"> </span><span class="n">dynamic_cmd_get</span><span class="p">);</span><span class="w"></span>
<span class="n">SHELL_STATIC_SUBCMD_SET_CREATE</span><span class="p">(</span><span class="n">m_sub_dynamic</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_CMD</span><span class="p">(</span><span class="n">add</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="s">&quot;Add new command to dynamic_cmd_buffer and&quot;</span><span class="w"></span>
<span class="w">                  </span><span class="s">&quot; sort them alphabetically.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="n">cmd_dynamic_add</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_CMD</span><span class="p">(</span><span class="n">execute</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">m_sub_dynamic_set</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="s">&quot;Execute a command.&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cmd_dynamic_execute</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_CMD</span><span class="p">(</span><span class="n">remove</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">m_sub_dynamic_set</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="s">&quot;Remove a command from dynamic_cmd_buffer.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="n">cmd_dynamic_remove</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_CMD</span><span class="p">(</span><span class="n">show</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="s">&quot;Show all commands in dynamic_cmd_buffer.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="n">cmd_dynamic_show</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_SUBCMD_SET_END</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
<span class="n">SHELL_CMD_REGISTER</span><span class="p">(</span><span class="n">dynamic</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">m_sub_dynamic</span><span class="p">,</span><span class="w"></span>
<span class="w">           </span><span class="s">&quot;Demonstrate dynamic command usage.&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cmd_dynamic</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Example implementation can be found under following location:
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/samples/subsys/shell/shell_module/src/dynamic_cmd.c">samples/subsys/shell/shell_module/src/dynamic_cmd.c</a>.</p>
</div>
</div>
<div class="section" id="commands-execution">
<h3><a class="toc-backref" href="#id7">Commands execution</a><a class="headerlink" href="#commands-execution" title="Permalink to this headline">¶</a></h3>
<p>Each command or subcommand may have a handler. The shell executes the handler
that is found deepest in the command tree and further subcommands (without a
handler) are passed as arguments. Characters within parentheses are treated
as one argument. If shell wont find a handler it will display an error message.</p>
<p>Commands can be also executed from a user application using any active backend
and a function <a class="reference internal" href="#c.shell_execute_cmd" title="shell_execute_cmd"><code class="xref c c-func docutils literal notranslate"><span class="pre">shell_execute_cmd()</span></code></a>, as shown in this example:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="cm">/* Below code will execute &quot;clear&quot; command on a DUMMY backend */</span><span class="w"></span>
<span class="w">        </span><span class="n">shell_execute_cmd</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;clear&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="cm">/* Below code will execute &quot;shell colors off&quot; command on</span>
<span class="cm">         * an UART backend</span>
<span class="cm">         */</span><span class="w"></span>
<span class="w">        </span><span class="n">shell_execute_cmd</span><span class="p">(</span><span class="n">shell_backend_uart_get_ptr</span><span class="p">(),</span><span class="w"></span>
<span class="w">                          </span><span class="s">&quot;shell colors off&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Enable the DUMMY backend by setting the Kconfig
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_BACKEND_DUMMY"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_BACKEND_DUMMY</span></code></a> option.</p>
<div class="section" id="command-handler">
<h4>Command handler<a class="headerlink" href="#command-handler" title="Permalink to this headline">¶</a></h4>
<p>Simple command handler implementation:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">cmd_handler</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">shell</span><span class="w"> </span><span class="o">*</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ARG_UNUSED</span><span class="p">(</span><span class="n">argc</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">ARG_UNUSED</span><span class="p">(</span><span class="n">argv</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">shell_fprintf</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="n">SHELL_INFO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Print info message</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">shell_print</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Print simple text.&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">shell_warn</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Print warning text.&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">shell_error</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Print error text.&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Function <a class="reference internal" href="#c.shell_fprintf" title="shell_fprintf"><code class="xref c c-func docutils literal notranslate"><span class="pre">shell_fprintf()</span></code></a> or the shell print macros:
<a class="reference internal" href="#c.shell_print" title="shell_print"><code class="xref c c-macro docutils literal notranslate"><span class="pre">shell_print</span></code></a>, <a class="reference internal" href="#c.shell_info" title="shell_info"><code class="xref c c-macro docutils literal notranslate"><span class="pre">shell_info</span></code></a>, <a class="reference internal" href="#c.shell_warn" title="shell_warn"><code class="xref c c-macro docutils literal notranslate"><span class="pre">shell_warn</span></code></a> and
<a class="reference internal" href="#c.shell_error" title="shell_error"><code class="xref c c-macro docutils literal notranslate"><span class="pre">shell_error</span></code></a> can be used from the command handler or from threads,
but not from an interrupt context. Instead, interrupt handlers should use
<a class="reference internal" href="../logging/index.html#logging-api"><span class="std std-ref">Logging</span></a> for printing.</p>
</div>
<div class="section" id="command-help">
<h4>Command help<a class="headerlink" href="#command-help" title="Permalink to this headline">¶</a></h4>
<p>Every user-defined command or subcommand can have its own help description.
The help for commands and subcommands can be created with respective macros:
<a class="reference internal" href="#c.SHELL_CMD_REGISTER" title="SHELL_CMD_REGISTER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_CMD_REGISTER</span></code></a>, <a class="reference internal" href="#c.SHELL_CMD_ARG_REGISTER" title="SHELL_CMD_ARG_REGISTER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_CMD_ARG_REGISTER</span></code></a>,
<a class="reference internal" href="#c.SHELL_CMD" title="SHELL_CMD"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_CMD</span></code></a>, and <a class="reference internal" href="#c.SHELL_CMD_ARG" title="SHELL_CMD_ARG"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_CMD_ARG</span></code></a>.</p>
<p>Shell prints this help message when you call a command
or subcommand with <code class="docutils literal notranslate"><span class="pre">-h</span></code> or <code class="docutils literal notranslate"><span class="pre">--help</span></code> parameter.</p>
</div>
<div class="section" id="parent-commands">
<h4>Parent commands<a class="headerlink" href="#parent-commands" title="Permalink to this headline">¶</a></h4>
<p>In the subcommand handler, you can access both the parameters passed to
commands or the parent commands, depending on how you index <code class="docutils literal notranslate"><span class="pre">argv</span></code>.</p>
<ul class="simple">
<li><p>When indexing <code class="docutils literal notranslate"><span class="pre">argv</span></code> with positive numbers, you can access the parameters.</p></li>
<li><p>When indexing <code class="docutils literal notranslate"><span class="pre">argv</span></code> with negative numbers, you can access the parent
commands.</p></li>
<li><p>The subcommand to which the handler belongs has the <code class="docutils literal notranslate"><span class="pre">argv</span></code> index of 0.</p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">cmd_handler</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">shell</span><span class="w"> </span><span class="o">*</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"></span>
<span class="w">                       </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ARG_UNUSED</span><span class="p">(</span><span class="n">argc</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="cm">/* If it is a subcommand handler parent command syntax</span>
<span class="cm">         * can be found using argv[-1].</span>
<span class="cm">         */</span><span class="w"></span>
<span class="w">        </span><span class="n">shell_print</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;This command has a parent command: %s&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                      </span><span class="n">argv</span><span class="p">[</span><span class="mi">-1</span><span class="p">]);</span><span class="w"></span>

<span class="w">        </span><span class="cm">/* Print this command syntax */</span><span class="w"></span>
<span class="w">        </span><span class="n">shell_print</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;This command syntax is: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="w"></span>

<span class="w">        </span><span class="cm">/* Print first argument */</span><span class="w"></span>
<span class="w">        </span><span class="n">shell_print</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="built-in-commands">
<h3><a class="toc-backref" href="#id8">Built-in commands</a><a class="headerlink" href="#built-in-commands" title="Permalink to this headline">¶</a></h3>
<p>These commands are activated by <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_CMDS"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_CMDS</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<ul>
<li><p><strong class="command">clear</strong> - Clears the screen.</p></li>
<li><p><strong class="command">history</strong> - Shows the recently entered commands.</p></li>
<li><p><strong class="command">resize</strong> - Must be executed when terminal width is different than 80
characters or after each change of terminal width. It ensures proper
multiline text display and <kbd class="kbd docutils literal notranslate">←</kbd>, <kbd class="kbd docutils literal notranslate">→</kbd>, <kbd class="kbd docutils literal notranslate">End</kbd>, <kbd class="kbd docutils literal notranslate">Home</kbd> keys
handling. Currently this command works only with UART flow control switched
on. It can be also called with a subcommand:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong class="command">default</strong> - Shell will send terminal width = 80 to the
terminal and assume successful delivery.</p></li>
</ul>
</div></blockquote>
<p>These command needs extra activation:
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_CMDS_RESIZE"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_CMDS_RESIZE</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</li>
<li><p><strong class="command">select</strong> - It can be used to set new root command. Exit to main
command tree is with alt+r. This command needs extra activation:
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_CMDS_SELECT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_CMDS_SELECT</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p><strong class="command">shell</strong> - Root command with useful shell-related subcommands like:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong class="command">echo</strong> - Toggles shell echo.</p></li>
<li><p><strong class="command">colors</strong> - Toggles colored syntax. This might be helpful in
case of Bluetooth shell to limit the amount of transferred bytes.</p></li>
<li><p><strong class="command">stats</strong> - Shows shell statistics.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="tab-feature">
<h2><a class="toc-backref" href="#id9">Tab Feature</a><a class="headerlink" href="#tab-feature" title="Permalink to this headline">¶</a></h2>
<p>The Tab button can be used to suggest commands or subcommands. This feature
is enabled by <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_TAB"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_TAB</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.
It can also be used for partial or complete auto-completion of commands.
This feature is activated by
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_TAB_AUTOCOMPLETION"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_TAB_AUTOCOMPLETION</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.
When user starts writing a command and presses the <kbd class="kbd docutils literal notranslate">Tab</kbd> button then
the shell will do one of 3 possible things:</p>
<ul class="simple">
<li><p>Autocomplete the command.</p></li>
<li><p>Prompts available commands and if possible partly completes the command.</p></li>
<li><p>Will not do anything if there are no available or matching commands.</p></li>
</ul>
<img alt="Tab Feature usage example" class="align-center" src="../../_images/tab_prompt.png" />
</div>
<div class="section" id="history-feature">
<h2><a class="toc-backref" href="#id10">History Feature</a><a class="headerlink" href="#history-feature" title="Permalink to this headline">¶</a></h2>
<p>This feature enables commands history in the shell. It is activated by:
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_HISTORY"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_HISTORY</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>. History can be accessed
using keys: <kbd class="kbd docutils literal notranslate">↑</kbd> <kbd class="kbd docutils literal notranslate">↓</kbd> or <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">n</kbd></kbd> and <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">p</kbd></kbd>
if meta keys are active.
Number of commands that can be stored depends on size
of <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_HISTORY_BUFFER"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_HISTORY_BUFFER</span></code></a> parameter.</p>
</div>
<div class="section" id="wildcards-feature">
<h2><a class="toc-backref" href="#id11">Wildcards Feature</a><a class="headerlink" href="#wildcards-feature" title="Permalink to this headline">¶</a></h2>
<p>The shell module can handle wildcards. Wildcards are interpreted correctly
when expanded command and its subcommands do not have a handler. For example,
if you want to set logging level to <code class="docutils literal notranslate"><span class="pre">err</span></code> for the <code class="docutils literal notranslate"><span class="pre">app</span></code> and <code class="docutils literal notranslate"><span class="pre">app_test</span></code>
modules you can execute the following command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>log enable err a*
</pre></div>
</div>
<img alt="Wildcard usage example" class="align-center" src="../../_images/wildcard.png" />
<p>This feature is activated by <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_WILDCARD"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_WILDCARD</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</div>
<div class="section" id="meta-keys-feature">
<h2><a class="toc-backref" href="#id12">Meta Keys Feature</a><a class="headerlink" href="#meta-keys-feature" title="Permalink to this headline">¶</a></h2>
<p>The shell module supports the following meta keys:</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-number">Table 25 </span><span class="caption-text">Implemented meta keys</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Meta keys</p></th>
<th class="head"><p>Action</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">a</kbd></kbd></p></td>
<td><p>Moves the cursor to the beginning of the line.</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">b</kbd></kbd></p></td>
<td><p>Moves the cursor backward one character.</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">c</kbd></kbd></p></td>
<td><p>Preserves the last command on the screen and starts a new command in
a new line.</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">d</kbd></kbd></p></td>
<td><p>Deletes the character under the cursor.</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">e</kbd></kbd></p></td>
<td><p>Moves the cursor to the end of the line.</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">f</kbd></kbd></p></td>
<td><p>Moves the cursor forward one character.</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">k</kbd></kbd></p></td>
<td><p>Deletes from the cursor to the end of the line.</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">l</kbd></kbd></p></td>
<td><p>Clears the screen and leaves the currently typed command at the top of
the screen.</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">n</kbd></kbd></p></td>
<td><p>Moves in history to next entry.</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">p</kbd></kbd></p></td>
<td><p>Moves in history to previous entry.</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">u</kbd></kbd></p></td>
<td><p>Clears the currently typed command.</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">w</kbd></kbd></p></td>
<td><p>Removes the word or part of the word to the left of the cursor. Words
separated by period instead of space are treated as one word.</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Alt</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">b</kbd></kbd></p></td>
<td><p>Moves the cursor backward one word.</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Alt</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">f</kbd></kbd></p></td>
<td><p>Moves the cursor forward one word.</p></td>
</tr>
</tbody>
</table>
<p>This feature is activated by <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_METAKEYS"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_METAKEYS</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</div>
<div class="section" id="getopt-feature">
<h2><a class="toc-backref" href="#id13">Getopt Feature</a><a class="headerlink" href="#getopt-feature" title="Permalink to this headline">¶</a></h2>
<p>Some shell users apart from subcommands might need to use options as well.
the arguments string, looking for supported options. Typically, this task
is accomplished by the <code class="docutils literal notranslate"><span class="pre">getopt</span></code> familly functions.</p>
<p>For this purpose shell supports the getopt and getopt_long libraries available
in the FreeBSD project. This feature is activated by:
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_GETOPT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_GETOPT</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code> and <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_GETOPT_LONG"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_GETOPT_LONG</span></code></a>
set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<p>This feature can be used in thread safe as well as non thread safe manner.
The former is full compatible with regular getopt usage while the latter
a bit differs.</p>
<p>An example non-thread safe usage:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">cvalue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getopt</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abhc:&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;c&#39;</span><span class="o">:</span><span class="w"></span>
<span class="w">              </span><span class="n">cvalue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">optarg</span><span class="p">;</span><span class="w"></span>
<span class="w">              </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"></span>
<span class="w">              </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>An example thread safe usage:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">cvalue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">getopt_state</span><span class="w"> </span><span class="o">*</span><span class="n">state</span><span class="p">;</span><span class="w"></span>
<span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getopt</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abhc:&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getopt_state_get</span><span class="p">();</span><span class="w"></span>
<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;c&#39;</span><span class="o">:</span><span class="w"></span>
<span class="w">              </span><span class="n">cvalue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="o">-&gt;</span><span class="n">optarg</span><span class="p">;</span><span class="w"></span>
<span class="w">              </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span><span class="w"></span>
<span class="w">              </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Thread safe getopt functionality is activated by
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_GETOPT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_GETOPT</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</div>
<div class="section" id="obscured-input-feature">
<h2><a class="toc-backref" href="#id14">Obscured Input Feature</a><a class="headerlink" href="#obscured-input-feature" title="Permalink to this headline">¶</a></h2>
<p>With the obscured input feature, the shell can be used for implementing a login
prompt or other user interaction whereby the characters the user types should
not be revealed on screen, such as when entering a password.</p>
<p>Once the obscured input has been accepted, it is normally desired to return the
shell to normal operation.  Such runtime control is possible with the
<code class="docutils literal notranslate"><span class="pre">shell_obscure_set</span></code> function.</p>
<p>An example of login and logout commands using this feature is located in
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/samples/subsys/shell/shell_module/src/main.c">samples/subsys/shell/shell_module/src/main.c</a> and the config file
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/samples/subsys/shell/shell_module/prj_login.conf">samples/subsys/shell/shell_module/prj_login.conf</a>.</p>
<p>This feature is activated upon startup by <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_START_OBSCURED"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_START_OBSCURED</span></code></a>
set to <code class="docutils literal notranslate"><span class="pre">y</span></code>. With this set either way, the option can still be controlled later
at runtime. <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_CMDS_SELECT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_CMDS_SELECT</span></code></a> is useful to prevent entry
of any other command besides a login command, by means of the
<code class="docutils literal notranslate"><span class="pre">shell_set_root_cmd</span></code> function. Likewise, <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_PROMPT_UART"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_PROMPT_UART</span></code></a>
allows you to set the prompt upon startup, but it can be changed later with the
<code class="docutils literal notranslate"><span class="pre">shell_prompt_change</span></code> function.</p>
</div>
<div class="section" id="shell-logger-backend-feature">
<h2><a class="toc-backref" href="#id15">Shell Logger Backend Feature</a><a class="headerlink" href="#shell-logger-backend-feature" title="Permalink to this headline">¶</a></h2>
<p>Shell instance can act as the <a class="reference internal" href="../logging/index.html#logging-api"><span class="std std-ref">Logging</span></a> backend. Shell ensures that log
messages are correctly multiplexed with shell output. Log messages from logger
thread are enqueued and processed in the shell thread. Logger thread will block
for configurable amount of time if queue is full, blocking logger thread context
for that time. Oldest log message is removed from the queue after timeout and
new message is enqueued. Use the <code class="docutils literal notranslate"><span class="pre">shell</span> <span class="pre">stats</span> <span class="pre">show</span></code> command to retrieve
number of log messages dropped by the shell instance. Log queue size and timeout
are <a class="reference internal" href="#c.SHELL_DEFINE" title="SHELL_DEFINE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">SHELL_DEFINE</span></code></a> arguments.</p>
<p>This feature is activated by: <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_LOG_BACKEND"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_LOG_BACKEND</span></code></a> set to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Enqueuing timeout must be set carefully when multiple backends are used
in the system. The shell instance could have a slow transport or could
block, for example, by a UART with hardware flow control. If timeout is
set too high, the logger thread could be blocked and impact other logger
backends.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As the shell is a complex logger backend, it can not output logs if
the application crashes before the shell thread is running. In this
situation, you can enable one of the simple logging backends instead,
such as UART (<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BACKEND_UART"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_UART</span></code></a>) or
RTT (<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BACKEND_RTT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_RTT</span></code></a>), which are available earlier
during system initialization.</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id16">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>To create a new shell instance user needs to activate requested
backend using <code class="docutils literal notranslate"><span class="pre">menuconfig</span></code>.</p>
<p>The following code shows a simple use case of this library:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">cmd_demo_ping</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">shell</span><span class="w"> </span><span class="o">*</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"></span>
<span class="w">                         </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ARG_UNUSED</span><span class="p">(</span><span class="n">argc</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">ARG_UNUSED</span><span class="p">(</span><span class="n">argv</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">shell_print</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pong&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">cmd_demo_params</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">shell</span><span class="w"> </span><span class="o">*</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"></span>
<span class="w">                           </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="n">shell_print</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;argc = %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">argc</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">argc</span><span class="p">;</span><span class="w"> </span><span class="n">cnt</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">shell_print</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;  argv[%d] = %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cnt</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="n">cnt</span><span class="p">]);</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="cm">/* Creating subcommands (level 1 command) array for command &quot;demo&quot;. */</span><span class="w"></span>
<span class="n">SHELL_STATIC_SUBCMD_SET_CREATE</span><span class="p">(</span><span class="n">sub_demo</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_CMD</span><span class="p">(</span><span class="n">params</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Print params command.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                                               </span><span class="n">cmd_demo_params</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_CMD</span><span class="p">(</span><span class="n">ping</span><span class="p">,</span><span class="w">   </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ping command.&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cmd_demo_ping</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">SHELL_SUBCMD_SET_END</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
<span class="cm">/* Creating root (level 0) command &quot;demo&quot; without a handler */</span><span class="w"></span>
<span class="n">SHELL_CMD_REGISTER</span><span class="p">(</span><span class="n">demo</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sub_demo</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Demo commands&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>

<span class="cm">/* Creating root (level 0) command &quot;version&quot; */</span><span class="w"></span>
<span class="n">SHELL_CMD_REGISTER</span><span class="p">(</span><span class="n">version</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Show kernel version&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cmd_version</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Users may use the <kbd class="kbd docutils literal notranslate">Tab</kbd> key to complete a command/subcommand or to see the
available subcommands for the currently entered command level.
For example, when the cursor is positioned at the beginning of the command
line and the <kbd class="kbd docutils literal notranslate">Tab</kbd> key is pressed, the user will see all root (level 0)
commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>clear  demo  shell  history  log  resize  version
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To view the subcommands that are available for a specific command, you
must first type a <kbd class="kbd docutils literal notranslate">space</kbd> after this command and then hit
<kbd class="kbd docutils literal notranslate">Tab</kbd>.</p>
</div>
<p>These commands are registered by various modules, for example:</p>
<ul class="simple">
<li><p><strong class="command">clear</strong>, <strong class="command">shell</strong>, <strong class="command">history</strong>, and <strong class="command">resize</strong>
are built-in commands which have been registered by
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/subsys/shell/shell.c">subsys/shell/shell.c</a></p></li>
<li><p><strong class="command">demo</strong> and <strong class="command">version</strong> have been registered in example code
above by main.c</p></li>
<li><p><strong class="command">log</strong> has been registered by <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/subsys/logging/log_cmds.c">subsys/logging/log_cmds.c</a></p></li>
</ul>
<p>Then, if a user types a <strong class="command">demo</strong> command and presses the <kbd class="kbd docutils literal notranslate">Tab</kbd> key,
the shell will only print the subcommands registered for this command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>params  ping
</pre></div>
</div>
</div>
<div class="section" id="api-reference">
<h2><a class="toc-backref" href="#id17">API Reference</a><a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__shell__api"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">shell_api</span></span></dt>
<dd><p>Shell API. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_CMD_ARG_REGISTER">
<span class="target" id="group__shell__api_1gae8a8bbcbb842027c02a319b3fb976a3d"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_CMD_ARG_REGISTER</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">syntax</span></span>, <span class="n"><span class="pre">subcmd</span></span>, <span class="n"><span class="pre">help</span></span>, <span class="n"><span class="pre">handler</span></span>, <span class="n"><span class="pre">mandatory</span></span>, <span class="n"><span class="pre">optional</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_CMD_ARG_REGISTER" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for defining and adding a root command (level 0) with required number of arguments. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each root command shall have unique syntax. If a command will be called with wrong number of arguments shell will print an error message and command handler will not be called.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
<li><p><strong>mandatory</strong> – <strong>[in]</strong> Number of mandatory arguments includig command name. </p></li>
<li><p><strong>optional</strong> – <strong>[in]</strong> Number of optional arguments. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_COND_CMD_ARG_REGISTER">
<span class="target" id="group__shell__api_1ga6a3ed4ea9051ac138d22cc39134fb2e5"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_COND_CMD_ARG_REGISTER</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">flag</span></span>, <span class="n"><span class="pre">syntax</span></span>, <span class="n"><span class="pre">subcmd</span></span>, <span class="n"><span class="pre">help</span></span>, <span class="n"><span class="pre">handler</span></span>, <span class="n"><span class="pre">mandatory</span></span>, <span class="n"><span class="pre">optional</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_COND_CMD_ARG_REGISTER" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for defining and adding a conditional root command (level 0) with required number of arguments. </p>
<p>
Macro can be used to create a command which can be conditionally present. It is and alternative to #ifdefs around command registration and command handler. If command is disabled handler and subcommands are removed from the application.<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__shell__api_1gae8a8bbcbb842027c02a319b3fb976a3d"><span class="std std-ref">SHELL_CMD_ARG_REGISTER</span></a> for details.</p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flag</strong> – <strong>[in]</strong> Compile time flag. Command is present only if flag exists and equals 1. </p></li>
<li><p><strong>syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
<li><p><strong>mandatory</strong> – <strong>[in]</strong> Number of mandatory arguments includig command name. </p></li>
<li><p><strong>optional</strong> – <strong>[in]</strong> Number of optional arguments. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_CMD_REGISTER">
<span class="target" id="group__shell__api_1ga06060b98eb505300a3dcc8f922a8e7ab"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_CMD_REGISTER</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">syntax</span></span>, <span class="n"><span class="pre">subcmd</span></span>, <span class="n"><span class="pre">help</span></span>, <span class="n"><span class="pre">handler</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_CMD_REGISTER" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for defining and adding a root command (level 0) with arguments. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All root commands must have different name.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_COND_CMD_REGISTER">
<span class="target" id="group__shell__api_1ga62782121ece6af076407c94935ec94e4"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_COND_CMD_REGISTER</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">flag</span></span>, <span class="n"><span class="pre">syntax</span></span>, <span class="n"><span class="pre">subcmd</span></span>, <span class="n"><span class="pre">help</span></span>, <span class="n"><span class="pre">handler</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_COND_CMD_REGISTER" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for defining and adding a conditional root command (level 0) with arguments. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__shell__api_1ga6a3ed4ea9051ac138d22cc39134fb2e5"><span class="std std-ref">SHELL_COND_CMD_ARG_REGISTER</span></a>.</p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flag</strong> – <strong>[in]</strong> Compile time flag. Command is present only if flag exists and equals 1. </p></li>
<li><p><strong>syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_STATIC_SUBCMD_SET_CREATE">
<span class="target" id="group__shell__api_1gacb2d1a969368efdbeec704ee6e962dee"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_STATIC_SUBCMD_SET_CREATE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">name</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_STATIC_SUBCMD_SET_CREATE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for creating a subcommand set. It must be used outside of any function body. </p>
<p>Example usage: SHELL_STATIC_SUBCMD_SET_CREATE( foo, <a class="reference internal" href="#group__shell__api_1ga24ade9db85af9a8776a45ba0084f4cca"><span class="std std-ref">SHELL_CMD(abc, …)</span></a>, <a class="reference internal" href="#group__shell__api_1ga24ade9db85af9a8776a45ba0084f4cca"><span class="std std-ref">SHELL_CMD(def, …)</span></a>, SHELL_SUBCMD_SET_END )</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – <strong>[in]</strong> Name of the subcommand set. </p></li>
<li><p><strong>...</strong> – <strong>[in]</strong> List of commands created with <a class="reference internal" href="#group__shell__api_1gad762c496a2ced65069b6d1d02a4d925c"><span class="std std-ref">SHELL_CMD_ARG</span></a> or or <a class="reference internal" href="#group__shell__api_1ga24ade9db85af9a8776a45ba0084f4cca"><span class="std std-ref">SHELL_CMD</span></a> </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_SUBCMD_SET_END">
<span class="target" id="group__shell__api_1ga4f7a3432f76541eb226a426507e10174"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_SUBCMD_SET_END</span></span></span><a class="headerlink" href="#c.SHELL_SUBCMD_SET_END" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Define ending subcommands set. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_DYNAMIC_CMD_CREATE">
<span class="target" id="group__shell__api_1gafa6d91c36c36eb68d3f241ed0c7e7131"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_DYNAMIC_CMD_CREATE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">name</span></span>, <span class="n"><span class="pre">get</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_DYNAMIC_CMD_CREATE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for creating a dynamic entry. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – <strong>[in]</strong> Name of the dynamic entry. </p></li>
<li><p><strong>get</strong> – <strong>[in]</strong> Pointer to the function returning dynamic commands array </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_CMD_ARG">
<span class="target" id="group__shell__api_1gad762c496a2ced65069b6d1d02a4d925c"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_CMD_ARG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">syntax</span></span>, <span class="n"><span class="pre">subcmd</span></span>, <span class="n"><span class="pre">help</span></span>, <span class="n"><span class="pre">handler</span></span>, <span class="n"><span class="pre">mand</span></span>, <span class="n"><span class="pre">opt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_CMD_ARG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a shell command with arguments. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a command will be called with wrong number of arguments shell will print an error message and command handler will not be called.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
<li><p><strong>mand</strong> – <strong>[in]</strong> Number of mandatory arguments includig command name. </p></li>
<li><p><strong>opt</strong> – <strong>[in]</strong> Number of optional arguments. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_COND_CMD_ARG">
<span class="target" id="group__shell__api_1ga68229f89484c3459d77cebb450ee1f24"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_COND_CMD_ARG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">flag</span></span>, <span class="n"><span class="pre">syntax</span></span>, <span class="n"><span class="pre">subcmd</span></span>, <span class="n"><span class="pre">help</span></span>, <span class="n"><span class="pre">handler</span></span>, <span class="n"><span class="pre">mand</span></span>, <span class="n"><span class="pre">opt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_COND_CMD_ARG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a conditional shell command with arguments. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__shell__api_1gad762c496a2ced65069b6d1d02a4d925c"><span class="std std-ref">SHELL_CMD_ARG</span></a>. Based on the flag, creates a valid entry or an empty command which is ignored by the <a class="reference internal" href="#structshell"><span class="std std-ref">shell</span></a>. It is an alternative to #ifdefs around command registration and command handler. However, empty structure is present in the flash even if command is disabled (subcommands and handler are removed). Macro internally handles case if flag is not defined so flag must be provided without any wrapper, e.g.: <a class="reference internal" href="#group__shell__api_1ga68229f89484c3459d77cebb450ee1f24"><span class="std std-ref">SHELL_COND_CMD_ARG(CONFIG_FOO, …)</span></a></p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flag</strong> – <strong>[in]</strong> Compile time flag. Command is present only if flag exists and equals 1. </p></li>
<li><p><strong>syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
<li><p><strong>mand</strong> – <strong>[in]</strong> Number of mandatory arguments includig command name. </p></li>
<li><p><strong>opt</strong> – <strong>[in]</strong> Number of optional arguments. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_EXPR_CMD_ARG">
<span class="target" id="group__shell__api_1ga6b07c55dd7d42873d604ae299b3cfdf9"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_EXPR_CMD_ARG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_expr</span></span>, <span class="n"><span class="pre">_syntax</span></span>, <span class="n"><span class="pre">_subcmd</span></span>, <span class="n"><span class="pre">_help</span></span>, <span class="n"><span class="pre">_handler</span></span>, <span class="n"><span class="pre">_mand</span></span>, <span class="n"><span class="pre">_opt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_EXPR_CMD_ARG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a conditional shell command with arguments if expression gives non-zero result at compile time. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__shell__api_1gad762c496a2ced65069b6d1d02a4d925c"><span class="std std-ref">SHELL_CMD_ARG</span></a>. Based on the expression, creates a valid entry or an empty command which is ignored by the <a class="reference internal" href="#structshell"><span class="std std-ref">shell</span></a>. It should be used instead of <a class="reference internal" href="#group__shell__api_1ga68229f89484c3459d77cebb450ee1f24"><span class="std std-ref">SHELL_COND_CMD_ARG</span></a> if condition is not a single configuration flag, e.g.: <a class="reference internal" href="#group__shell__api_1ga6b07c55dd7d42873d604ae299b3cfdf9"><span class="std std-ref">SHELL_EXPR_CMD_ARG</span></a>(<a class="reference internal" href="../util/index.html#group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a"><span class="std std-ref">IS_ENABLED(CONFIG_FOO)</span></a> &amp;&amp; <a class="reference internal" href="../util/index.html#group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a"><span class="std std-ref">IS_ENABLED(CONFIG_FOO_SETTING_1)</span></a>, …)</p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_expr</strong> – <strong>[in]</strong> Expression. </p></li>
<li><p><strong>_syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>_subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>_help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>_handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
<li><p><strong>_mand</strong> – <strong>[in]</strong> Number of mandatory arguments includig command name. </p></li>
<li><p><strong>_opt</strong> – <strong>[in]</strong> Number of optional arguments. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_CMD">
<span class="target" id="group__shell__api_1ga24ade9db85af9a8776a45ba0084f4cca"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_CMD</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_syntax</span></span>, <span class="n"><span class="pre">_subcmd</span></span>, <span class="n"><span class="pre">_help</span></span>, <span class="n"><span class="pre">_handler</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_CMD" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a shell command. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>_subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>_help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>_handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_COND_CMD">
<span class="target" id="group__shell__api_1ga6e27d86443067df4792623f1a04d1ee1"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_COND_CMD</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_flag</span></span>, <span class="n"><span class="pre">_syntax</span></span>, <span class="n"><span class="pre">_subcmd</span></span>, <span class="n"><span class="pre">_help</span></span>, <span class="n"><span class="pre">_handler</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_COND_CMD" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a conditional shell command. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__shell__api_1ga68229f89484c3459d77cebb450ee1f24"><span class="std std-ref">SHELL_COND_CMD_ARG</span></a>.</p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_flag</strong> – <strong>[in]</strong> Compile time flag. Command is present only if flag exists and equals 1. </p></li>
<li><p><strong>_syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>_subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>_help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>_handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_EXPR_CMD">
<span class="target" id="group__shell__api_1ga59a835edbd7db3acdcb204248c0cf5fd"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_EXPR_CMD</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_expr</span></span>, <span class="n"><span class="pre">_syntax</span></span>, <span class="n"><span class="pre">_subcmd</span></span>, <span class="n"><span class="pre">_help</span></span>, <span class="n"><span class="pre">_handler</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_EXPR_CMD" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes shell command if expression gives non-zero result at compile time. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__shell__api_1ga6b07c55dd7d42873d604ae299b3cfdf9"><span class="std std-ref">SHELL_EXPR_CMD_ARG</span></a>.</p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_expr</strong> – <strong>[in]</strong> Compile time expression. Command is present only if expression is non-zero. </p></li>
<li><p><strong>_syntax</strong> – <strong>[in]</strong> Command syntax (for example: history). </p></li>
<li><p><strong>_subcmd</strong> – <strong>[in]</strong> Pointer to a subcommands array. </p></li>
<li><p><strong>_help</strong> – <strong>[in]</strong> Pointer to a command help string. </p></li>
<li><p><strong>_handler</strong> – <strong>[in]</strong> Pointer to a function handler. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_CMD_DICT_CREATE">
<span class="target" id="group__shell__api_1gaf33b1b20caccad1effe6733603259a00"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_CMD_DICT_CREATE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_handler</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_CMD_DICT_CREATE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_SUBCMD_DICT_SET_CREATE">
<span class="target" id="group__shell__api_1ga401e19cf8ec8601b8a96fe8e95a2b4d2"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_SUBCMD_DICT_SET_CREATE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_name</span></span>, <span class="n"><span class="pre">_handler</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_SUBCMD_DICT_SET_CREATE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes shell dictionary commands. </p>
<p>This is a special kind of static commands. Dictionary commands can be used every time you want to use a pair: (string &lt;-&gt; corresponding data) in a command handler. The string is usually a verbal description of a given data. The idea is to use the string as a command syntax that can be prompted by the shell and corresponding data can be used to process the command.</p>
<p>
Example usage: static int my_handler(const struct shell *shell, size_t argc, char **argv, void *data) { int val = (int)data;<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__shell__api_1gae697fc40bc727c65224d7fe73d4b1fbc"><span class="std std-ref">shell_dict_cmd_handler</span></a> </p>
</div>
</p>
<p>shell_print(shell, “(syntax, value) : (%s, %d)”, argv[0], val); return 0; }</p>
<p>SHELL_SUBCMD_DICT_SET_CREATE(sub_dict_cmds, my_handler, (value_0, 0), (value_1, 1), (value_2, 2), (value_3, 3) ); <a class="reference internal" href="#group__shell__api_1ga06060b98eb505300a3dcc8f922a8e7ab"><span class="std std-ref">SHELL_CMD_REGISTER(dictionary, &amp;sub_dict_cmds, NULL, NULL)</span></a>; </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_name</strong> – <strong>[in]</strong> Name of the dictionary subcommand set </p></li>
<li><p><strong>_handler</strong> – <strong>[in]</strong> Command handler common for all dictionary commands. </p></li>
<li><p><strong>...</strong> – <strong>[in]</strong> Dictionary pairs: (command_syntax, value). Value will be passed to the _handler as user data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_DEFAULT_BACKEND_CONFIG_FLAGS">
<span class="target" id="group__shell__api_1ga7e522b107d4e8b687816a86f14b9a885"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_DEFAULT_BACKEND_CONFIG_FLAGS</span></span></span><a class="headerlink" href="#c.SHELL_DEFAULT_BACKEND_CONFIG_FLAGS" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_DEFINE">
<span class="target" id="group__shell__api_1ga158405143b49e4888cb135fec83ad22c"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_DEFINE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_name</span></span>, <span class="n"><span class="pre">_prompt</span></span>, <span class="n"><span class="pre">_transport_iface</span></span>, <span class="n"><span class="pre">_log_queue_size</span></span>, <span class="n"><span class="pre">_log_timeout</span></span>, <span class="n"><span class="pre">_shell_flag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.SHELL_DEFINE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for defining a shell instance. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_name</strong> – <strong>[in]</strong> Instance name. </p></li>
<li><p><strong>_prompt</strong> – <strong>[in]</strong> Shell default prompt string. </p></li>
<li><p><strong>_transport_iface</strong> – <strong>[in]</strong> Pointer to the transport interface. </p></li>
<li><p><strong>_log_queue_size</strong> – <strong>[in]</strong> Logger processing queue size. </p></li>
<li><p><strong>_log_timeout</strong> – <strong>[in]</strong> Logger thread timeout in milliseconds on full log queue. If queue is full logger thread is blocked for given amount of time before log message is dropped. </p></li>
<li><p><strong>_shell_flag</strong> – <strong>[in]</strong> Shell output newline sequence. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_NORMAL">
<span class="target" id="group__shell__api_1ga4c3a7db0c2bdbf36bbf72302a04bb44d"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_NORMAL</span></span></span><a class="headerlink" href="#c.SHELL_NORMAL" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Terminal default text color for shell_fprintf function. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_INFO">
<span class="target" id="group__shell__api_1gaac0ea96fbb5885432dca93174c9ad4e6"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_INFO</span></span></span><a class="headerlink" href="#c.SHELL_INFO" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Green text color for shell_fprintf function. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_OPTION">
<span class="target" id="group__shell__api_1gacc7c6e7b1fc65cc350353cc166da528b"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_OPTION</span></span></span><a class="headerlink" href="#c.SHELL_OPTION" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Cyan text color for shell_fprintf function. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_WARNING">
<span class="target" id="group__shell__api_1ga118dd6829e092423a85e2b6de07f8dd3"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_WARNING</span></span></span><a class="headerlink" href="#c.SHELL_WARNING" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Yellow text color for shell_fprintf function. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_ERROR">
<span class="target" id="group__shell__api_1ga7664f5e184e9b41ac92e033f7b8d885d"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_ERROR</span></span></span><a class="headerlink" href="#c.SHELL_ERROR" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Red text color for shell_fprintf function. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.shell_info">
<span class="target" id="group__shell__api_1ga9382959c41fe6850c2daa51306b3c5fd"></span><span class="sig-name descname"><span class="n"><span class="pre">shell_info</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_sh</span></span>, <span class="n"><span class="pre">_ft</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print info message to the shell. </p>
<p>See shell_fprintf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_sh</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>_ft</strong> – <strong>[in]</strong> Format string. </p></li>
<li><p><strong>...</strong> – <strong>[in]</strong> List of parameters to print. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.shell_print">
<span class="target" id="group__shell__api_1ga3126019b2100d1ccb2d4dc5efb7d8228"></span><span class="sig-name descname"><span class="n"><span class="pre">shell_print</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_sh</span></span>, <span class="n"><span class="pre">_ft</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_print" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print normal message to the shell. </p>
<p>See shell_fprintf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_sh</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>_ft</strong> – <strong>[in]</strong> Format string. </p></li>
<li><p><strong>...</strong> – <strong>[in]</strong> List of parameters to print. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.shell_warn">
<span class="target" id="group__shell__api_1ga3d886cfd7b4340b2e71a92bd7c4534d9"></span><span class="sig-name descname"><span class="n"><span class="pre">shell_warn</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_sh</span></span>, <span class="n"><span class="pre">_ft</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_warn" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print warning message to the shell. </p>
<p>See shell_fprintf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_sh</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>_ft</strong> – <strong>[in]</strong> Format string. </p></li>
<li><p><strong>...</strong> – <strong>[in]</strong> List of parameters to print. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.shell_error">
<span class="target" id="group__shell__api_1ga408141c02209a9549cb9063f24ef3731"></span><span class="sig-name descname"><span class="n"><span class="pre">shell_error</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_sh</span></span>, <span class="n"><span class="pre">_ft</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_error" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print error message to the shell. </p>
<p>See shell_fprintf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_sh</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>_ft</strong> – <strong>[in]</strong> Format string. </p></li>
<li><p><strong>...</strong> – <strong>[in]</strong> List of parameters to print. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.SHELL_CMD_HELP_PRINTED">
<span class="target" id="group__shell__api_1ga3be3ecccd6ce1954883c5959c39c7927"></span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_CMD_HELP_PRINTED</span></span></span><a class="headerlink" href="#c.SHELL_CMD_HELP_PRINTED" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.shell_dynamic_get">
<span class="target" id="group__shell__api_1gafc042f32bac2fdd4cbde9f943e29b008"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">shell_dynamic_get</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_static_entry" title="shell_static_entry"><span class="n"><span class="pre">shell_static_entry</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_dynamic_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Shell dynamic command descriptor. </p>
<p>Function shall fill the received <a class="reference internal" href="#structshell__static__entry"><span class="std std-ref">shell_static_entry</span></a> structure with requested (idx) dynamic subcommand data. If there is more than one dynamic subcommand available, the function shall ensure that the returned commands: entry-&gt;syntax are sorted in alphabetical order. If idx exceeds the available dynamic subcommands, the function must write to entry-&gt;syntax NULL value. This will indicate to the shell module that there are no more dynamic commands to read. </p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.shell_cmd_handler">
<span class="target" id="group__shell__api_1ga2546bd682966f71f03985f220ff48dc2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">shell_cmd_handler</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">argc</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argv</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_cmd_handler" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Shell command handler prototype. </p>
<dl class="field-list simple">
<dt class="field-odd">Param shell</dt>
<dd class="field-odd"><p>Shell instance. </p>
</dd>
<dt class="field-even">Param argc</dt>
<dd class="field-even"><p>Arguments count. </p>
</dd>
<dt class="field-odd">Param argv</dt>
<dd class="field-odd"><p>Arguments.</p>
</dd>
<dt class="field-even">Retval 0</dt>
<dd class="field-even"><p>Successful command execution. </p>
</dd>
<dt class="field-odd">Retval 1</dt>
<dd class="field-odd"><p>Help printed and command not executed. </p>
</dd>
<dt class="field-even">Retval -EINVAL</dt>
<dd class="field-even"><p>Argument validation failed. </p>
</dd>
<dt class="field-odd">Retval -ENOEXEC</dt>
<dd class="field-odd"><p>Command not executed. </p>
</dd>
</dl>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.shell_dict_cmd_handler">
<span class="target" id="group__shell__api_1gae697fc40bc727c65224d7fe73d4b1fbc"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">shell_dict_cmd_handler</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">argc</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argv</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_dict_cmd_handler" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Shell dictionary command handler prototype. </p>
<dl class="field-list simple">
<dt class="field-odd">Param shell</dt>
<dd class="field-odd"><p>Shell instance. </p>
</dd>
<dt class="field-even">Param argc</dt>
<dd class="field-even"><p>Arguments count. </p>
</dd>
<dt class="field-odd">Param argv</dt>
<dd class="field-odd"><p>Arguments. </p>
</dd>
<dt class="field-even">Param data</dt>
<dd class="field-even"><p>Pointer to the user data.</p>
</dd>
<dt class="field-odd">Retval 0</dt>
<dd class="field-odd"><p>Successful command execution. </p>
</dd>
<dt class="field-even">Retval 1</dt>
<dd class="field-even"><p>Help printed and command not executed. </p>
</dd>
<dt class="field-odd">Retval -EINVAL</dt>
<dd class="field-odd"><p>Argument validation failed. </p>
</dd>
<dt class="field-even">Retval -ENOEXEC</dt>
<dd class="field-even"><p>Command not executed. </p>
</dd>
</dl>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.shell_transport_handler_t">
<span class="target" id="group__shell__api_1ga265807c2d8eba7b9ea633968627e085d"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">shell_transport_handler_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport_evt" title="shell_transport_evt"><span class="n"><span class="pre">shell_transport_evt</span></span></a><span class="w"> </span><span class="n"><span class="pre">evt</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_transport_handler_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.shell_uninit_cb_t">
<span class="target" id="group__shell__api_1gaef13cdb9a0789594395d8b0744674eb1"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">shell_uninit_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">res</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_uninit_cb_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.shell_bypass_cb_t">
<span class="target" id="group__shell__api_1ga8a8b53f567cc5b00997224ad2fd66034"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">shell_bypass_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_bypass_cb_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Bypass callback. </p>
<dl class="field-list simple">
<dt class="field-odd">Param shell</dt>
<dd class="field-odd"><p>Shell instance. </p>
</dd>
<dt class="field-even">Param data</dt>
<dd class="field-even"><p>Raw data from transport. </p>
</dd>
<dt class="field-odd">Param len</dt>
<dd class="field-odd"><p>Data length. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.shell_receive_state">
<span class="target" id="group__shell__api_1ga8773ed2570714ba4985108b1738d33a0"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_receive_state</span></span></span><a class="headerlink" href="#c.shell_receive_state" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_receive_state.SHELL_RECEIVE_DEFAULT">
<span class="target" id="group__shell__api_1gga8773ed2570714ba4985108b1738d33a0a201e367896f86499d317d9ec7b59612a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_RECEIVE_DEFAULT</span></span></span><a class="headerlink" href="#c.shell_receive_state.SHELL_RECEIVE_DEFAULT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_receive_state.SHELL_RECEIVE_ESC">
<span class="target" id="group__shell__api_1gga8773ed2570714ba4985108b1738d33a0ab512e3269698524fd025433016b3ad65"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_RECEIVE_ESC</span></span></span><a class="headerlink" href="#c.shell_receive_state.SHELL_RECEIVE_ESC" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_receive_state.SHELL_RECEIVE_ESC_SEQ">
<span class="target" id="group__shell__api_1gga8773ed2570714ba4985108b1738d33a0a7378b6ecb1a51c53577db5a8eeda936a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_RECEIVE_ESC_SEQ</span></span></span><a class="headerlink" href="#c.shell_receive_state.SHELL_RECEIVE_ESC_SEQ" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_receive_state.SHELL_RECEIVE_TILDE_EXP">
<span class="target" id="group__shell__api_1gga8773ed2570714ba4985108b1738d33a0afa2dde3374d3971266652cf48a4d13f7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_RECEIVE_TILDE_EXP</span></span></span><a class="headerlink" href="#c.shell_receive_state.SHELL_RECEIVE_TILDE_EXP" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.shell_state">
<span class="target" id="group__shell__api_1gaf2c6ff9ef31dc06086fd1141763e6266"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_state</span></span></span><a class="headerlink" href="#c.shell_state" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_state.SHELL_STATE_UNINITIALIZED">
<span class="target" id="group__shell__api_1ggaf2c6ff9ef31dc06086fd1141763e6266a0fcbee7b51ec8d90e7d42a1b455360e6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_STATE_UNINITIALIZED</span></span></span><a class="headerlink" href="#c.shell_state.SHELL_STATE_UNINITIALIZED" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_state.SHELL_STATE_INITIALIZED">
<span class="target" id="group__shell__api_1ggaf2c6ff9ef31dc06086fd1141763e6266adf8c97c3b6dacfbaf3ace4780cfe3dbd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_STATE_INITIALIZED</span></span></span><a class="headerlink" href="#c.shell_state.SHELL_STATE_INITIALIZED" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_state.SHELL_STATE_ACTIVE">
<span class="target" id="group__shell__api_1ggaf2c6ff9ef31dc06086fd1141763e6266a8a226ad5c1306dd8f491ad321d334b72"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_STATE_ACTIVE</span></span></span><a class="headerlink" href="#c.shell_state.SHELL_STATE_ACTIVE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_state.SHELL_STATE_PANIC_MODE_ACTIVE">
<span class="target" id="group__shell__api_1ggaf2c6ff9ef31dc06086fd1141763e6266a8d01930f8cbdeddda2bf47d0264c4a8b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_STATE_PANIC_MODE_ACTIVE</span></span></span><a class="headerlink" href="#c.shell_state.SHELL_STATE_PANIC_MODE_ACTIVE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Panic activated. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_state.SHELL_STATE_PANIC_MODE_INACTIVE">
<span class="target" id="group__shell__api_1ggaf2c6ff9ef31dc06086fd1141763e6266a6423704f7a619e1bfed063cd7455ebfe"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_STATE_PANIC_MODE_INACTIVE</span></span></span><a class="headerlink" href="#c.shell_state.SHELL_STATE_PANIC_MODE_INACTIVE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Panic requested, not supported. </p>
</dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.shell_transport_evt">
<span class="target" id="group__shell__api_1gae77673d4c086f2f9312ceb7933745ee1"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_transport_evt</span></span></span><a class="headerlink" href="#c.shell_transport_evt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Shell transport event. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_transport_evt.SHELL_TRANSPORT_EVT_RX_RDY">
<span class="target" id="group__shell__api_1ggae77673d4c086f2f9312ceb7933745ee1aa43ab5965bc3f2c964f206277ab3f1bb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_TRANSPORT_EVT_RX_RDY</span></span></span><a class="headerlink" href="#c.shell_transport_evt.SHELL_TRANSPORT_EVT_RX_RDY" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_transport_evt.SHELL_TRANSPORT_EVT_TX_RDY">
<span class="target" id="group__shell__api_1ggae77673d4c086f2f9312ceb7933745ee1a6c78a3534128fac6366d9e5dfda81dfb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_TRANSPORT_EVT_TX_RDY</span></span></span><a class="headerlink" href="#c.shell_transport_evt.SHELL_TRANSPORT_EVT_TX_RDY" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.shell_signal">
<span class="target" id="group__shell__api_1ga5cd015de5e7295483fa2cff7d54c2d21"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_signal</span></span></span><a class="headerlink" href="#c.shell_signal" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_signal.SHELL_SIGNAL_RXRDY">
<span class="target" id="group__shell__api_1gga5cd015de5e7295483fa2cff7d54c2d21a815c6760bfd5bba8813ea68964bf4713"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_SIGNAL_RXRDY</span></span></span><a class="headerlink" href="#c.shell_signal.SHELL_SIGNAL_RXRDY" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_signal.SHELL_SIGNAL_LOG_MSG">
<span class="target" id="group__shell__api_1gga5cd015de5e7295483fa2cff7d54c2d21ab8fe52f7b4f43c98dae5188a1dc8547a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_SIGNAL_LOG_MSG</span></span></span><a class="headerlink" href="#c.shell_signal.SHELL_SIGNAL_LOG_MSG" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_signal.SHELL_SIGNAL_KILL">
<span class="target" id="group__shell__api_1gga5cd015de5e7295483fa2cff7d54c2d21ad5c07b5872f785b0731c8aaed0f81c3a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_SIGNAL_KILL</span></span></span><a class="headerlink" href="#c.shell_signal.SHELL_SIGNAL_KILL" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_signal.SHELL_SIGNAL_TXDONE">
<span class="target" id="group__shell__api_1gga5cd015de5e7295483fa2cff7d54c2d21a7962ab077b49c816bb9337a9b1b343ed"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_SIGNAL_TXDONE</span></span></span><a class="headerlink" href="#c.shell_signal.SHELL_SIGNAL_TXDONE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_signal.SHELL_SIGNALS">
<span class="target" id="group__shell__api_1gga5cd015de5e7295483fa2cff7d54c2d21a6dc083b04447ff6ccb4ce4af4c43645e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_SIGNALS</span></span></span><a class="headerlink" href="#c.shell_signal.SHELL_SIGNALS" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.shell_flag">
<span class="target" id="group__shell__api_1ga56bf30741f9ec7a6d94e5c18c2858948"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_flag</span></span></span><a class="headerlink" href="#c.shell_flag" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flags for setting shell output newline sequence. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_flag.SHELL_FLAG_CRLF_DEFAULT">
<span class="target" id="group__shell__api_1gga56bf30741f9ec7a6d94e5c18c2858948a343ee559d6259111dbab529a283b23ab"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_FLAG_CRLF_DEFAULT</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">1</span></span><span class="w"> </span><span class="o"><span class="pre">&lt;&lt;</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_flag.SHELL_FLAG_CRLF_DEFAULT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shell_flag.SHELL_FLAG_OLF_CRLF">
<span class="target" id="group__shell__api_1gga56bf30741f9ec7a6d94e5c18c2858948ab6fec7b615b6de79e1d00d4117615446"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SHELL_FLAG_OLF_CRLF</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">1</span></span><span class="w"> </span><span class="o"><span class="pre">&lt;&lt;</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_flag.SHELL_FLAG_OLF_CRLF" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.shell_device_lookup">
<span class="target" id="group__shell__api_1ga571db3aa3e024a09e82b117a74d6f248"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">shell_device_lookup</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">idx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">prefix</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_device_lookup" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get by index a device that matches . </p>
<p>This can be used, for example, to identify I2C_1 as the second I2C device.</p>
<p>Devices that failed to initialize or do not have a non-empty name are excluded from the candidates for a match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> – the device number starting from zero.</p></li>
<li><p><strong>prefix</strong> – optional name prefix used to restrict candidate devices. Indexing is done relative to devices with names that start with this text. Pass null if no prefix match is required. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_init">
<span class="target" id="group__shell__api_1ga3dc80793e145c56bb07754fc2f292ec5"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_init</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_init" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">transport_config</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_backend_config_flags" title="shell_backend_config_flags"><span class="n"><span class="pre">shell_backend_config_flags</span></span></a><span class="w"> </span><span class="n"><span class="pre">cfg_flags</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">log_backend</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">init_log_level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for initializing a transport layer and internal shell state. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to shell instance. </p></li>
<li><p><strong>transport_config</strong> – <strong>[in]</strong> Transport configuration during initialization. </p></li>
<li><p><strong>cfg_flags</strong> – <strong>[in]</strong> Initial backend configuration flags. Shell will copy this data. </p></li>
<li><p><strong>log_backend</strong> – If true, the console will be used as logger backend. </p></li>
<li><p><strong>init_log_level</strong> – <strong>[in]</strong> Default severity level for the logger.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Standard error code. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_uninit">
<span class="target" id="group__shell__api_1ga240cb01650dee2b555056c08c4242d37"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_uninit</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_uninit" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <a class="reference internal" href="#c.shell_uninit_cb_t" title="shell_uninit_cb_t"><span class="n"><span class="pre">shell_uninit_cb_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">cb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_uninit" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Uninitializes the transport layer and the internal shell state. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – Pointer to shell instance. </p></li>
<li><p><strong>cb</strong> – Callback called when uninitialization is completed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_start">
<span class="target" id="group__shell__api_1gac00d3479289798d38fbf93cf775c4736"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_start</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_start" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_start" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for starting shell processing. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – Pointer to the shell instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Standard error code. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_stop">
<span class="target" id="group__shell__api_1gae432203ca2adc2df0f06e6f43fd78b5c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_stop</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_stop" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_stop" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for stopping shell processing. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – Pointer to shell instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Standard error code. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_fprintf">
<span class="target" id="group__shell__api_1ga48aa8e7aff70900b1f0ea3d4f173773d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_fprintf</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_fprintf" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">shell_vt100_color</span></span><span class="w"> </span><span class="n"><span class="pre">color</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fmt</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_fprintf" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>printf-like function which sends formatted data stream to the shell. </p>
<p>This function can be used from the command handler or from threads, but not from an interrupt context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>color</strong> – <strong>[in]</strong> Printed text color. </p></li>
<li><p><strong>fmt</strong> – <strong>[in]</strong> Format string. </p></li>
<li><p><strong>...</strong> – <strong>[in]</strong> List of parameters to print. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_vfprintf">
<span class="target" id="group__shell__api_1gab98c82bbebbff48c173f347d66078bb2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_vfprintf</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_vfprintf" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">shell_vt100_color</span></span><span class="w"> </span><span class="n"><span class="pre">color</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fmt</span></span>, <span class="n"><span class="pre">va_list</span></span><span class="w"> </span><span class="n"><span class="pre">args</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_vfprintf" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>vprintf-like function which sends formatted data stream to the shell. </p>
<p>This function can be used from the command handler or from threads, but not from an interrupt context. It is similar to <a class="reference internal" href="#group__shell__api_1ga48aa8e7aff70900b1f0ea3d4f173773d"><span class="std std-ref">shell_fprintf()</span></a> but takes a va_list instead of variable arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>color</strong> – <strong>[in]</strong> Printed text color. </p></li>
<li><p><strong>fmt</strong> – <strong>[in]</strong> Format string. </p></li>
<li><p><strong>args</strong> – <strong>[in]</strong> List of parameters to print. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_hexdump_line">
<span class="target" id="group__shell__api_1gac588a2c9af247e46cb0065fee36a14b9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_hexdump_line</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_hexdump_line" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_hexdump_line" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print a line of data in hexadecimal format. </p>
<p>Each line shows the offset, bytes and then ASCII representation.</p>
<p>For example:</p>
<p>00008010: 20 25 00 20 2f 48 00 08 80 05 00 20 af 46 00 | %. /H.. … .F. |</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>offset</strong> – <strong>[in]</strong> Offset to show for this line. </p></li>
<li><p><strong>data</strong> – <strong>[in]</strong> Pointer to data. </p></li>
<li><p><strong>len</strong> – <strong>[in]</strong> Length of data. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_hexdump">
<span class="target" id="group__shell__api_1ga838b534ffc9d0bda75c811d591832656"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_hexdump</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_hexdump" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_hexdump" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print data in hexadecimal format. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>data</strong> – <strong>[in]</strong> Pointer to data. </p></li>
<li><p><strong>len</strong> – <strong>[in]</strong> Length of data. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_process">
<span class="target" id="group__shell__api_1gafcb014602bbe6b6cd2ab8e2e92659cf7"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_process</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_process" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_process" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process function, which should be executed when data is ready in the transport interface. To be used if shell thread is disabled. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_prompt_change">
<span class="target" id="group__shell__api_1ga0c0989b142807696c59979445f38ba32"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_prompt_change</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_prompt_change" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">prompt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_prompt_change" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Change displayed shell prompt. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>prompt</strong> – <strong>[in]</strong> New shell prompt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>0 Success. </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>-EINVAL Pointer to new prompt is not correct. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_help">
<span class="target" id="group__shell__api_1gaae64c1946f852b18e4745b6fe83a979a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_help</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_help" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_help" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the current command help. </p>
<p>Function will print a help string with: the currently entered command and subcommands (if they exist).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_execute_cmd">
<span class="target" id="group__shell__api_1ga20d72c016e6735e9dac5909628e4791d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_execute_cmd</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_execute_cmd" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cmd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_execute_cmd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Execute command. </p>
<p>Pass command line to shell to execute.</p>
<p>Note: This by no means makes any of the commands a stable interface, so this function should only be used for debugging/diagnostic.</p>
<p>This function must not be called from shell command context!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. It can be NULL when the <span> <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_SHELL_BACKEND_DUMMY"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_SHELL_BACKEND_DUMMY</span></code></a> </span> option is enabled. </p></li>
<li><p><strong>cmd</strong> – <strong>[in]</strong> Command to be executed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Result of the execution </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_set_root_cmd">
<span class="target" id="group__shell__api_1ga768c606f2d50f24e9b607ba0a341686d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_set_root_cmd</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cmd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_set_root_cmd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set root command for all shell instances. </p>
<p>It allows setting from the code the root command. It is an equivalent of calling select command with one of the root commands as the argument (e.g “select log”) except it sets command for all shell instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> – String with one of the root commands or null pointer to reset.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – if root command is set. </p></li>
<li><p><strong>-EINVAL</strong> – if invalid root command is provided. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_set_bypass">
<span class="target" id="group__shell__api_1ga2d05dd8a3cbea0eb0df8b422a7fb6a66"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_set_bypass</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_set_bypass" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <a class="reference internal" href="#c.shell_bypass_cb_t" title="shell_bypass_cb_t"><span class="n"><span class="pre">shell_bypass_cb_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">bypass</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_set_bypass" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set bypass callback. </p>
<p>Bypass callback is called whenever data is received. Shell is bypassed and data is passed directly to the callback. Use null to disable bypass functionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>bypass</strong> – <strong>[in]</strong> Bypass callback or null to disable. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_insert_mode_set">
<span class="target" id="group__shell__api_1gaa1c092b0afb5119f8e3959f18fcf307a"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_insert_mode_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_insert_mode_set" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">val</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_insert_mode_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allow application to control text insert mode. Value is modified atomically and the previous value is returned. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>val</strong> – <strong>[in]</strong> Insert mode.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – or 1: previous value </p></li>
<li><p><strong>-EINVAL</strong> – if shell is NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_use_colors_set">
<span class="target" id="group__shell__api_1ga2dd3529a39b79d4f3f64b52f05e164c3"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_use_colors_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_use_colors_set" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">val</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_use_colors_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allow application to control whether terminal output uses colored syntax. Value is modified atomically and the previous value is returned. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>val</strong> – <strong>[in]</strong> Color mode.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – or 1: previous value </p></li>
<li><p><strong>-EINVAL</strong> – if shell is NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_echo_set">
<span class="target" id="group__shell__api_1gae56226448f757b4aa7b1748d482c23c1"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_echo_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_echo_set" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">val</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_echo_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allow application to control whether user input is echoed back. Value is modified atomically and the previous value is returned. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>val</strong> – <strong>[in]</strong> Echo mode.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – or 1: previous value </p></li>
<li><p><strong>-EINVAL</strong> – if shell is NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_obscure_set">
<span class="target" id="group__shell__api_1gacb219bcc8e526065c27a42c08a6e41e2"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_obscure_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_obscure_set" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">obscure</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_obscure_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allow application to control whether user input is obscured with asterisks  useful for implementing passwords. Value is modified atomically and the previous value is returned. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>obscure</strong> – <strong>[in]</strong> Obscure mode.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – or 1: previous value. </p></li>
<li><p><strong>-EINVAL</strong> – if shell is NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.shell_mode_delete_set">
<span class="target" id="group__shell__api_1ga622ef46b3ca2b494c732744e3c1adf3a"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_mode_delete_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_mode_delete_set" title="shell"><span class="n"><span class="pre">shell</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shell</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">val</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.shell_mode_delete_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allow application to control whether the delete key backspaces or deletes. Value is modified atomically and the previous value is returned. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shell</strong> – <strong>[in]</strong> Pointer to the shell instance. </p></li>
<li><p><strong>val</strong> – <strong>[in]</strong> Delete mode.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – or 1: previous value </p></li>
<li><p><strong>-EINVAL</strong> – if shell is NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_backend_shell_api">
<span class="target" id="group__shell__api_1gaddf27615ed72440ecb63aa1d84962c82"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../logging/index.html#c.log_backend_api" title="log_backend_api"><span class="n"><span class="pre">log_backend_api</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_shell_api</span></span></span><a class="headerlink" href="#c.log_backend_shell_api" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_cmd_entry">
<span class="target" id="structshell__cmd__entry"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_cmd_entry</span></span></span><a class="headerlink" href="#c.shell_cmd_entry" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<p>Shell command descriptor. </p>
<dl class="c union">
<dt class="sig sig-object c" id="c.shell_cmd_entry.union_cmd_entry">
<span class="target" id="unionshell__cmd__entry_1_1union__cmd__entry"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">union_cmd_entry</span></span></span><a class="headerlink" href="#c.shell_cmd_entry.union_cmd_entry" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_cmd_entry.union_cmd_entry.dynamic_get">
<span class="target" id="unionshell__cmd__entry_1_1union__cmd__entry_1a1bd826ad0c2b808c6c54777fcda7b8f0"></span><a class="reference internal" href="#c.shell_dynamic_get" title="shell_dynamic_get"><span class="n"><span class="pre">shell_dynamic_get</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dynamic_get</span></span></span><a class="headerlink" href="#c.shell_cmd_entry.union_cmd_entry.dynamic_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>&lt; Pointer to function returning dynamic commands. Pointer to array of static commands. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_cmd_entry.union_cmd_entry.entry">
<span class="target" id="unionshell__cmd__entry_1_1union__cmd__entry_1a0594dfa3c04aed02a821498ee255109c"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_static_entry" title="shell_static_entry"><span class="n"><span class="pre">shell_static_entry</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">entry</span></span></span><a class="headerlink" href="#c.shell_cmd_entry.union_cmd_entry.entry" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_static_args">
<span class="target" id="structshell__static__args"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_static_args</span></span></span><a class="headerlink" href="#c.shell_static_args" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_static_args.mandatory">
<span class="target" id="structshell__static__args_1a2c23bfa755d3bb651e299ff461065d98"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mandatory</span></span></span><a class="headerlink" href="#c.shell_static_args.mandatory" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of mandatory arguments. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_static_args.optional">
<span class="target" id="structshell__static__args_1aa3aa836ed537dde38e64d2c677ace5ae"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">optional</span></span></span><a class="headerlink" href="#c.shell_static_args.optional" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of optional arguments. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_static_entry">
<span class="target" id="structshell__static__entry"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_static_entry</span></span></span><a class="headerlink" href="#c.shell_static_entry" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_static_entry.syntax">
<span class="target" id="structshell__static__entry_1ad87defa749ee7481f6d29d8c9084fb91"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">syntax</span></span></span><a class="headerlink" href="#c.shell_static_entry.syntax" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command syntax strings. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_static_entry.help">
<span class="target" id="structshell__static__entry_1ac8fb0fc23957a49d9a3664b5baa08704"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">help</span></span></span><a class="headerlink" href="#c.shell_static_entry.help" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command help string. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_static_entry.subcmd">
<span class="target" id="structshell__static__entry_1a0ca6cda12f3521a61c358b29d0a1d971"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_cmd_entry" title="shell_cmd_entry"><span class="n"><span class="pre">shell_cmd_entry</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">subcmd</span></span></span><a class="headerlink" href="#c.shell_static_entry.subcmd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to subcommand. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_static_entry.handler">
<span class="target" id="structshell__static__entry_1a3147eb0cc1fea698dd433127acb1f220"></span><a class="reference internal" href="#c.shell_cmd_handler" title="shell_cmd_handler"><span class="n"><span class="pre">shell_cmd_handler</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handler</span></span></span><a class="headerlink" href="#c.shell_static_entry.handler" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command handler. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_static_entry.args">
<span class="target" id="structshell__static__entry_1a73951d31712342c0c0545a142059d367"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_static_args" title="shell_static_args"><span class="n"><span class="pre">shell_static_args</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">args</span></span></span><a class="headerlink" href="#c.shell_static_entry.args" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command arguments. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_transport_api">
<span class="target" id="structshell__transport__api"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_transport_api</span></span></span><a class="headerlink" href="#c.shell_transport_api" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<p>Unified shell transport interface. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_transport_api.init">
<span class="target" id="structshell__transport__api_1a59afba962312a077343b440448d67135"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">init</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport" title="shell_transport"><span class="n"><span class="pre">shell_transport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">transport</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport_handler_t" title="shell_transport_handler_t"><span class="n"><span class="pre">shell_transport_handler_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">evt_handler</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_transport_api.init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for initializing the shell transport interface. </p>
<dl class="field-list simple">
<dt class="field-odd">Param transport</dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to the transfer instance. </p>
</dd>
<dt class="field-even">Param config</dt>
<dd class="field-even"><p><strong>[in]</strong> Pointer to instance configuration. </p>
</dd>
<dt class="field-odd">Param evt_handler</dt>
<dd class="field-odd"><p><strong>[in]</strong> Event handler. </p>
</dd>
<dt class="field-even">Param context</dt>
<dd class="field-even"><p><strong>[in]</strong> Pointer to the context passed to event handler.</p>
</dd>
<dt class="field-odd">Return</dt>
<dd class="field-odd"><p>Standard error code. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_transport_api.uninit">
<span class="target" id="structshell__transport__api_1a94cc7843174a4aba668389a4b46928d3"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">uninit</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport" title="shell_transport"><span class="n"><span class="pre">shell_transport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">transport</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_transport_api.uninit" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for uninitializing the shell transport interface. </p>
<dl class="field-list simple">
<dt class="field-odd">Param transport</dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to the transfer instance.</p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p>Standard error code. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_transport_api.enable">
<span class="target" id="structshell__transport__api_1a95535c7195088e68230ecb306f105713"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">enable</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport" title="shell_transport"><span class="n"><span class="pre">shell_transport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">transport</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">blocking_tx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_transport_api.enable" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for enabling transport in given TX mode. </p>
<p>Function can be used to reconfigure TX to work in blocking mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Param transport</dt>
<dd class="field-odd"><p>Pointer to the transfer instance. </p>
</dd>
<dt class="field-even">Param blocking_tx</dt>
<dd class="field-even"><p>If true, the transport TX is enabled in blocking mode.</p>
</dd>
<dt class="field-odd">Return</dt>
<dd class="field-odd"><p>NRF_SUCCESS on successful enabling, error otherwise (also if not supported). </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_transport_api.write">
<span class="target" id="structshell__transport__api_1a6bbf2905abcbf6ca564ecf3f07d95712"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">write</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport" title="shell_transport"><span class="n"><span class="pre">shell_transport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">transport</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cnt</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_transport_api.write" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for writing data to the transport interface. </p>
<dl class="field-list simple">
<dt class="field-odd">Param transport</dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to the transfer instance. </p>
</dd>
<dt class="field-even">Param data</dt>
<dd class="field-even"><p><strong>[in]</strong> Pointer to the source buffer. </p>
</dd>
<dt class="field-odd">Param length</dt>
<dd class="field-odd"><p><strong>[in]</strong> Source buffer length. </p>
</dd>
<dt class="field-even">Param cnt</dt>
<dd class="field-even"><p><strong>[out]</strong> Pointer to the sent bytes counter.</p>
</dd>
<dt class="field-odd">Return</dt>
<dd class="field-odd"><p>Standard error code. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_transport_api.read">
<span class="target" id="structshell__transport__api_1aae0e8ad92065dbff10691c28045d0c8f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">read</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport" title="shell_transport"><span class="n"><span class="pre">shell_transport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">transport</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cnt</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_transport_api.read" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for reading data from the transport interface. </p>
<dl class="field-list simple">
<dt class="field-odd">Param p_transport</dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to the transfer instance. </p>
</dd>
<dt class="field-even">Param p_data</dt>
<dd class="field-even"><p><strong>[in]</strong> Pointer to the destination buffer. </p>
</dd>
<dt class="field-odd">Param length</dt>
<dd class="field-odd"><p><strong>[in]</strong> Destination buffer length. </p>
</dd>
<dt class="field-even">Param cnt</dt>
<dd class="field-even"><p><strong>[out]</strong> Pointer to the received bytes counter.</p>
</dd>
<dt class="field-odd">Return</dt>
<dd class="field-odd"><p>Standard error code. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_transport_api.update">
<span class="target" id="structshell__transport__api_1a3b447d16d7c30f994c582d67bde57ba8"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">update</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport" title="shell_transport"><span class="n"><span class="pre">shell_transport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">transport</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.shell_transport_api.update" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function called in shell thread loop. </p>
<p>Can be used for backend operations that require longer execution time</p>
<dl class="field-list simple">
<dt class="field-odd">Param transport</dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to the transfer instance. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_transport">
<span class="target" id="structshell__transport"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_transport</span></span></span><a class="headerlink" href="#c.shell_transport" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_stats">
<span class="target" id="structshell__stats"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_stats</span></span></span><a class="headerlink" href="#c.shell_stats" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<p>Shell statistics structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_stats.log_lost_cnt">
<span class="target" id="structshell__stats_1a1ec10ba96a7805f10d1a021ff1dd3bf2"></span><span class="n"><span class="pre">atomic_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_lost_cnt</span></span></span><a class="headerlink" href="#c.shell_stats.log_lost_cnt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Lost log counter. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_backend_config_flags">
<span class="target" id="structshell__backend__config__flags"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_backend_config_flags</span></span></span><a class="headerlink" href="#c.shell_backend_config_flags" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_config_flags.insert_mode">
<span class="target" id="structshell__backend__config__flags_1ab1df6f41078d4ec2a94f158e62bbfada"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">insert_mode</span></span></span><a class="headerlink" href="#c.shell_backend_config_flags.insert_mode" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Controls insert mode for text introduction </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_config_flags.echo">
<span class="target" id="structshell__backend__config__flags_1a5745ea5cab202ee446f460b980c5c532"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">echo</span></span></span><a class="headerlink" href="#c.shell_backend_config_flags.echo" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Controls shell echo </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_config_flags.obscure">
<span class="target" id="structshell__backend__config__flags_1af794ac9c19b948ed733024a2db5b8bbd"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">obscure</span></span></span><a class="headerlink" href="#c.shell_backend_config_flags.obscure" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>If echo on, print asterisk instead </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_config_flags.mode_delete">
<span class="target" id="structshell__backend__config__flags_1a231bc4762cac1c07a6f866c5ecf3a024"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mode_delete</span></span></span><a class="headerlink" href="#c.shell_backend_config_flags.mode_delete" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Operation mode of backspace key </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_config_flags.use_colors">
<span class="target" id="structshell__backend__config__flags_1af810ff3fba00527cb0561a75b70fec09"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_colors</span></span></span><a class="headerlink" href="#c.shell_backend_config_flags.use_colors" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Controls colored syntax </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_config_flags.use_vt100">
<span class="target" id="structshell__backend__config__flags_1a0d017df8e9d9609f2830829d8720b9cf"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_vt100</span></span></span><a class="headerlink" href="#c.shell_backend_config_flags.use_vt100" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Controls VT100 commands usage in shell </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_backend_ctx_flags">
<span class="target" id="structshell__backend__ctx__flags"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_backend_ctx_flags</span></span></span><a class="headerlink" href="#c.shell_backend_ctx_flags" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_ctx_flags.processing">
<span class="target" id="structshell__backend__ctx__flags_1a7dc2cd17fb1dd9d538dbde3ad7bbe8e9"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">processing</span></span></span><a class="headerlink" href="#c.shell_backend_ctx_flags.processing" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Shell is executing process function </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_ctx_flags.history_exit">
<span class="target" id="structshell__backend__ctx__flags_1a85b0069c7b0df219cefec0f73cb313d3"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">history_exit</span></span></span><a class="headerlink" href="#c.shell_backend_ctx_flags.history_exit" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Request to exit history mode </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_ctx_flags.last_nl">
<span class="target" id="structshell__backend__ctx__flags_1a7f597db455b0875c9ff11c4ce50cfd92"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_nl</span></span></span><a class="headerlink" href="#c.shell_backend_ctx_flags.last_nl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Last received new line character </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_ctx_flags.cmd_ctx">
<span class="target" id="structshell__backend__ctx__flags_1adfa22b07dc65e72e24be400d95da11c8"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cmd_ctx</span></span></span><a class="headerlink" href="#c.shell_backend_ctx_flags.cmd_ctx" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Shell is executing command </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_ctx_flags.print_noinit">
<span class="target" id="structshell__backend__ctx__flags_1a18b3c018f2da6a925f50266bda095483"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">print_noinit</span></span></span><a class="headerlink" href="#c.shell_backend_ctx_flags.print_noinit" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print request from not initialized shell </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_ctx_flags.sync_mode">
<span class="target" id="structshell__backend__ctx__flags_1a2d6c2561aa6ed28a3978e3b70d079008"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_mode</span></span></span><a class="headerlink" href="#c.shell_backend_ctx_flags.sync_mode" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Shell in synchronous mode </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c union">
<dt class="sig sig-object c" id="c.shell_backend_cfg">
<span class="target" id="unionshell__backend__cfg"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_backend_cfg</span></span></span><a class="headerlink" href="#c.shell_backend_cfg" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_cfg.value">
<span class="target" id="unionshell__backend__cfg_1a2e2aa4e52af6f6e6a827ea946e6681fc"></span><span class="n"><span class="pre">atomic_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">value</span></span></span><a class="headerlink" href="#c.shell_backend_cfg.value" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_cfg.flags">
<span class="target" id="unionshell__backend__cfg_1a513e4e2c352c62d13ed655049a7ee691"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_backend_config_flags" title="shell_backend_config_flags"><span class="n"><span class="pre">shell_backend_config_flags</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#c.shell_backend_cfg.flags" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="c union">
<dt class="sig sig-object c" id="c.shell_backend_ctx">
<span class="target" id="unionshell__backend__ctx"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_backend_ctx</span></span></span><a class="headerlink" href="#c.shell_backend_ctx" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_ctx.value">
<span class="target" id="unionshell__backend__ctx_1a8de68016e888b8f9b5371c8a7bed4fcb"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">value</span></span></span><a class="headerlink" href="#c.shell_backend_ctx.value" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_backend_ctx.flags">
<span class="target" id="unionshell__backend__ctx_1a12e5e07c77eb1f82bac9db6cd2d31316"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_backend_ctx_flags" title="shell_backend_ctx_flags"><span class="n"><span class="pre">shell_backend_ctx_flags</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#c.shell_backend_ctx.flags" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell_ctx">
<span class="target" id="structshell__ctx"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell_ctx</span></span></span><a class="headerlink" href="#c.shell_ctx" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<p>Shell instance context. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.prompt">
<span class="target" id="structshell__ctx_1a261d4754f4bf3764298e264ed6e87eff"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">prompt</span></span></span><a class="headerlink" href="#c.shell_ctx.prompt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>shell current prompt. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.state">
<span class="target" id="structshell__ctx_1a7388fd2e850fcf37c4a421cda13661e8"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_state" title="shell_state"><span class="n"><span class="pre">shell_state</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state</span></span></span><a class="headerlink" href="#c.shell_ctx.state" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Internal module state. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.receive_state">
<span class="target" id="structshell__ctx_1abc4135f23c4738fcf6a2c9d8f45d516b"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_receive_state" title="shell_receive_state"><span class="n"><span class="pre">shell_receive_state</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">receive_state</span></span></span><a class="headerlink" href="#c.shell_ctx.receive_state" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Escape sequence indicator. Currently executed command. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.selected_cmd">
<span class="target" id="structshell__ctx_1a0e9321e8954a7598cb6521f660480a88"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_static_entry" title="shell_static_entry"><span class="n"><span class="pre">shell_static_entry</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">selected_cmd</span></span></span><a class="headerlink" href="#c.shell_ctx.selected_cmd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>VT100 color and cursor position, terminal width. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.vt100_ctx">
<span class="target" id="structshell__ctx_1a25b945fcaba216e039124aacec660600"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">shell_vt100_ctx</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">vt100_ctx</span></span></span><a class="headerlink" href="#c.shell_ctx.vt100_ctx" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback called from shell thread context when unitialization is completed just before aborting shell thread. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.uninit_cb">
<span class="target" id="structshell__ctx_1a0ec61f11544cb817bbd46ed4aa332123"></span><a class="reference internal" href="#c.shell_uninit_cb_t" title="shell_uninit_cb_t"><span class="n"><span class="pre">shell_uninit_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">uninit_cb</span></span></span><a class="headerlink" href="#c.shell_ctx.uninit_cb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>When bypass is set, all incoming data is passed to the callback. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.cmd_buff_len">
<span class="target" id="structshell__ctx_1a948d78719efe7f01b8edf151e1435af6"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cmd_buff_len</span></span></span><a class="headerlink" href="#c.shell_ctx.cmd_buff_len" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command length. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.cmd_buff_pos">
<span class="target" id="structshell__ctx_1a9a8f69e6876e4788ef3961dfb769e53f"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cmd_buff_pos</span></span></span><a class="headerlink" href="#c.shell_ctx.cmd_buff_pos" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command buffer cursor position. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.cmd_tmp_buff_len">
<span class="target" id="structshell__ctx_1a5dfe5d3b2e27b67a7a78d5c3ad32ff1d"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cmd_tmp_buff_len</span></span></span><a class="headerlink" href="#c.shell_ctx.cmd_tmp_buff_len" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command length in tmp buffer. Command input buffer. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.cmd_buff">
<span class="target" id="structshell__ctx_1a385014f2fba5cae182c3520ec934cce6"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cmd_buff</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.shell_ctx.cmd_buff" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command temporary buffer. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.temp_buff">
<span class="target" id="structshell__ctx_1a35085b30e92b913b16f02496c5ec6375"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">temp_buff</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.shell_ctx.temp_buff" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Printf buffer size. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell_ctx.signals">
<span class="target" id="structshell__ctx_1a6d96ff92952aebed16ebf288fe0a96db"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../kernel/other/polling.html#c.k_poll_signal" title="k_poll_signal"><span class="n"><span class="pre">k_poll_signal</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">signals</span></span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#c.shell_signal.SHELL_SIGNALS" title="SHELL_SIGNALS"><span class="n"><span class="pre">SHELL_SIGNALS</span></span></a><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.shell_ctx.signals" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Events that should be used only internally by shell thread. Event for SHELL_SIGNAL_TXDONE is initialized but unused. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.shell">
<span class="target" id="structshell"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shell</span></span></span><a class="headerlink" href="#c.shell" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;shell.h&gt;</em></div>
<p>Shell instance internals. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.shell.default_prompt">
<span class="target" id="structshell_1a97c365dfd7202eb091b1ad016014729b"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">default_prompt</span></span></span><a class="headerlink" href="#c.shell.default_prompt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>shell default prompt. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell.iface">
<span class="target" id="structshell_1ac6033c3c2e44c2c4e29791f1f61c566c"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_transport" title="shell_transport"><span class="n"><span class="pre">shell_transport</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iface</span></span></span><a class="headerlink" href="#c.shell.iface" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Transport interface. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.shell.ctx">
<span class="target" id="structshell_1ac14fde7e5f28615b9eec39a2eb8aa8d4"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.shell_ctx" title="shell_ctx"><span class="n"><span class="pre">shell_ctx</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ctx</span></span></span><a class="headerlink" href="#c.shell.ctx" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Internal context. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>