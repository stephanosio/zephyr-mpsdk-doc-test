<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Network Management &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Network Statistics" href="net_stats.html" />
    <link rel="prev" title="DNS Resolve" href="dns_resolve.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libc/index.html">C standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modbus/index.html">Modbus</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Networking</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="apis.html">Network APIs</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="sockets.html">BSD Sockets</a></li>
<li class="toctree-l4"><a class="reference internal" href="ip_4_6.html">IPv4/IPv6 Primitives and Helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="dns_resolve.html">DNS Resolve</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Network Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="net_stats.html">Network Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="net_timeout.html">Network Timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="net_context.html">Networking Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="promiscuous.html">Promiscuous Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="sntp.html">Simple Network Time Protocol Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="socks5.html">SOCKS5 Proxy Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="trickle.html">Trickle Timer Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="websocket.html">Websocket Client API</a></li>
<li class="toctree-l4"><a class="reference internal" href="capture.html">Network Packet Capture</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="buf_mgmt.html">Network Buffer Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="net_tech.html">Networking Technologies</a></li>
<li class="toctree-l3"><a class="reference internal" href="protocols.html">Protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_mgmt.html">Network System Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="tsn.html">Time Sensitive Networking</a></li>
<li class="toctree-l3"><a class="reference internal" href="gsm_modem.html">Generic GSM Modem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usermode/index.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">API Reference</a> &raquo;</li>
  
     <li><a href="index.html">Networking</a> &raquo;</li>
  
     <li><a href="apis.html">Network APIs</a> &raquo;</li>
  
  <li>Network Management</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/networking/net_mgmt.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="network-management">
<span id="net-mgmt-interface"></span><h1>Network Management<a class="headerlink" href="#network-management" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p></li>
<li><p><a class="reference internal" href="#requesting-a-defined-procedure" id="id2">Requesting a defined procedure</a></p></li>
<li><p><a class="reference internal" href="#listening-to-network-events" id="id3">Listening to network events</a></p></li>
<li><p><a class="reference internal" href="#defining-a-network-management-procedure" id="id4">Defining a network management procedure</a></p></li>
<li><p><a class="reference internal" href="#signaling-a-network-event" id="id5">Signaling a network event</a></p></li>
<li><p><a class="reference internal" href="#api-reference" id="id6">API Reference</a></p></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Network Management APIs allow applications, as well as network
layer code itself, to call defined network routines at any level in
the IP stack, or receive notifications on relevant network events. For
example, by using these APIs, application code can request a scan be done on a
Wi-Fi- or Bluetooth-based network interface, or request notification if
a network interface IP address changes.</p>
<p>The Network Management API implementation is designed to save memory
by eliminating code at build time for management routines that are not
used. Distinct and statically defined APIs for network management
procedures are not used.  Instead, defined procedure handlers are
registered by using a <a class="reference internal" href="#c.NET_MGMT_REGISTER_REQUEST_HANDLER" title="NET_MGMT_REGISTER_REQUEST_HANDLER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">NET_MGMT_REGISTER_REQUEST_HANDLER</span></code></a>
macro. Procedure requests are done through a single <a class="reference internal" href="#c.net_mgmt" title="net_mgmt"><code class="xref c c-func docutils literal notranslate"><span class="pre">net_mgmt()</span></code></a> API
that invokes the registered handler for the corresponding request.</p>
<p>The current implementation is experimental and may change and improve
in future releases.</p>
</div>
<div class="section" id="requesting-a-defined-procedure">
<h2><a class="toc-backref" href="#id2">Requesting a defined procedure</a><a class="headerlink" href="#requesting-a-defined-procedure" title="Permalink to this headline">¶</a></h2>
<p>All network management requests are of the form
<code class="docutils literal notranslate"><span class="pre">net_mgmt(mgmt_request,</span> <span class="pre">...)</span></code>. The <code class="docutils literal notranslate"><span class="pre">mgmt_request</span></code> parameter is a bit
mask that tells which stack layer is targeted, if a <code class="docutils literal notranslate"><span class="pre">net_if</span></code> object is
implied, and the specific management procedure being requested. The
available procedure requests depend on what has been implemented in
the stack.</p>
<p>To avoid extra cost, all <a class="reference internal" href="#c.net_mgmt" title="net_mgmt"><code class="xref c c-func docutils literal notranslate"><span class="pre">net_mgmt()</span></code></a> calls are direct. Though this
may change in a future release, it will not affect the users of this
function.</p>
</div>
<div class="section" id="listening-to-network-events">
<h2><a class="toc-backref" href="#id3">Listening to network events</a><a class="headerlink" href="#listening-to-network-events" title="Permalink to this headline">¶</a></h2>
<p>You can receive notifications on network events by registering a
callback function and specifying a set of events used to filter when
your callback is invoked. The callback  will have to be unique for a
pair of layer and code, whereas on the command part it will be a mask of
events.</p>
<p>Two functions are available, <a class="reference internal" href="#c.net_mgmt_add_event_callback" title="net_mgmt_add_event_callback"><code class="xref c c-func docutils literal notranslate"><span class="pre">net_mgmt_add_event_callback()</span></code></a> for
registering the callback function, and
<a class="reference internal" href="#c.net_mgmt_del_event_callback" title="net_mgmt_del_event_callback"><code class="xref c c-func docutils literal notranslate"><span class="pre">net_mgmt_del_event_callback()</span></code></a>
for unregistering a callback. A helper function,
<a class="reference internal" href="#c.net_mgmt_init_event_callback" title="net_mgmt_init_event_callback"><code class="xref c c-func docutils literal notranslate"><span class="pre">net_mgmt_init_event_callback()</span></code></a>, can
be used to ease the initialization of the callback structure.</p>
<p>When an event occurs that matches a callback’s event set, the
associated callback function is invoked with the actual event
code. This makes it possible for different events to be handled by the
same callback function, if desired.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Event set filtering allows false positives for events that have the same
layer and layer code.  A callback handler function <strong>must</strong> check
the event code (passed as an argument) against the specific network
events it will handle, <strong>regardless</strong> of how many events were in the
set passed to <a class="reference internal" href="#c.net_mgmt_init_event_callback" title="net_mgmt_init_event_callback"><code class="xref c c-func docutils literal notranslate"><span class="pre">net_mgmt_init_event_callback()</span></code></a>.</p>
<p>Note that in order to receive events from multiple layers, one must have
multiple listeners registered, one for each layer being listened.
The callback handler function can be shared between different layer events.</p>
<p>(False positives can occur for events which have the same layer and
layer code.)</p>
</div>
<p>An example follows.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm"> * Set of events to handle.</span>
<span class="cm"> * See e.g. include/net/net_event.h for some NET_EVENT_xxx values.</span>
<span class="cm"> */</span><span class="w"></span>
<span class="cp">#define EVENT_IFACE_SET (NET_EVENT_IF_xxx | NET_EVENT_IF_yyy)</span>
<span class="cp">#define EVENT_IPV4_SET (NET_EVENT_IPV4_xxx | NET_EVENT_IPV4_yyy)</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">net_mgmt_event_callback</span><span class="w"> </span><span class="n">iface_callback</span><span class="p">;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">net_mgmt_event_callback</span><span class="w"> </span><span class="n">ipv4_callback</span><span class="p">;</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">callback_handler</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">net_mgmt_event_callback</span><span class="w"> </span><span class="o">*</span><span class="n">cb</span><span class="p">,</span><span class="w"></span>
<span class="w">                      </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">mgmt_event</span><span class="p">,</span><span class="w"></span>
<span class="w">                      </span><span class="k">struct</span><span class="w"> </span><span class="nc">net_if</span><span class="w"> </span><span class="o">*</span><span class="n">iface</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mgmt_event</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">NET_EVENT_IF_xxx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="cm">/* Handle NET_EVENT_IF_xxx */</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mgmt_event</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">NET_EVENT_IF_yyy</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="cm">/* Handle NET_EVENT_IF_yyy */</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mgmt_event</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">NET_EVENT_IPV4_xxx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="cm">/* Handle NET_EVENT_IPV4_xxx */</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mgmt_event</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">NET_EVENT_IPV4_yyy</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="cm">/* Handle NET_EVENT_IPV4_yyy */</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="cm">/* Spurious (false positive) invocation. */</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">register_cb</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">net_mgmt_init_event_callback</span><span class="p">(</span><span class="o">&amp;</span><span class="n">iface_callback</span><span class="p">,</span><span class="w"> </span><span class="n">callback_handler</span><span class="p">,</span><span class="w"></span>
<span class="w">                                     </span><span class="n">EVENT_IFACE_SET</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">net_mgmt_init_event_callback</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ipv4_callback</span><span class="p">,</span><span class="w"> </span><span class="n">callback_handler</span><span class="p">,</span><span class="w"></span>
<span class="w">                                     </span><span class="n">EVENT_IPV4_SET</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">net_mgmt_add_event_callback</span><span class="p">(</span><span class="o">&amp;</span><span class="n">iface_callback</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">net_mgmt_add_event_callback</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ipv4_callback</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/net/net_event.h">include/net/net_event.h</a> for available generic core events that
can be listened to.</p>
</div>
<div class="section" id="defining-a-network-management-procedure">
<h2><a class="toc-backref" href="#id4">Defining a network management procedure</a><a class="headerlink" href="#defining-a-network-management-procedure" title="Permalink to this headline">¶</a></h2>
<p>You can provide additional management procedures specific to your
stack implementation by defining a handler and registering it with an
associated mgmt_request code.</p>
<p>Management request code are defined in relevant places depending on
the targeted layer or eventually, if l2 is the layer, on the
technology as well. For instance, all IP layer management request code
will be found in the <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/net/net_event.h">include/net/net_event.h</a> header file. But in case
of an L2 technology, let’s say Ethernet, these would be found in
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/net/ethernet.h">include/net/ethernet.h</a></p>
<p>You define your handler modeled with this signature:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">your_handler</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">mgmt_event</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">net_if</span><span class="w"> </span><span class="o">*</span><span class="n">iface</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>and then register it with an associated mgmt_request code:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">NET_MGMT_REGISTER_REQUEST_HANDLER</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mgmt_request</span><span class="w"> </span><span class="n">code</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">your_handler</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>This new management procedure could then be called by using:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">net_mgmt</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mgmt_request</span><span class="w"> </span><span class="n">code</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">...);</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="signaling-a-network-event">
<h2><a class="toc-backref" href="#id5">Signaling a network event</a><a class="headerlink" href="#signaling-a-network-event" title="Permalink to this headline">¶</a></h2>
<p>You can signal a specific network event using the <code class="xref c c-func docutils literal notranslate"><span class="pre">net_mgmt_notify()</span></code>
function and provide the network event code. See
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/net/net_mgmt.h">include/net/net_mgmt.h</a> for details. As for the management request
code, event code can be also found on specific L2 technology mgmt headers,
for example <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/net/ieee802154_mgmt.h">include/net/ieee802154_mgmt.h</a> would be the right place if
802.15.4 L2 is the technology one wants to listen to events.</p>
</div>
<div class="section" id="api-reference">
<h2><a class="toc-backref" href="#id6">API Reference</a><a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__net__mgmt"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">net_mgmt</span></span></dt>
<dd><p>Network Management. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.net_mgmt">
<span class="target" id="group__net__mgmt_1ga40e0f9fc86812ad9f6fe174b4c3804e6"></span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_mgmt_request</span></span>, <span class="n"><span class="pre">_iface</span></span>, <span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NET_MGMT_DEFINE_REQUEST_HANDLER">
<span class="target" id="group__net__mgmt_1ga08bde8717fd8e12a338c517b22b87776"></span><span class="sig-name descname"><span class="n"><span class="pre">NET_MGMT_DEFINE_REQUEST_HANDLER</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_mgmt_request</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NET_MGMT_DEFINE_REQUEST_HANDLER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NET_MGMT_REGISTER_REQUEST_HANDLER">
<span class="target" id="group__net__mgmt_1gab67d09d1e65b806ec1957451cbf60501"></span><span class="sig-name descname"><span class="n"><span class="pre">NET_MGMT_REGISTER_REQUEST_HANDLER</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_mgmt_request</span></span>, <span class="n"><span class="pre">_func</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NET_MGMT_REGISTER_REQUEST_HANDLER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.net_mgmt_request_handler_t">
<span class="target" id="group__net__mgmt_1gaba005de4dbeb090a384df1ba67251108"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_request_handler_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">mgmt_request</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="net_if.html#c.net_if" title="net_if"><span class="n"><span class="pre">net_if</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">iface</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.net_mgmt_request_handler_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Signature which all Net MGMT request handler need to follow. </p>
<dl class="field-list simple">
<dt class="field-odd">Param mgmt_request</dt>
<dd class="field-odd"><p>The exact request value the handler is being called through </p>
</dd>
<dt class="field-even">Param iface</dt>
<dd class="field-even"><p>A valid pointer on struct <a class="reference internal" href="net_if.html#structnet__if"><span class="std std-ref">net_if</span></a> if the request is meant to be tight to a network interface. NULL otherwise. </p>
</dd>
<dt class="field-odd">Param data</dt>
<dd class="field-odd"><p>A valid pointer on a data understood by the handler. NULL otherwise. </p>
</dd>
<dt class="field-even">Param len</dt>
<dd class="field-even"><p>Length in byte of the memory pointed by data. </p>
</dd>
</dl>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.net_mgmt_event_handler_t">
<span class="target" id="group__net__mgmt_1ga01c7010a1ad7e89f314dfedd531dcbd2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_event_handler_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.net_mgmt_event_callback" title="net_mgmt_event_callback"><span class="n"><span class="pre">net_mgmt_event_callback</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cb</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">mgmt_event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="net_if.html#c.net_if" title="net_if"><span class="n"><span class="pre">net_if</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">iface</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.net_mgmt_event_handler_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Define the user’s callback handler function signature. </p>
<dl class="field-list simple">
<dt class="field-odd">Param cb</dt>
<dd class="field-odd"><p>Original struct <a class="reference internal" href="#structnet__mgmt__event__callback"><span class="std std-ref">net_mgmt_event_callback</span></a> owning this handler. </p>
</dd>
<dt class="field-even">Param mgmt_event</dt>
<dd class="field-even"><p>The network event being notified. </p>
</dd>
<dt class="field-odd">Param iface</dt>
<dd class="field-odd"><p>A pointer on a struct <a class="reference internal" href="net_if.html#structnet__if"><span class="std std-ref">net_if</span></a> to which the the event belongs to, if it’s an event on an iface. NULL otherwise. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.net_mgmt_init_event_callback">
<span class="target" id="group__net__mgmt_1gaa1d086dcdeb54412073e287129bc50e0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_init_event_callback</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.net_mgmt_event_callback" title="net_mgmt_event_callback"><span class="n"><span class="pre">net_mgmt_event_callback</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cb</span></span>, <a class="reference internal" href="#c.net_mgmt_event_handler_t" title="net_mgmt_event_handler_t"><span class="n"><span class="pre">net_mgmt_event_handler_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">handler</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">mgmt_event_mask</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt_init_event_callback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Helper to initialize a struct <a class="reference internal" href="#structnet__mgmt__event__callback"><span class="std std-ref">net_mgmt_event_callback</span></a> properly. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cb</strong> – A valid application’s callback structure pointer. </p></li>
<li><p><strong>handler</strong> – A valid handler function pointer. </p></li>
<li><p><strong>mgmt_event_mask</strong> – A mask of relevant events for the handler </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.net_mgmt_add_event_callback">
<span class="target" id="group__net__mgmt_1gae53f5bbc973b0f414107eca75ac0c26f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_add_event_callback</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.net_mgmt_event_callback" title="net_mgmt_event_callback"><span class="n"><span class="pre">net_mgmt_event_callback</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt_add_event_callback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Add a user callback. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cb</strong> – A valid pointer on user’s callback to add. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.net_mgmt_del_event_callback">
<span class="target" id="group__net__mgmt_1ga4960bfb01ecd891da72c57f17587f946"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_del_event_callback</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.net_mgmt_event_callback" title="net_mgmt_event_callback"><span class="n"><span class="pre">net_mgmt_event_callback</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt_del_event_callback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Delete a user callback. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cb</strong> – A valid pointer on user’s callback to delete. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.net_mgmt_event_notify_with_info">
<span class="target" id="group__net__mgmt_1ga10882f80c53400b94401a2a08d31697d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_event_notify_with_info</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">mgmt_event</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="net_if.html#c.net_if" title="net_if"><span class="n"><span class="pre">net_if</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">iface</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">info</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt_event_notify_with_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Used by the system to notify an event. </p>
<p>
Note: info and length are disabled if CONFIG_NET_MGMT_EVENT_INFO is not defined. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mgmt_event</strong> – The actual network event code to notify </p></li>
<li><p><strong>iface</strong> – a valid pointer on a struct <a class="reference internal" href="net_if.html#structnet__if"><span class="std std-ref">net_if</span></a> if only the event is based on an iface. NULL otherwise. </p></li>
<li><p><strong>info</strong> – a valid pointer on the information you want to pass along with the event. NULL otherwise. Note the data pointed there is normalized by the related event. </p></li>
<li><p><strong>length</strong> – size of the data pointed by info pointer.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.net_mgmt_event_notify">
<span class="target" id="group__net__mgmt_1ga0648b82762467395b98a3bc13ab451d0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_event_notify</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">mgmt_event</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="net_if.html#c.net_if" title="net_if"><span class="n"><span class="pre">net_if</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">iface</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt_event_notify" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.net_mgmt_event_wait">
<span class="target" id="group__net__mgmt_1gacbaa95c65717747d802dc80eb745aa17"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_event_wait</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">mgmt_event_mask</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">raised_event</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="net_if.html#c.net_if" title="net_if"><span class="n"><span class="pre">net_if</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">iface</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">info</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">info_length</span></span>, <a class="reference internal" href="../kernel/timing/clocks.html#c.k_timeout_t" title="k_timeout_t"><span class="n"><span class="pre">k_timeout_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">timeout</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt_event_wait" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Used to wait synchronously on an event mask. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mgmt_event_mask</strong> – A mask of relevant events to wait on. </p></li>
<li><p><strong>raised_event</strong> – a pointer on a uint32_t to get which event from the mask generated the event. Can be NULL if the caller is not interested in that information. </p></li>
<li><p><strong>iface</strong> – a pointer on a place holder for the iface on which the event has originated from. This is valid if only the event mask has bit NET_MGMT_IFACE_BIT set relevantly, depending on events the caller wants to listen to. </p></li>
<li><p><strong>info</strong> – a valid pointer if user wants to get the information the event might bring along. NULL otherwise. </p></li>
<li><p><strong>info_length</strong> – tells how long the info memory area is. Only valid if the info is not NULL. </p></li>
<li><p><strong>timeout</strong> – A timeout delay. K_FOREVER can be used to wait indefinitely.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>0 on success, a negative error code otherwise. -ETIMEDOUT will be specifically returned if the timeout kick-in instead of an actual event. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.net_mgmt_event_wait_on_iface">
<span class="target" id="group__net__mgmt_1ga03c39d5f2af3f2d7a633513fb5ec8a7d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_event_wait_on_iface</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="net_if.html#c.net_if" title="net_if"><span class="n"><span class="pre">net_if</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">iface</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">mgmt_event_mask</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">raised_event</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">info</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">info_length</span></span>, <a class="reference internal" href="../kernel/timing/clocks.html#c.k_timeout_t" title="k_timeout_t"><span class="n"><span class="pre">k_timeout_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">timeout</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt_event_wait_on_iface" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Used to wait synchronously on an event mask for a specific iface. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iface</strong> – a pointer on a valid network interface to listen event to </p></li>
<li><p><strong>mgmt_event_mask</strong> – A mask of relevant events to wait on. Listened to events should be relevant to iface events and thus have the bit NET_MGMT_IFACE_BIT set. </p></li>
<li><p><strong>raised_event</strong> – a pointer on a uint32_t to get which event from the mask generated the event. Can be NULL if the caller is not interested in that information. </p></li>
<li><p><strong>info</strong> – a valid pointer if user wants to get the information the event might bring along. NULL otherwise. </p></li>
<li><p><strong>info_length</strong> – tells how long the info memory area is. Only valid if the info is not NULL. </p></li>
<li><p><strong>timeout</strong> – A timeout delay. K_FOREVER can be used to wait indefinitely.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>0 on success, a negative error code otherwise. -ETIMEDOUT will be specifically returned if the timeout kick-in instead of an actual event. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.net_mgmt_event_init">
<span class="target" id="group__net__mgmt_1gaab4fe2e9ea0657bf91fb1910af6729cc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_event_init</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.net_mgmt_event_init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Used by the core of the network stack to initialize the network event processing. </p>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.net_mgmt_event_callback">
<span class="target" id="structnet__mgmt__event__callback"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">net_mgmt_event_callback</span></span></span><a class="headerlink" href="#c.net_mgmt_event_callback" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;net_mgmt.h&gt;</em></div>
<p>Network Management event callback structure Used to register a callback into the network management event part, in order to let the owner of this struct to get network event notification based on given event mask. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.net_mgmt_event_callback.node">
<span class="target" id="structnet__mgmt__event__callback_1a05a4f445731f9f72209a652f2653e1ea"></span><span class="n"><span class="pre">sys_snode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">node</span></span></span><a class="headerlink" href="#c.net_mgmt_event_callback.node" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Meant to be used internally, to insert the callback into a list. So nobody should mess with it. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.net_mgmt_event_callback.handler">
<span class="target" id="structnet__mgmt__event__callback_1ada57aabc8acc3e9be93fb2726321f1b2"></span><a class="reference internal" href="#c.net_mgmt_event_handler_t" title="net_mgmt_event_handler_t"><span class="n"><span class="pre">net_mgmt_event_handler_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handler</span></span></span><a class="headerlink" href="#c.net_mgmt_event_callback.handler" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Actual callback function being used to notify the owner </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.net_mgmt_event_callback.sync_call">
<span class="target" id="structnet__mgmt__event__callback_1a7403d98fe528c492a4b1b449b43c10d3"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">k_sem</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">sync_call</span></span></span><a class="headerlink" href="#c.net_mgmt_event_callback.sync_call" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Semaphore meant to be used internaly for the synchronous <a class="reference internal" href="#group__net__mgmt_1gacbaa95c65717747d802dc80eb745aa17"><span class="std std-ref">net_mgmt_event_wait()</span></a> function. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.net_mgmt_event_callback.event_mask">
<span class="target" id="structnet__mgmt__event__callback_1acd2d06e59f71b30e6d9089c165c4a589"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event_mask</span></span></span><a class="headerlink" href="#c.net_mgmt_event_callback.event_mask" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A mask of network events on which the above handler should be called in case those events come. Note that only the command part is treated as a mask, matching one to several commands. Layer and layer code will be made of an exact match. This means that in order to receive events from multiple layers, one must have multiple listeners registered, one for each layer being listened. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.net_mgmt_event_callback.raised_event">
<span class="target" id="structnet__mgmt__event__callback_1a7c92da4524db9294d9a157606b85c497"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">raised_event</span></span></span><a class="headerlink" href="#c.net_mgmt_event_callback.raised_event" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Internal place holder when a synchronous event wait is successfully unlocked on a event. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.net_mgmt_event_callback.&#64;181">
<span class="target" id="structnet__mgmt__event__callback_1a3a6de8a158df59c6b2d2cc685715ecc9"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><a class="reference internal" href="#c.net_mgmt_event_callback" title="net_mgmt_event_callback"><span class="n"><span class="pre">net_mgmt_event_callback</span></span></a><span class="p"><span class="pre">.</span></span><span class="n"><span class="pre">[anonymous]</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><a class="headerlink" href="#c.net_mgmt_event_callback.@181" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A mask of network events on which the above handler should be called in case those events come. Such mask can be modified whenever necessary by the owner, and thus will affect the handler being called or not. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>