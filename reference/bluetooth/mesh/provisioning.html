<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Provisioning &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script type="module" src="../../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="Proxy" href="proxy.html" />
    <link rel="prev" title="Message" href="msg.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html">
            <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.99
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/3.0.0/">3.0.0</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Bluetooth</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../connection_mgmt.html">Connection Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../controller.html">Bluetooth Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crypto.html">Cryptography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_buffer.html">Data Buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gap.html">Generic Access Profile (GAP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gatt.html">Generic Attribute Profile (GATT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hci_drivers.html">HCI Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hci_raw.html">HCI RAW channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hfp.html">Hands Free Profile (HFP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../l2cap.html">Logical Link Control and Adaptation Protocol (L2CAP)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../mesh.html">Bluetooth Mesh Profile</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="access.html">Access layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="models.html">Foundation models</a></li>
<li class="toctree-l4"><a class="reference internal" href="msg.html">Message</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Provisioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="proxy.html">Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="heartbeat.html">Heartbeat</a></li>
<li class="toctree-l4"><a class="reference internal" href="cfg.html">Runtime Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="shell.html">Bluetooth Mesh Shell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcomm.html">Serial Port Emulation (RFCOMM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sdp.html">Service Discovery Protocol (SDP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uuid.html">Universal Unique Identifiers (UUIDs)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/audio.html">Bluetooth: Basic Audio Profile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../libc/index.html">C standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modbus/index.html">Modbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../peripherals/index.html">Peripherals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/index.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usermode/index.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../util/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/kconfig.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../../index.html">API Reference</a> &raquo;</li>
  
     <li><a href="../index.html">Bluetooth</a> &raquo;</li>
  
     <li><a href="../mesh.html">Bluetooth Mesh Profile</a> &raquo;</li>
  
  <li>Provisioning</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/bluetooth/mesh/provisioning.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="provisioning">
<span id="bluetooth-mesh-provisioning"></span><h1>Provisioning<a class="headerlink" href="#provisioning" title="Permalink to this headline">¶</a></h1>
<p>Provisioning is the process of adding devices to a mesh network. It requires
two devices operating in the following roles:</p>
<ul class="simple">
<li><p>The <em>provisioner</em> represents the network owner, and is responsible for
adding new nodes to the mesh network.</p></li>
<li><p>The <em>provisionee</em> is the device that gets added to the network through the
Provisioning process. Before the provisioning process starts, the
provisionee is an <em>unprovisioned device</em>.</p></li>
</ul>
<p>The Provisioning module in the Zephyr Bluetooth mesh stack supports both the
Advertising and GATT Provisioning bearers for the provisionee role, as well as
the Advertising Provisioning bearer for the provisioner role.</p>
<div class="section" id="the-provisioning-process">
<h2>The Provisioning process<a class="headerlink" href="#the-provisioning-process" title="Permalink to this headline">¶</a></h2>
<p>All Bluetooth mesh nodes must be provisioned before they can participate in a
Bluetooth mesh network. The Provisioning API provides all the functionality
necessary for a device to become a provisioned mesh node.
Provisioning is a five-step process, involving the following steps:</p>
<ul class="simple">
<li><p>Beaconing</p></li>
<li><p>Invitation</p></li>
<li><p>Public key exchange</p></li>
<li><p>Authentication</p></li>
<li><p>Provisioning data transfer</p></li>
</ul>
<div class="section" id="beaconing">
<h3>Beaconing<a class="headerlink" href="#beaconing" title="Permalink to this headline">¶</a></h3>
<p>To start the provisioning process, the unprovisioned device must first start
broadcasting the Unprovisioned Beacon. This makes it visible to nearby
provisioners, which can initiate the provisioning. To indicate that the device
needs to be provisioned, call <a class="reference internal" href="#c.bt_mesh_prov_enable" title="bt_mesh_prov_enable"><code class="xref c c-func docutils literal notranslate"><span class="pre">bt_mesh_prov_enable()</span></code></a>. The device
starts broadcasting the Unprovisioned Beacon with the device UUID and the
<code class="docutils literal notranslate"><span class="pre">OOB</span> <span class="pre">information</span></code> field, as specified in the <code class="docutils literal notranslate"><span class="pre">prov</span></code> parameter passed to
<a class="reference internal" href="core.html#c.bt_mesh_init" title="bt_mesh_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">bt_mesh_init()</span></code></a>. Additionally, a Uniform Resource Identifier (URI)
may be specified, which can point the provisioner to the location of some Out
Of Band information, such as the device’s public key or an authentication
value database. The URI is advertised in a separate beacon, with a URI hash
included in the unprovisioned beacon, to tie the two together.</p>
<div class="section" id="uniform-resource-identifier">
<h4>Uniform Resource Identifier<a class="headerlink" href="#uniform-resource-identifier" title="Permalink to this headline">¶</a></h4>
<p>The Uniform Resource Identifier shall follow the format specified in the
Bluetooth Core Specification Supplement. The URI must start with a URI scheme,
encoded as a single utf-8 data point, or the special <code class="docutils literal notranslate"><span class="pre">none</span></code> scheme, encoded
as <code class="docutils literal notranslate"><span class="pre">0x01</span></code>. The available schemes are listed on the <a class="reference external" href="https://www.bluetooth.com/specifications/assigned-numbers/uri-scheme-name-string-mapping/">Bluetooth website</a>.</p>
<p>Examples of encoded URIs:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-number">Table 6 </span><span class="caption-text">URI encoding examples</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>URI</p></td>
<td><p>Encoded</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http://example.com</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\x16//example.com</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">https://www.zephyrproject.org/</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\x17//www.zephyrproject.org/</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">just</span> <span class="pre">a</span> <span class="pre">string</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\x01just</span> <span class="pre">a</span> <span class="pre">string</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="provisioning-invitation">
<h3>Provisioning invitation<a class="headerlink" href="#provisioning-invitation" title="Permalink to this headline">¶</a></h3>
<p>The provisioner initiates the Provisioning process by sending a Provisioning
invitation. The invitations prompts the provisionee to call attention to
itself using the Health Server
<a class="reference internal" href="health_srv.html#bluetooth-mesh-models-health-srv-attention"><span class="std std-ref">Attention state</span></a>, if available.</p>
<p>The Unprovisioned device automatically responds to the invite by presenting a
list of its capabilities, including the supported Out of Band Authentication
methods.</p>
</div>
<div class="section" id="public-key-exchange">
<h3>Public key exchange<a class="headerlink" href="#public-key-exchange" title="Permalink to this headline">¶</a></h3>
<p>Before the provisioning process can begin, the provisioner and the unprovisioned
device exchange public keys, either in-band or Out of Band (OOB).</p>
<p>In-band public key exchange is a part of the provisioning process and always
supported by the unprovisioned device and provisioner.</p>
<p>If the application wants to support public key exchange via OOB, it needs to
provide public and private keys to the mesh stack. The unprovisioned device
will reflect this in its capabilities. The provisioner obtains the public key
via any available OOB mechanism (e.g. the device may advertise a packet
containing the public key or it can be encoded in a QR code printed on the
device packaging). Note that even if the unprovisioned device has specified
the public key for the Out of Band exchange, the provisioner may choose to
exchange the public key in-band if it can’t retrieve the public key via OOB
mechanism. In this case, a new key pair will be generated by the mesh stack
for each Provisioning process.</p>
<p>To enable support of OOB public key on the unprovisioned device side,
<a class="reference internal" href="../../../kconfig.html#CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY" title="CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY"><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY</span></code></a> needs to be enabled. The
application must provide public and private keys before the Provisioning
process is started by initializing pointers to
<a class="reference internal" href="#c.bt_mesh_prov.public_key_be" title="bt_mesh_prov.public_key_be"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_prov.public_key_be</span></code></a>
and <a class="reference internal" href="#c.bt_mesh_prov.private_key_be" title="bt_mesh_prov.private_key_be"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_prov.private_key_be</span></code></a>. The keys needs to be
provided in big-endian bytes order.</p>
<p>To provide the device’s public key obtained via OOB,
call <a class="reference internal" href="#c.bt_mesh_prov_remote_pub_key_set" title="bt_mesh_prov_remote_pub_key_set"><code class="xref c c-func docutils literal notranslate"><span class="pre">bt_mesh_prov_remote_pub_key_set()</span></code></a> on the provisioner side.</p>
</div>
<div class="section" id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h3>
<p>After the initial exchange, the provisioner selects an Out of Band (OOB)
Authentication method. This allows the user to confirm that the device the
provisioner connected to is actually the device they intended, and not a
malicious third party.</p>
<p>The Provisioning API supports the following authentication methods for the
provisionee:</p>
<ul class="simple">
<li><p><strong>Static OOB:</strong> An authentication value is assigned to the device in
production, which the provisioner can query in some application specific
way.</p></li>
<li><p><strong>Input OOB:</strong> The user inputs the authentication value. The available input
actions are listed in <a class="reference internal" href="#c.bt_mesh_input_action_t" title="bt_mesh_input_action_t"><code class="xref c c-enum docutils literal notranslate"><span class="pre">bt_mesh_input_action_t</span></code></a>.</p></li>
<li><p><strong>Output OOB:</strong> Show the user the authentication value. The available output
actions are listed in <a class="reference internal" href="#c.bt_mesh_output_action_t" title="bt_mesh_output_action_t"><code class="xref c c-enum docutils literal notranslate"><span class="pre">bt_mesh_output_action_t</span></code></a>.</p></li>
</ul>
<p>The application must provide callbacks for the supported authentication
methods in <a class="reference internal" href="#c.bt_mesh_prov" title="bt_mesh_prov"><code class="xref c c-struct docutils literal notranslate"><span class="pre">bt_mesh_prov</span></code></a>, as well as enabling the supported actions
in <a class="reference internal" href="#c.bt_mesh_prov.output_actions" title="bt_mesh_prov.output_actions"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_prov.output_actions</span></code></a> and
<a class="reference internal" href="#c.bt_mesh_prov.input_actions" title="bt_mesh_prov.input_actions"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_prov.input_actions</span></code></a>.</p>
<p>When an Output OOB action is selected, the authentication value should be
presented to the user when the output callback is called, and remain until the
<a class="reference internal" href="#c.bt_mesh_prov.input_complete" title="bt_mesh_prov.input_complete"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_prov.input_complete</span></code></a> or <a class="reference internal" href="#c.bt_mesh_prov.complete" title="bt_mesh_prov.complete"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_prov.complete</span></code></a>
callback is called. If the action is <code class="docutils literal notranslate"><span class="pre">blink</span></code>, <code class="docutils literal notranslate"><span class="pre">beep</span></code> or <code class="docutils literal notranslate"><span class="pre">vibrate</span></code>, the
sequence should be repeated after a delay of three seconds or more.</p>
<p>When an Input OOB action is selected, the user should be prompted when the
application receives the <a class="reference internal" href="#c.bt_mesh_prov.input" title="bt_mesh_prov.input"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_prov.input</span></code></a> callback. The user
response should be fed back to the Provisioning API through
<a class="reference internal" href="#c.bt_mesh_input_string" title="bt_mesh_input_string"><code class="xref c c-func docutils literal notranslate"><span class="pre">bt_mesh_input_string()</span></code></a> or <a class="reference internal" href="#c.bt_mesh_input_number" title="bt_mesh_input_number"><code class="xref c c-func docutils literal notranslate"><span class="pre">bt_mesh_input_number()</span></code></a>. If
no user response is recorded within 60 seconds, the Provisioning process is
aborted.</p>
</div>
<div class="section" id="data-transfer">
<h3>Data transfer<a class="headerlink" href="#data-transfer" title="Permalink to this headline">¶</a></h3>
<p>After the device has been successfully authenticated, the provisioner
transfers the Provisioning data:</p>
<ul class="simple">
<li><p>Unicast address</p></li>
<li><p>A network key</p></li>
<li><p>IV index</p></li>
<li><p>Network flags</p>
<ul>
<li><p>Key refresh</p></li>
<li><p>IV update</p></li>
</ul>
</li>
</ul>
<p>Additionally, a device key is generated for the node. All this data is stored
by the mesh stack, and the provisioning <a class="reference internal" href="#c.bt_mesh_prov.complete" title="bt_mesh_prov.complete"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_prov.complete</span></code></a>
callback gets called.</p>
</div>
</div>
<div class="section" id="provisioning-security">
<h2>Provisioning security<a class="headerlink" href="#provisioning-security" title="Permalink to this headline">¶</a></h2>
<p>Depending on the choice of public key exchange mechanism and authentication method,
the provisioning process can be secure or insecure.</p>
<p>On May 24th 2021, ANSSI <a class="reference external" href="https://kb.cert.org/vuls/id/799380">disclosed</a>
a set of vulnerabilities in the Bluetooth mesh provisioning protocol that showcased
how the low entropy provided by the Blink, Vibrate, Push, Twist and
Input/Output numeric OOB methods could be exploited in impersonation and MITM
attacks. In response, the Bluetooth SIG has reclassified these OOB methods as
insecure in the Mesh Profile specification <a class="reference external" href="https://www.bluetooth.org/docman/handlers/DownloadDoc.ashx?doc_id=516072">erratum 16350</a>,
as AuthValue may be brute forced in real time. To ensure secure provisioning, applications
should use a static OOB value and OOB public key transfer.</p>
</div>
<div class="section" id="api-reference">
<h2>API reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__bt__mesh__prov"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">bt_mesh_prov</span></span></dt>
<dd><p>Provisioning. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.bt_mesh_output_action_t">
<span class="target" id="group__bt__mesh__prov_1ga5512b81ef7eeb45b0a12ef62234c8795"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_output_action_t</span></span></span><a class="headerlink" href="#c.bt_mesh_output_action_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Available Provisioning output authentication actions. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_output_action_t.BT_MESH_NO_OUTPUT">
<span class="target" id="group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795ad009060fd1f501c8362a63e6c020b113"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_NO_OUTPUT</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#c.bt_mesh_output_action_t.BT_MESH_NO_OUTPUT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_output_action_t.BT_MESH_BLINK">
<span class="target" id="group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795ac38333011b4f76b036a04e41f1f71e83"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_BLINK</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_output_action_t.BT_MESH_BLINK" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_output_action_t.BT_MESH_BEEP">
<span class="target" id="group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795ae50031a39d19181df17ee6de1a12272c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_BEEP</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_output_action_t.BT_MESH_BEEP" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_output_action_t.BT_MESH_VIBRATE">
<span class="target" id="group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795ab45021af96db0465f5edc6e0ea7b6079"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_VIBRATE</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_output_action_t.BT_MESH_VIBRATE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_output_action_t.BT_MESH_DISPLAY_NUMBER">
<span class="target" id="group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795a3586ffa3e36247e0d90b83c3f075e591"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_DISPLAY_NUMBER</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_output_action_t.BT_MESH_DISPLAY_NUMBER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_output_action_t.BT_MESH_DISPLAY_STRING">
<span class="target" id="group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795aa07d600f2afe278729bb4e35d41bf29b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_DISPLAY_STRING</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_output_action_t.BT_MESH_DISPLAY_STRING" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.bt_mesh_input_action_t">
<span class="target" id="group__bt__mesh__prov_1gaf71f3dbdef6b8c085e9a4f068e1f60c5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_input_action_t</span></span></span><a class="headerlink" href="#c.bt_mesh_input_action_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Available Provisioning input authentication actions. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_input_action_t.BT_MESH_NO_INPUT">
<span class="target" id="group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5ac721b070cad51f1cd9aa1f0b60e59056"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_NO_INPUT</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#c.bt_mesh_input_action_t.BT_MESH_NO_INPUT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_input_action_t.BT_MESH_PUSH">
<span class="target" id="group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5ae4902ce51142fa49d2d5e97165d6f51c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PUSH</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_input_action_t.BT_MESH_PUSH" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_input_action_t.BT_MESH_TWIST">
<span class="target" id="group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5ad6f22211d09614181cb5b0f42300a9ee"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_TWIST</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_input_action_t.BT_MESH_TWIST" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_input_action_t.BT_MESH_ENTER_NUMBER">
<span class="target" id="group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5aa0de3817e863d1f06888100de24fb4b0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_ENTER_NUMBER</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_input_action_t.BT_MESH_ENTER_NUMBER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_input_action_t.BT_MESH_ENTER_STRING">
<span class="target" id="group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5a5d6bd8e6110c8f53245840aead4201c2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_ENTER_STRING</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_input_action_t.BT_MESH_ENTER_STRING" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.bt_mesh_prov_bearer_t">
<span class="target" id="group__bt__mesh__prov_1gaa157eb0fee30c28092a11993872b8fdd"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_prov_bearer_t</span></span></span><a class="headerlink" href="#c.bt_mesh_prov_bearer_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Available Provisioning bearers. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_bearer_t.BT_MESH_PROV_ADV">
<span class="target" id="group__bt__mesh__prov_1ggaa157eb0fee30c28092a11993872b8fdda5142f018a5426a047688c6507b3af4f8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_ADV</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_bearer_t.BT_MESH_PROV_ADV" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_bearer_t.BT_MESH_PROV_GATT">
<span class="target" id="group__bt__mesh__prov_1ggaa157eb0fee30c28092a11993872b8fdda27c9c1278acc887214a4a30294bf52d8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_GATT</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_bearer_t.BT_MESH_PROV_GATT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t">
<span class="target" id="group__bt__mesh__prov_1gaf93f7b49dada5c3f7accc54663648e48"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_prov_oob_info_t</span></span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Out of Band information location. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_OTHER">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48a487ffb56c8c15a37b69fa1699fff301a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_OTHER</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_OTHER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_URI">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48ad861e8de3c1fbc1658a6d0fba38785dd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_URI</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_URI" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_2D_CODE">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48a34d005022a75446a386006f7690a473e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_2D_CODE</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_2D_CODE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_BAR_CODE">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48abe8fd10b49a7bb6c7499eb73ae3876d3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_BAR_CODE</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_BAR_CODE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_NFC">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48ad9b4089a740d47950c02b4389d29df56"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_NFC</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_NFC" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_NUMBER">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48ac5d40459453afebc841f32e1f0b33fbc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_NUMBER</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">5</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_NUMBER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_STRING">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48a8553379d579a418a6453669323b18088"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_STRING</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">6</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_STRING" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_ON_BOX">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48adbbc3c3829bb7caf1a4a5fd2066f3b4a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_ON_BOX</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">11</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_ON_BOX" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_IN_BOX">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48ae855a27a18bfb6ea03f0ff6165e4a291"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_IN_BOX</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">12</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_IN_BOX" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_ON_PAPER">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48a137946e3d53b996b77bebeda5fa930cb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_ON_PAPER</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">13</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_ON_PAPER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_IN_MANUAL">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48a4a8a7e4ab87cf360abdb167076349072"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_IN_MANUAL</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">14</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_IN_MANUAL" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_ON_DEV">
<span class="target" id="group__bt__mesh__prov_1ggaf93f7b49dada5c3f7accc54663648e48aa73dd9517eec86e51b48d256fc9660da"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_PROV_OOB_ON_DEV</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../../util/index.html#c.BIT" title="BIT"><span class="n"><span class="pre">BIT</span></span></a><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">15</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov_oob_info_t.BT_MESH_PROV_OOB_ON_DEV" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_input_string">
<span class="target" id="group__bt__mesh__prov_1ga2592abf429b40ef9242bce26f5bd085e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_input_string</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_input_string" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provide provisioning input OOB string. </p>
<p>This is intended to be called after the <a class="reference internal" href="#structbt__mesh__prov"><span class="std std-ref">bt_mesh_prov</span></a> input callback has been called with BT_MESH_ENTER_STRING as the action.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> – String.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_input_number">
<span class="target" id="group__bt__mesh__prov_1gace8cbf2a6e9144d3118054f234de02ef"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_input_number</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">num</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_input_number" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provide provisioning input OOB number. </p>
<p>This is intended to be called after the <a class="reference internal" href="#structbt__mesh__prov"><span class="std std-ref">bt_mesh_prov</span></a> input callback has been called with BT_MESH_ENTER_NUMBER as the action.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> – Number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_prov_remote_pub_key_set">
<span class="target" id="group__bt__mesh__prov_1gae33b5b6e9650b49d46494b4a81b18674"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_prov_remote_pub_key_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">public_key</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">64</span></span><span class="p"><span class="pre">]</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_prov_remote_pub_key_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provide Device public key. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>public_key</strong> – Device public key in big-endian.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_auth_method_set_input">
<span class="target" id="group__bt__mesh__prov_1ga80be35bf7287e62cb47d8fba99d648a9"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_auth_method_set_input</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.bt_mesh_input_action_t" title="bt_mesh_input_action_t"><span class="n"><span class="pre">bt_mesh_input_action_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">action</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_auth_method_set_input" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Use Input OOB authentication. </p>
<p>Provisioner only.</p>
<p>Instruct the unprovisioned device to use the specified Input OOB authentication action. When using <a class="reference internal" href="#group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5ae4902ce51142fa49d2d5e97165d6f51c"><span class="std std-ref">BT_MESH_PUSH</span></a>, <a class="reference internal" href="#group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5ad6f22211d09614181cb5b0f42300a9ee"><span class="std std-ref">BT_MESH_TWIST</span></a> or <a class="reference internal" href="#group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5aa0de3817e863d1f06888100de24fb4b0"><span class="std std-ref">BT_MESH_ENTER_NUMBER</span></a>, the <a class="reference internal" href="#structbt__mesh__prov_1af5c30f061ba8b0a713a3d54068dd68cc"><span class="std std-ref">bt_mesh_prov::output_number</span></a> callback is called with a random number that has to be entered on the unprovisioned device.</p>
<p>When using <a class="reference internal" href="#group__bt__mesh__prov_1ggaf71f3dbdef6b8c085e9a4f068e1f60c5a5d6bd8e6110c8f53245840aead4201c2"><span class="std std-ref">BT_MESH_ENTER_STRING</span></a>, the <a class="reference internal" href="#structbt__mesh__prov_1a28284efee6478637446702d7839f6b8c"><span class="std std-ref">bt_mesh_prov::output_string</span></a> callback is called with a random string that has to be entered on the unprovisioned device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> – Authentication action used by the unprovisioned device. </p></li>
<li><p><strong>size</strong> – Authentication size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_auth_method_set_output">
<span class="target" id="group__bt__mesh__prov_1gad66ccc725a1cfdf2b79076f22f853f84"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_auth_method_set_output</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.bt_mesh_output_action_t" title="bt_mesh_output_action_t"><span class="n"><span class="pre">bt_mesh_output_action_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">action</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_auth_method_set_output" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Use Output OOB authentication. </p>
<p>Provisioner only.</p>
<p>Instruct the unprovisioned device to use the specified Output OOB authentication action. The <a class="reference internal" href="#structbt__mesh__prov_1a31eff9c903ac721bbca7ab586dda9e80"><span class="std std-ref">bt_mesh_prov::input</span></a> callback will be called.</p>
<p>When using <a class="reference internal" href="#group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795ac38333011b4f76b036a04e41f1f71e83"><span class="std std-ref">BT_MESH_BLINK</span></a>, <a class="reference internal" href="#group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795ae50031a39d19181df17ee6de1a12272c"><span class="std std-ref">BT_MESH_BEEP</span></a>, <a class="reference internal" href="#group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795ab45021af96db0465f5edc6e0ea7b6079"><span class="std std-ref">BT_MESH_VIBRATE</span></a> or <a class="reference internal" href="#group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795a3586ffa3e36247e0d90b83c3f075e591"><span class="std std-ref">BT_MESH_DISPLAY_NUMBER</span></a>, and the application has to call <a class="reference internal" href="#group__bt__mesh__prov_1gace8cbf2a6e9144d3118054f234de02ef"><span class="std std-ref">bt_mesh_input_number</span></a> with the random number indicated by the unprovisioned device.</p>
<p>When using <a class="reference internal" href="#group__bt__mesh__prov_1gga5512b81ef7eeb45b0a12ef62234c8795aa07d600f2afe278729bb4e35d41bf29b"><span class="std std-ref">BT_MESH_DISPLAY_STRING</span></a>, the application has to call <a class="reference internal" href="#group__bt__mesh__prov_1ga2592abf429b40ef9242bce26f5bd085e"><span class="std std-ref">bt_mesh_input_string</span></a> with the random string displayed by the unprovisioned device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> – Authentication action used by the unprovisioned device. </p></li>
<li><p><strong>size</strong> – Authentication size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_auth_method_set_static">
<span class="target" id="group__bt__mesh__prov_1ga7b6024dc32f6ec7f26cbf91545911084"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_auth_method_set_static</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">static_val</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_auth_method_set_static" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Use static OOB authentication. </p>
<p>Provisioner only.</p>
<p>Instruct the unprovisioned device to use static OOB authentication, and use the given static authentication value when provisioning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>static_val</strong> – Static OOB value. </p></li>
<li><p><strong>size</strong> – Static OOB value size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_auth_method_set_none">
<span class="target" id="group__bt__mesh__prov_1gabab41ebdcae2eaa109e03cb2d8fa78c6"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_auth_method_set_none</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_auth_method_set_none" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Don’t use OOB authentication. </p>
<p>Provisioner only.</p>
<p>Don’t use any authentication when provisioning new devices. This is the default behavior.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Not using any authentication exposes the mesh network to impersonation attacks, where attackers can pretend to be the unprovisioned device to gain access to the network. Authentication is strongly encouraged.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_prov_enable">
<span class="target" id="group__bt__mesh__prov_1ga6c8dc1b09d4cde8738be83c992b860a9"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_prov_enable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.bt_mesh_prov_bearer_t" title="bt_mesh_prov_bearer_t"><span class="n"><span class="pre">bt_mesh_prov_bearer_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">bearers</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_prov_enable" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable specific provisioning bearers. </p>
<p>Enable one or more provisioning bearers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bearers</strong> – Bit-wise or of provisioning bearers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_prov_disable">
<span class="target" id="group__bt__mesh__prov_1gac7e084e7d12a93377d49b1c3d6313399"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_prov_disable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.bt_mesh_prov_bearer_t" title="bt_mesh_prov_bearer_t"><span class="n"><span class="pre">bt_mesh_prov_bearer_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">bearers</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_prov_disable" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Disable specific provisioning bearers. </p>
<p>Disable one or more provisioning bearers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bearers</strong> – Bit-wise or of provisioning bearers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_provision">
<span class="target" id="group__bt__mesh__prov_1ga4ed6e078c1c0f197758c8dbb23db30f6"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_provision</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">net_key</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">16</span></span><span class="p"><span class="pre">]</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">net_idx</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">iv_index</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">dev_key</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">16</span></span><span class="p"><span class="pre">]</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_provision" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provision the local Mesh Node. </p>
<p>This API should normally not be used directly by the application. The only exception is for testing purposes where manual provisioning is desired without an actual external provisioner.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>net_key</strong> – Network Key </p></li>
<li><p><strong>net_idx</strong> – Network Key Index </p></li>
<li><p><strong>flags</strong> – Provisioning Flags </p></li>
<li><p><strong>iv_index</strong> – IV Index </p></li>
<li><p><strong>addr</strong> – Primary element address </p></li>
<li><p><strong>dev_key</strong> – Device Key</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_provision_adv">
<span class="target" id="group__bt__mesh__prov_1ga0bfae4ebda53052cfa027c3a7ae51ec8"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_provision_adv</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">uuid</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">16</span></span><span class="p"><span class="pre">]</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">net_idx</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">attention_duration</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_provision_adv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provision a Mesh Node using PB-ADV. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> – UUID </p></li>
<li><p><strong>net_idx</strong> – Network Key Index </p></li>
<li><p><strong>addr</strong> – Address to assign to remote device. If addr is 0, the lowest available address will be chosen. </p></li>
<li><p><strong>attention_duration</strong> – The attention duration to be send to remote device</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_provision_gatt">
<span class="target" id="group__bt__mesh__prov_1ga60666e0d7629caf36026974621bae664"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_provision_gatt</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">uuid</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">16</span></span><span class="p"><span class="pre">]</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">net_idx</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">attention_duration</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_provision_gatt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provision a Mesh Node using PB-GATT. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuid</strong> – UUID </p></li>
<li><p><strong>net_idx</strong> – Network Key Index </p></li>
<li><p><strong>addr</strong> – Address to assign to remote device. If addr is 0, the lowest available address will be chosen. </p></li>
<li><p><strong>attention_duration</strong> – The attention duration to be send to remote device</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_is_provisioned">
<span class="target" id="group__bt__mesh__prov_1ga0307e62001ba7fa303ed311ebc47f116"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_is_provisioned</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_is_provisioned" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if the local node has been provisioned. </p>
<p>This API can be used to check if the local node has been provisioned or not. It can e.g. be helpful to determine if there was a stored network in flash, i.e. if the network was restored after calling <a class="reference internal" href="../../settings/index.html#group__settings_1ga89c6d618df81f197cc5c1a2018b00648"><span class="std std-ref">settings_load()</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the node is provisioned. False otherwise. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities">
<span class="target" id="structbt__mesh__dev__capabilities"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_dev_capabilities</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;main.h&gt;</em></div>
<p>Device Capabilities. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities.elem_count">
<span class="target" id="structbt__mesh__dev__capabilities_1acfef4ecf5ca9324ddc584b9cb910bfe0"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">elem_count</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities.elem_count" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of elements supported by the device </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities.algorithms">
<span class="target" id="structbt__mesh__dev__capabilities_1a762786d98c070d0ae79e09f22bad4b33"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">algorithms</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities.algorithms" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Supported algorithms and other capabilities </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities.pub_key_type">
<span class="target" id="structbt__mesh__dev__capabilities_1a7f549f5b3923c0b4249e1b21368ee857"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pub_key_type</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities.pub_key_type" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Supported public key types </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities.static_oob">
<span class="target" id="structbt__mesh__dev__capabilities_1ab6cf030cbf20f633e4529609d99d78d8"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">static_oob</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities.static_oob" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Supported static OOB Types </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities.output_actions">
<span class="target" id="structbt__mesh__dev__capabilities_1a359caeaf64f45783b0c576ef8ef14975"></span><a class="reference internal" href="#c.bt_mesh_output_action_t" title="bt_mesh_output_action_t"><span class="n"><span class="pre">bt_mesh_output_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">output_actions</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities.output_actions" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Supported Output OOB Actions </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities.input_actions">
<span class="target" id="structbt__mesh__dev__capabilities_1a6132c85094980f839cf9dca57d7969ea"></span><a class="reference internal" href="#c.bt_mesh_input_action_t" title="bt_mesh_input_action_t"><span class="n"><span class="pre">bt_mesh_input_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">input_actions</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities.input_actions" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Supported Input OOB Actions </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities.output_size">
<span class="target" id="structbt__mesh__dev__capabilities_1a59c959cbd8b1a2aa4e548e7f990cf1f4"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">output_size</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities.output_size" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Maximum size of Output OOB supported </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_dev_capabilities.input_size">
<span class="target" id="structbt__mesh__dev__capabilities_1ac9097c4d634683120509f4c1ac732928"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">input_size</span></span></span><a class="headerlink" href="#c.bt_mesh_dev_capabilities.input_size" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Maximum size in octets of Input OOB supported </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.bt_mesh_prov">
<span class="target" id="structbt__mesh__prov"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_prov</span></span></span><a class="headerlink" href="#c.bt_mesh_prov" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;main.h&gt;</em></div>
<p>Provisioning properties &amp; capabilities. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.uuid">
<span class="target" id="structbt__mesh__prov_1a1152d77c4c4d9271bbd72514d94052f2"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">uuid</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.uuid" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The UUID that’s used when advertising as unprovisioned </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.uri">
<span class="target" id="structbt__mesh__prov_1a6a11cc0d36ca2f4c5aee67a023c295a2"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">uri</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.uri" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Optional URI. This will be advertised separately from the unprovisioned beacon, however the unprovisioned beacon will contain a hash of it so the two can be associated by the provisioner. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.oob_info">
<span class="target" id="structbt__mesh__prov_1a6ed61556291f7f9d9a32062d588b8f2a"></span><a class="reference internal" href="#c.bt_mesh_prov_oob_info_t" title="bt_mesh_prov_oob_info_t"><span class="n"><span class="pre">bt_mesh_prov_oob_info_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">oob_info</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.oob_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Out of Band information field. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.public_key_be">
<span class="target" id="structbt__mesh__prov_1a1261ba69e785f005d5834ac49da00778"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">public_key_be</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.public_key_be" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to Public Key in big-endian for OOB public key type support.</p>
<p>Remember to enable <span> <a class="reference internal" href="../../../kconfig.html#CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY" title="CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY"><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY</span></code></a> </span> when initializing this parameter.</p>
<p>Must be used together with <a class="reference internal" href="#structbt__mesh__prov_1a1ab714e9be35242e02099884c3af45f5"><span class="std std-ref">bt_mesh_prov::private_key_be</span></a>. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.private_key_be">
<span class="target" id="structbt__mesh__prov_1a1ab714e9be35242e02099884c3af45f5"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">private_key_be</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.private_key_be" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to Private Key in big-endian for OOB public key type support.</p>
<p>Remember to enable <span> <a class="reference internal" href="../../../kconfig.html#CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY" title="CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY"><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_MESH_PROV_OOB_PUBLIC_KEY</span></code></a> </span> when initializing this parameter.</p>
<p>Must be used together with <a class="reference internal" href="#structbt__mesh__prov_1a1261ba69e785f005d5834ac49da00778"><span class="std std-ref">bt_mesh_prov::public_key_be</span></a>. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.static_val">
<span class="target" id="structbt__mesh__prov_1a97cf41cf857479c8eefee640f7b66788"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">static_val</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.static_val" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Static OOB value </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.static_val_len">
<span class="target" id="structbt__mesh__prov_1a97394dded5fd55b553364a566a2441e8"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">static_val_len</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.static_val_len" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Static OOB value length </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.output_size">
<span class="target" id="structbt__mesh__prov_1a4c51aa8e5887b3364d9480c92da3a0a0"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">output_size</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.output_size" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Maximum size of Output OOB supported </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.output_actions">
<span class="target" id="structbt__mesh__prov_1a8b88959c5eef7f47591468e9c9768b7c"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">output_actions</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.output_actions" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Supported Output OOB Actions </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.input_size">
<span class="target" id="structbt__mesh__prov_1ab9044f6dbf9780b3237f18270b2c8582"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">input_size</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.input_size" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Maximum size of Input OOB supported </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.input_actions">
<span class="target" id="structbt__mesh__prov_1af928a9419f684bcbda0563dda2c34d76"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">input_actions</span></span></span><a class="headerlink" href="#c.bt_mesh_prov.input_actions" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Supported Input OOB Actions </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.capabilities">
<span class="target" id="structbt__mesh__prov_1afbc65bb8be99f7dc37ecc911f4ac2151"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">capabilities</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_dev_capabilities" title="bt_mesh_dev_capabilities"><span class="n"><span class="pre">bt_mesh_dev_capabilities</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cap</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.capabilities" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provisioning Capabilities. </p>
<p>This callback notifies the application that the provisioning capabilities of the unprovisioned device has been received.</p>
<p>The application can consequently call bt_mesh_auth_method_set_&lt;*&gt; to select suitable provisioning oob authentication method.</p>
<p>When this callback returns, the provisioner will start authentication with the chosen method.</p>
<dl class="field-list simple">
<dt class="field-odd">Param cap</dt>
<dd class="field-odd"><p>capabilities supported by device. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.output_number">
<span class="target" id="structbt__mesh__prov_1af5c30f061ba8b0a713a3d54068dd68cc"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">output_number</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#c.bt_mesh_output_action_t" title="bt_mesh_output_action_t"><span class="n"><span class="pre">bt_mesh_output_action_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">act</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">num</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.output_number" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Output of a number is requested. </p>
<p>This callback notifies the application that it should output the given number using the given action.</p>
<dl class="field-list simple">
<dt class="field-odd">Param act</dt>
<dd class="field-odd"><p>Action for outputting the number. </p>
</dd>
<dt class="field-even">Param num</dt>
<dd class="field-even"><p>Number to be outputted.</p>
</dd>
<dt class="field-odd">Return</dt>
<dd class="field-odd"><p>Zero on success or negative error code otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.output_string">
<span class="target" id="structbt__mesh__prov_1a28284efee6478637446702d7839f6b8c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">output_string</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.output_string" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Output of a string is requested. </p>
<p>This callback notifies the application that it should display the given string to the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Param str</dt>
<dd class="field-odd"><p>String to be displayed.</p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p>Zero on success or negative error code otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.input">
<span class="target" id="structbt__mesh__prov_1a31eff9c903ac721bbca7ab586dda9e80"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">input</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#c.bt_mesh_input_action_t" title="bt_mesh_input_action_t"><span class="n"><span class="pre">bt_mesh_input_action_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">act</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.input" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Input is requested. </p>
<p>This callback notifies the application that it should request input from the user using the given action. The requested input will either be a string or a number, and the application needs to consequently call the <a class="reference internal" href="#group__bt__mesh__prov_1ga2592abf429b40ef9242bce26f5bd085e"><span class="std std-ref">bt_mesh_input_string()</span></a> or <a class="reference internal" href="#group__bt__mesh__prov_1gace8cbf2a6e9144d3118054f234de02ef"><span class="std std-ref">bt_mesh_input_number()</span></a> functions once the data has been acquired from the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Param act</dt>
<dd class="field-odd"><p>Action for inputting data. </p>
</dd>
<dt class="field-even">Param num</dt>
<dd class="field-even"><p>Maximum size of the inputted data.</p>
</dd>
<dt class="field-odd">Return</dt>
<dd class="field-odd"><p>Zero on success or negative error code otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.input_complete">
<span class="target" id="structbt__mesh__prov_1a2717ddf38465b95452724078f780f9e5"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">input_complete</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.input_complete" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The other device finished their OOB input. </p>
<p>This callback notifies the application that it should stop displaying its output OOB value, as the other party finished their OOB input. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.unprovisioned_beacon">
<span class="target" id="structbt__mesh__prov_1a8142a3b8120b1686f68513caeac09497"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">unprovisioned_beacon</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">uuid</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">16</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_prov_oob_info_t" title="bt_mesh_prov_oob_info_t"><span class="n"><span class="pre">bt_mesh_prov_oob_info_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">oob_info</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">uri_hash</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.unprovisioned_beacon" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Unprovisioned beacon has been received. </p>
<p>This callback notifies the application that an unprovisioned beacon has been received.</p>
<dl class="field-list simple">
<dt class="field-odd">Param uuid</dt>
<dd class="field-odd"><p>UUID </p>
</dd>
<dt class="field-even">Param oob_info</dt>
<dd class="field-even"><p>OOB Information </p>
</dd>
<dt class="field-odd">Param uri_hash</dt>
<dd class="field-odd"><p>Pointer to URI Hash value. NULL if no hash was present in the beacon. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.unprovisioned_beacon_gatt">
<span class="target" id="structbt__mesh__prov_1a7eddf1f088264f8b6e3fb86dce4c108e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">unprovisioned_beacon_gatt</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">uuid</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">16</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_prov_oob_info_t" title="bt_mesh_prov_oob_info_t"><span class="n"><span class="pre">bt_mesh_prov_oob_info_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">oob_info</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.unprovisioned_beacon_gatt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>PB-GATT Unprovisioned Advertising has been received. </p>
<p>This callback notifies the application that an PB-GATT unprovisioned Advertising has been received.</p>
<dl class="field-list simple">
<dt class="field-odd">Param uuid</dt>
<dd class="field-odd"><p>UUID </p>
</dd>
<dt class="field-even">Param oob_info</dt>
<dd class="field-even"><p>OOB Information </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.link_open">
<span class="target" id="structbt__mesh__prov_1a44efea3e9221c182cbcacce8219ef6b7"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">link_open</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#c.bt_mesh_prov_bearer_t" title="bt_mesh_prov_bearer_t"><span class="n"><span class="pre">bt_mesh_prov_bearer_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">bearer</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.link_open" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provisioning link has been opened. </p>
<p>This callback notifies the application that a provisioning link has been opened on the given provisioning bearer.</p>
<dl class="field-list simple">
<dt class="field-odd">Param bearer</dt>
<dd class="field-odd"><p>Provisioning bearer. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.link_close">
<span class="target" id="structbt__mesh__prov_1a0183cef77dda3978ef8a40ce7aad043a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">link_close</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#c.bt_mesh_prov_bearer_t" title="bt_mesh_prov_bearer_t"><span class="n"><span class="pre">bt_mesh_prov_bearer_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">bearer</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.link_close" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provisioning link has been closed. </p>
<p>This callback notifies the application that a provisioning link has been closed on the given provisioning bearer.</p>
<dl class="field-list simple">
<dt class="field-odd">Param bearer</dt>
<dd class="field-odd"><p>Provisioning bearer. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.complete">
<span class="target" id="structbt__mesh__prov_1ad55abc2b1632455bb23fbd8b03df85ea"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">complete</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">net_idx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.complete" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Provisioning is complete. </p>
<p>This callback notifies the application that provisioning has been successfully completed, and that the local node has been assigned the specified NetKeyIndex and primary element address.</p>
<dl class="field-list simple">
<dt class="field-odd">Param net_idx</dt>
<dd class="field-odd"><p>NetKeyIndex given during provisioning. </p>
</dd>
<dt class="field-even">Param addr</dt>
<dd class="field-even"><p>Primary element address. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.node_added">
<span class="target" id="structbt__mesh__prov_1aaa49675e358ea4cba7552b3e855befba"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">node_added</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">net_idx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">uuid</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">16</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">num_elem</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.node_added" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A new node has been added to the provisioning database. </p>
<p>This callback notifies the application that provisioning has been successfully completed, and that a node has been assigned the specified NetKeyIndex and primary element address.</p>
<dl class="field-list simple">
<dt class="field-odd">Param net_idx</dt>
<dd class="field-odd"><p>NetKeyIndex given during provisioning. </p>
</dd>
<dt class="field-even">Param uuid</dt>
<dd class="field-even"><p>UUID of the added node </p>
</dd>
<dt class="field-odd">Param addr</dt>
<dd class="field-odd"><p>Primary element address. </p>
</dd>
<dt class="field-even">Param num_elem</dt>
<dd class="field-even"><p>Number of elements that this node has. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_prov.reset">
<span class="target" id="structbt__mesh__prov_1ae87570de25c89e74bece2516ff957779"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">reset</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_prov.reset" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Node has been reset. </p>
<p>This callback notifies the application that the local node has been reset and needs to be reprovisioned. The node will not automatically advertise as unprovisioned, rather the <a class="reference internal" href="#group__bt__mesh__prov_1ga6c8dc1b09d4cde8738be83c992b860a9"><span class="std std-ref">bt_mesh_prov_enable()</span></a> API needs to be called to enable unprovisioned advertising on one or more provisioning bearers. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../../copyright.html">Copyright</a> 2015-2022 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Mar 05, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>