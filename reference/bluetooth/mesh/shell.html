<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bluetooth Mesh Shell &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script type="module" src="../../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="Serial Port Emulation (RFCOMM)" href="../rfcomm.html" />
    <link rel="prev" title="Runtime Configuration" href="cfg.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html">
            <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.99
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/3.0.0/">3.0.0</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Bluetooth</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../connection_mgmt.html">Connection Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../controller.html">Bluetooth Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crypto.html">Cryptography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_buffer.html">Data Buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gap.html">Generic Access Profile (GAP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gatt.html">Generic Attribute Profile (GATT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hci_drivers.html">HCI Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hci_raw.html">HCI RAW channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hfp.html">Hands Free Profile (HFP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../l2cap.html">Logical Link Control and Adaptation Protocol (L2CAP)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../mesh.html">Bluetooth Mesh Profile</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l4"><a class="reference internal" href="access.html">Access layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="models.html">Foundation models</a></li>
<li class="toctree-l4"><a class="reference internal" href="msg.html">Message</a></li>
<li class="toctree-l4"><a class="reference internal" href="provisioning.html">Provisioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="proxy.html">Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="heartbeat.html">Heartbeat</a></li>
<li class="toctree-l4"><a class="reference internal" href="cfg.html">Runtime Configuration</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Bluetooth Mesh Shell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rfcomm.html">Serial Port Emulation (RFCOMM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sdp.html">Service Discovery Protocol (SDP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uuid.html">Universal Unique Identifiers (UUIDs)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/audio.html">Bluetooth: Basic Audio Profile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../libc/index.html">C standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modbus/index.html">Modbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../peripherals/index.html">Peripherals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/index.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usermode/index.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../util/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/kconfig.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../../index.html">API Reference</a> &raquo;</li>
  
     <li><a href="../index.html">Bluetooth</a> &raquo;</li>
  
     <li><a href="../mesh.html">Bluetooth Mesh Profile</a> &raquo;</li>
  
  <li>Bluetooth Mesh Shell</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/bluetooth/mesh/shell.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="bluetooth-mesh-shell">
<span id="id1"></span><h1>Bluetooth Mesh Shell<a class="headerlink" href="#bluetooth-mesh-shell" title="Permalink to this headline">¶</a></h1>
<p>The Bluetooth mesh shell subsystem provides a set of Bluetooth mesh shell commands for the <a class="reference internal" href="../../shell/index.html#shell-api"><span class="std std-ref">Shell</span></a> module.
It allows for testing and exploring the Bluetooth mesh API through an interactive interface, without having to write an application.</p>
<p>The Bluetooth mesh shell interface provides access to most Bluetooth mesh features, including provisioning, configuration, and message sending.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The Bluetooth mesh shell subsystem depends on the application to create the composition data and do the mesh initialization.</p>
</div>
<div class="section" id="application">
<h2>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<p>The Bluetooth mesh shell subsystem is most easily used through the Bluetooth mesh shell application under <code class="docutils literal notranslate"><span class="pre">tests/bluetooth/mesh_shell</span></code>.
See <a class="reference internal" href="../../shell/index.html#shell-api"><span class="std std-ref">Shell</span></a> for information on how to connect and interact with the Bluetooth mesh shell application.</p>
</div>
<div class="section" id="basic-usage">
<h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>The Bluetooth mesh shell subsystem adds a single <code class="docutils literal notranslate"><span class="pre">mesh</span></code> command, which holds a set of sub-commands. Every time the device boots up, make sure to call <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">init</span></code> before any of the other Bluetooth mesh shell commands can be called:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>uart:~$ mesh init
</pre></div>
</div>
<div class="section" id="provisioning">
<h3>Provisioning<a class="headerlink" href="#provisioning" title="Permalink to this headline">¶</a></h3>
<p>The mesh node must be provisioned to become part of the network. This is only necessary the first time the device boots up, as the device will remember its provisioning data between reboots.</p>
<p>The simplest way to provision the device is through self-provisioning. To provision the device with the default network key and address <code class="docutils literal notranslate"><span class="pre">0x0001</span></code>, execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>uart:~$ mesh provision 0 0x0001
</pre></div>
</div>
<p>Since all mesh nodes use the same values for the default network key, this can be done on multiple devices, as long as they’re assigned non-overlapping unicast addresses. Alternatively, to provision the device into an existing network, the unprovisioned beacon can be enabled with <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">pb-adv</span> <span class="pre">on</span></code> or <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">pb-gatt</span> <span class="pre">on</span></code>. The beacons can be picked up by an external provisioner, which can provision the node into its network.</p>
<p>Once the mesh node is part of a network, its transmission parameters can be controlled by the general configuration commands:</p>
<ul class="simple">
<li><p>To set the destination address, call <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">dst</span> <span class="pre">&lt;addr&gt;</span></code>.</p></li>
<li><p>To set the network key index, call <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">netidx</span> <span class="pre">&lt;NetIdx&gt;</span></code>.</p></li>
<li><p>To set the application key index, call <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">appidx</span> <span class="pre">&lt;AppIdx&gt;</span></code>.</p></li>
</ul>
<p>By default, the transmission parameters are set to send messages to the provisioned address and network key.</p>
</div>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>By setting the destination address to the local unicast address (<code class="docutils literal notranslate"><span class="pre">0x0001</span></code> in the <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">provision</span></code> command above), we can perform self-configuration through any of the <a class="reference internal" href="#bluetooth-mesh-shell-cfg-cli"><span class="std std-ref">Configuration Client model</span></a> commands.</p>
<p>A good first step is to read out the node’s own composition data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>uart:~$ mesh get-comp
</pre></div>
</div>
<p>This prints a list of the composition data of the node, including a list of its model IDs.</p>
<p>Next, since the device has no application keys by default, it’s a good idea to add one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>uart:~$ mesh app-key-add 0 0
</pre></div>
</div>
</div>
<div class="section" id="message-sending">
<h3>Message sending<a class="headerlink" href="#message-sending" title="Permalink to this headline">¶</a></h3>
<p>With an application key added (see above), the mesh node’s transition parameters are all valid, and the Bluetooth mesh shell can send raw mesh messages through the network.</p>
<p>For example, to send a Generic OnOff Set message, call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>uart:~$ mesh net-send 82020100
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All multibyte fields model messages are in little endian, except the opcode.</p>
</div>
<p>The message will be sent to the current destination address, using the current network and application key indexes. As the destination address points to the local unicast address by default, the device will only send packets to itself. To change the destination address to the All Nodes broadcast address, call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>uart:~$ mesh dst 0xffff
</pre></div>
</div>
<p>With the destination address set to <code class="docutils literal notranslate"><span class="pre">0xffff</span></code>, any other mesh nodes in the network with the configured network and application keys will receive and process the messages we send.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To change the configuration of the device, the destination address must be set back to the local unicast address before issuing any configuration commands.</p>
</div>
<p>Sending raw mesh packets is a good way to test model message handler implementations during development, as it can be done without having to implement the sending model. By default, only the reception of the model messages can be tested this way, as the Bluetooth mesh shell only includes the foundation models. To receive a packet in the mesh node, you have to add a model with a valid opcode handler list to the composition data in <code class="docutils literal notranslate"><span class="pre">subsys/bluetooth/mesh/shell.c</span></code>, and print the incoming message to the shell in the handler callback.</p>
</div>
</div>
<div class="section" id="parameter-formats">
<h2>Parameter formats<a class="headerlink" href="#parameter-formats" title="Permalink to this headline">¶</a></h2>
<p>The Bluetooth mesh shell commands are parsed with a variety of formats:</p>
<table class="colwidths-given docutils align-default" id="id3">
<caption><span class="caption-number">Table 7 </span><span class="caption-text">Parameter formats</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 57%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Integers</p></td>
<td><p>The default format unless something else is specified. Can be either decimal or hexadecimal.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1234</span></code>, <code class="docutils literal notranslate"><span class="pre">0xabcd01234</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Hexstrings</p></td>
<td><p>For raw byte arrays, like UUIDs, key values and message payloads, the parameters should be formatted as an unbroken string of hexadecimal values without any prefix.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">deadbeef01234</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Booleans</p></td>
<td><p>Boolean values are denoted in the API documentation as <code class="docutils literal notranslate"><span class="pre">&lt;val:</span> <span class="pre">on,</span> <span class="pre">off&gt;</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">on</span></code>, <code class="docutils literal notranslate"><span class="pre">off</span></code>, <code class="docutils literal notranslate"><span class="pre">enabled</span></code>, <code class="docutils literal notranslate"><span class="pre">disabled</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<p>The Bluetooth mesh shell implements a large set of commands. Some of the commands accept parameters, which are mentioned in brackets after the command name. For example, <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">lpn</span> <span class="pre">&lt;value:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span></code>. Mandatory parameters are marked with angle brackets (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;NetKeyIndex&gt;</span></code>), and optional parameters are marked with square brackets (e.g. <code class="docutils literal notranslate"><span class="pre">[destination</span> <span class="pre">address]</span></code>).</p>
<p>The Bluetooth mesh shell commands are divided into the following groups:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#general-configuration" id="id4">General configuration</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id5">Testing</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id6">Provisioning</a></p></li>
<li><p><a class="reference internal" href="#proxy-client" id="id7">Proxy Client</a></p></li>
<li><p><a class="reference internal" href="#configuration-client-model" id="id8">Configuration Client model</a></p></li>
<li><p><a class="reference internal" href="#health-client-model" id="id9">Health Client model</a></p></li>
<li><p><a class="reference internal" href="#health-server-model" id="id10">Health Server model</a></p></li>
<li><p><a class="reference internal" href="#configuration-database" id="id11">Configuration database</a></p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some commands depend on specific features being enabled in the compile time configuration of the application. Not all features are enabled by default. The list of available Bluetooth mesh shell commands can be shown in the shell by calling <code class="docutils literal notranslate"><span class="pre">mesh</span></code> without any arguments.</p>
</div>
<div class="section" id="general-configuration">
<h3><a class="toc-backref" href="#id4">General configuration</a><a class="headerlink" href="#general-configuration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="mesh-init">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">init</span></code><a class="headerlink" href="#mesh-init" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Initialize the mesh shell. This command must be run before any other mesh command.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-reset-addr">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">reset</span> <span class="pre">&lt;addr&gt;</span></code><a class="headerlink" href="#mesh-reset-addr" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>reset the local mesh node to its initial unprovisioned state or reset a remote node and remove it from the network.
* <code class="docutils literal notranslate"><span class="pre">addr</span></code>: address of the node to reset.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-lpn-value-off-on">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">lpn</span> <span class="pre">&lt;value:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span></code><a class="headerlink" href="#mesh-lpn-value-off-on" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Enable or disable Low Power operation. Once enabled, the device will turn off its radio and start polling for friend nodes. The device will not be able to receive messages from the mesh network until the friendship has been established.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code>: Sets whether Low Power operation is enabled.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-poll">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">poll</span></code><a class="headerlink" href="#mesh-poll" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Perform a poll to the friend node, to receive any pending messages. Only available when LPN is enabled.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-ident">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">ident</span></code><a class="headerlink" href="#mesh-ident" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Enable the Proxy Node Identity beacon, allowing Proxy devices to connect explicitly to this device. The beacon will run for 60 seconds before the node returns to normal Proxy beacons.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-dst-destination-address">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">dst</span> <span class="pre">[destination</span> <span class="pre">address]</span></code><a class="headerlink" href="#mesh-dst-destination-address" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the message destination address. The destination address determines where mesh packets are sent with the shell, but has no effect on modules outside the shell’s control.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">destination</span> <span class="pre">address</span></code>: If present, sets the new 16-bit mesh destination address. If omitted, the current destination address is printed.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-netidx-netidx">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">netidx</span> <span class="pre">[NetIdx]</span></code><a class="headerlink" href="#mesh-netidx-netidx" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the message network index. The network index determines which network key is used to encrypt mesh packets that are sent with the shell, but has no effect on modules outside the shell’s control. The network key must already be added to the device, either through provisioning or by a Configuration Client.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetIdx</span></code>: If present, sets the new network index. If omitted, the current network index is printed.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-appidx-appidx">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">appidx</span> <span class="pre">[AppIdx]</span></code><a class="headerlink" href="#mesh-appidx-appidx" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the message application index. The application index determines which application key is used to encrypt mesh packets that are sent with the shell, but has no effect on modules outside the shell’s control. The application key must already be added to the device by a Configuration Client, and must be bound to the current network index.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AppIdx</span></code>: If present, sets the new application index. If omitted, the current application index is printed.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-net-send-hex-string">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">net-send</span> <span class="pre">&lt;hex</span> <span class="pre">string&gt;</span></code><a class="headerlink" href="#mesh-net-send-hex-string" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Send a raw mesh message with the current destination address, network and application index. The message opcode must be encoded manually.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hex</span> <span class="pre">string</span></code> Raw hexadecimal representation of the message to send.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="testing">
<h3><a class="toc-backref" href="#id5">Testing</a><a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<div class="section" id="mesh-iv-update">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">iv-update</span></code><a class="headerlink" href="#mesh-iv-update" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Force an IV update.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-iv-update-test-value-off-on">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">iv-update-test</span> <span class="pre">&lt;value:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span></code><a class="headerlink" href="#mesh-iv-update-test-value-off-on" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Set the IV update test mode. In test mode, the IV update timing requirements are bypassed.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code>: Enable or disable the IV update test mode.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-rpl-clear">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">rpl-clear</span></code><a class="headerlink" href="#mesh-rpl-clear" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Clear the replay protection list, forcing the node to forget all received messages.</p>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Clearing the replay protection list breaks the security mechanisms of the mesh node, making it susceptible to message replay attacks. This should never be performed in a real deployment.</p>
</div>
</div>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id6">Provisioning</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="mesh-pb-gatt-val-off-on">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">pb-gatt</span> <span class="pre">&lt;val:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span></code><a class="headerlink" href="#mesh-pb-gatt-val-off-on" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Start or stop advertising a connectable unprovisioned beacon. The connectable unprovisioned beacon allows the mesh node to be discovered by nearby GATT based provisioners, and provisioned through the GATT bearer.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: Enable or disable provisioning with GATT</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-pb-adv-val-off-on">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">pb-adv</span> <span class="pre">&lt;val:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span></code><a class="headerlink" href="#mesh-pb-adv-val-off-on" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Start or stop advertising the unprovisioned beacon. The unprovisioned beacon allows the mesh node to be discovered by nearby advertising-based provisioners, and provisioned through the advertising bearer.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: Enable or disable provisioning with advertiser</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-provision-adv-uuid-netkeyindex-addr-attentionduration">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">provision-adv</span> <span class="pre">&lt;UUID&gt;</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">&lt;addr&gt;</span> <span class="pre">&lt;AttentionDuration&gt;</span></code><a class="headerlink" href="#mesh-provision-adv-uuid-netkeyindex-addr-attentionduration" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Provision a nearby device into the mesh. The mesh node starts scanning for unprovisioned beacons with the given UUID. Once found, the unprovisioned device will be added to the mesh network with the given unicast address, and given the network key indicated by <code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UUID</span></code>: UUID of the unprovisioned device.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: Index of the network key to pass to the device.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code>: First unicast address to assign to the unprovisioned device. The device will occupy as many addresses as it has elements, and all must be available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AttentionDuration</span></code>: The duration in seconds the unprovisioned device will identify itself for, if supported. See <a class="reference internal" href="health_srv.html#bluetooth-mesh-models-health-srv-attention"><span class="std std-ref">Attention state</span></a> for details.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-provision-gatt-uuid-netkeyindex-addr-attentionduration">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">provision-gatt</span> <span class="pre">&lt;UUID&gt;</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">&lt;addr&gt;</span> <span class="pre">&lt;AttentionDuration&gt;</span></code><a class="headerlink" href="#mesh-provision-gatt-uuid-netkeyindex-addr-attentionduration" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Provision a nearby device into the mesh. The mesh node starts scanning for connectable advertising for PB-GATT with the given UUID. Once found, the unprovisioned device will be added to the mesh network with the given unicast address, and given the network key indicated by <code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UUID</span></code>: UUID of the unprovisioned device.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: Index of the network key to pass to the device.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code>: First unicast address to assign to the unprovisioned device. The device will occupy as many addresses as it has elements, and all must be available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AttentionDuration</span></code>: The duration in seconds the unprovisioned device will identify itself for, if supported. See <a class="reference internal" href="health_srv.html#bluetooth-mesh-models-health-srv-attention"><span class="std std-ref">Attention state</span></a> for details.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-uuid-uuid-1-16-hex-values">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">uuid</span> <span class="pre">&lt;UUID:</span> <span class="pre">1-16</span> <span class="pre">hex</span> <span class="pre">values&gt;</span></code><a class="headerlink" href="#mesh-uuid-uuid-1-16-hex-values" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Set the mesh node’s UUID, used in the unprovisioned beacons.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UUID</span></code>: New 128-bit UUID value. Any missing bytes will be zero.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-input-num-number">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">input-num</span> <span class="pre">&lt;number&gt;</span></code><a class="headerlink" href="#mesh-input-num-number" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Input a numeric OOB authentication value. Only valid when prompted by the shell during provisioning. The input number must match the number presented by the other participant in the provisioning.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">number</span></code>: Decimal authentication number.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-input-str-string">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">input-str</span> <span class="pre">&lt;string&gt;</span></code><a class="headerlink" href="#mesh-input-str-string" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Input an alphanumeric OOB authentication value. Only valid when prompted by the shell during provisioning. The input string must match the string presented by the other participant in the provisioning.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code>: Unquoted alphanumeric authentication string.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-static-oob-val-1-16-hex-values">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">static-oob</span> <span class="pre">[val:</span> <span class="pre">1-16</span> <span class="pre">hex</span> <span class="pre">values]</span></code><a class="headerlink" href="#mesh-static-oob-val-1-16-hex-values" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Set or clear the static OOB authentication value. The static OOB authentication value must be set before provisioning starts to have any effect. The static OOB value must be same on both participants in the provisioning.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, indicates the new hexadecimal value of the static OOB. If omitted, the static OOB value is cleared.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-provision-netkeyindex-addr-ivindex">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">provision</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">&lt;addr&gt;</span> <span class="pre">[IVIndex]</span></code><a class="headerlink" href="#mesh-provision-netkeyindex-addr-ivindex" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Provision the mesh node itself. If the Configuration database is enabled, the network key must be created. Otherwise, the default key value is used.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: Index of the network key to provision.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code>: First unicast address to assign to the device. The device will occupy as many addresses as it has elements, and all must be available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IVindex</span></code>: Indicates the current network IV index. Defaults to 0 if omitted.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-beacon-listen-val-off-on">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">beacon-listen</span> <span class="pre">&lt;val:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span></code><a class="headerlink" href="#mesh-beacon-listen-val-off-on" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Enable or disable printing of incoming unprovisioned beacons. Allows a provisioner device to detect nearby unprovisioned devices and provision them.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: Whether to enable the unprovisioned beacon printing.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="proxy-client">
<h3><a class="toc-backref" href="#id7">Proxy Client</a><a class="headerlink" href="#proxy-client" title="Permalink to this headline">¶</a></h3>
<p>The Proxy Client model is an optional mesh subsystem that can be enabled through the <a class="reference internal" href="../../../kconfig.html#CONFIG_BT_MESH_PROXY_CLIENT" title="CONFIG_BT_MESH_PROXY_CLIENT"><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_MESH_PROXY_CLIENT</span></code></a> configuration option.</p>
<div class="section" id="mesh-proxy-connect-netkeyindex">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">proxy-connect</span> <span class="pre">&lt;NetKeyIndex&gt;</span></code><a class="headerlink" href="#mesh-proxy-connect-netkeyindex" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Auto-Connect a nearby proxy server into the mesh.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: Index of the network key to conenct.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-proxy-disconnect-netkeyindex">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">proxy-disconnect</span> <span class="pre">&lt;NetKeyIndex&gt;</span></code><a class="headerlink" href="#mesh-proxy-disconnect-netkeyindex" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Disconnect the existing proxy connection.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: Index of the network key to disconnect.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="configuration-client-model">
<span id="bluetooth-mesh-shell-cfg-cli"></span><h3><a class="toc-backref" href="#id8">Configuration Client model</a><a class="headerlink" href="#configuration-client-model" title="Permalink to this headline">¶</a></h3>
<p>The Configuration Client model is an optional mesh subsystem that can be enabled through the <a class="reference internal" href="../../../kconfig.html#CONFIG_BT_MESH_CFG_CLI" title="CONFIG_BT_MESH_CFG_CLI"><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_MESH_CFG_CLI</span></code></a> configuration option. If included, the Bluetooth mesh shell module instantiates a Configuration Client model for configuring itself and other nodes in the mesh network.</p>
<p>The Configuration Client uses the general messages parameters set by <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">netidx</span></code> to target specific nodes. When the Bluetooth mesh shell node is provisioned, the Configuration Client model targets itself by default. When another node has been provisioned by the Bluetooth mesh shell, the Configuration Client model targets the new node. The Configuration Client always sends messages using the Device key bound to the destination address, so it will only be able to configure itself and mesh nodes it provisioned.</p>
<div class="section" id="mesh-timeout-timeout-in-seconds">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">timeout</span> <span class="pre">[timeout</span> <span class="pre">in</span> <span class="pre">seconds]</span></code><a class="headerlink" href="#mesh-timeout-timeout-in-seconds" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get and set the Config Client model timeout used during message sending.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timeout</span> <span class="pre">in</span> <span class="pre">seconds</span></code>: If present, set the Config Client model timeout in seconds. If omitted, the current timeout is printed.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-get-comp-page">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">get-comp</span> <span class="pre">[page]</span></code><a class="headerlink" href="#mesh-get-comp-page" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Read a composition data page. The full composition data page will be printed. If the target does not have the given page, it will return the last page before it.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">page</span></code>: The composition data page to request. Defaults to 0 if omitted.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-beacon-val-off-on">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">beacon</span> <span class="pre">[val:</span> <span class="pre">off,</span> <span class="pre">on]</span></code><a class="headerlink" href="#mesh-beacon-val-off-on" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the network beacon transmission.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, enables or disables sending of the network beacon. If omitted, the current network beacon state is printed.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-ttl-ttl-0x00-0x02-0x7f">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">ttl</span> <span class="pre">[ttl:</span> <span class="pre">0x00,</span> <span class="pre">0x02-0x7f]</span></code><a class="headerlink" href="#mesh-ttl-ttl-0x00-0x02-0x7f" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the default TTL value.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ttl</span></code>: If present, sets the new default TTL value. If omitted, the current default TTL value is printed.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-friend-val-off-on">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">friend</span> <span class="pre">[val:</span> <span class="pre">off,</span> <span class="pre">on]</span></code><a class="headerlink" href="#mesh-friend-val-off-on" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the Friend feature.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, enables or disables the Friend feature. If omitted, the current Friend feature state is printed:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0x00</span></code>: The feature is supported, but disabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x01</span></code>: The feature is enabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x02</span></code>: The feature is not supported.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-gatt-proxy-val-off-on">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">gatt-proxy</span> <span class="pre">[val:</span> <span class="pre">off,</span> <span class="pre">on]</span></code><a class="headerlink" href="#mesh-gatt-proxy-val-off-on" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the GATT Proxy feature.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, enables or disables the GATT Proxy feature. If omitted, the current GATT Proxy feature state is printed:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0x00</span></code>: The feature is supported, but disabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x01</span></code>: The feature is enabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x02</span></code>: The feature is not supported.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-relay-val-off-on-count-0-7-interval-10-320">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">relay</span> <span class="pre">[&lt;val:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span> <span class="pre">[&lt;count:</span> <span class="pre">0-7&gt;</span> <span class="pre">[interval:</span> <span class="pre">10-320]]]</span></code><a class="headerlink" href="#mesh-relay-val-off-on-count-0-7-interval-10-320" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the Relay feature and its parameters.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, enables or disables the Relay feature. If omitted, the current Relay feature state is printed:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0x00</span></code>: The feature is supported, but disabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x01</span></code>: The feature is enabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x02</span></code>: The feature is not supported.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code>: Sets the new relay retransmit count if <code class="docutils literal notranslate"><span class="pre">val</span></code> is <code class="docutils literal notranslate"><span class="pre">on</span></code>. Ignored if <code class="docutils literal notranslate"><span class="pre">val</span></code> is <code class="docutils literal notranslate"><span class="pre">off</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code> if omitted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">interval</span></code>: Sets the new relay retransmit interval in milliseconds if <code class="docutils literal notranslate"><span class="pre">val</span></code> is <code class="docutils literal notranslate"><span class="pre">on</span></code>. Ignored if <code class="docutils literal notranslate"><span class="pre">val</span></code> is <code class="docutils literal notranslate"><span class="pre">off</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">20</span></code> if omitted.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-node-id-netkeyindex-identity">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">node-id</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">[Identity]</span></code><a class="headerlink" href="#mesh-node-id-netkeyindex-identity" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or Set of current Node Identity state of a subnet.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: The network key index to Get/Set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Identity</span></code>: If present, sets the identity of Node Identity state.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-polltimeout-get-lpn-address">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">polltimeout-get</span> <span class="pre">&lt;LPN</span> <span class="pre">Address&gt;</span></code><a class="headerlink" href="#mesh-polltimeout-get-lpn-address" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get current value of the PollTimeout timer of the LPN within a Friend node.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code> Address of Low Power node.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-net-transmit-param-count-0-7-interval-10-320">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">net-transmit-param</span> <span class="pre">[&lt;count:</span> <span class="pre">0-7&gt;</span> <span class="pre">&lt;interval:</span> <span class="pre">10-320&gt;]</span></code><a class="headerlink" href="#mesh-net-transmit-param-count-0-7-interval-10-320" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the network transmit parameters.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code>: Sets the number of additional network transmits for every sent message.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">interval</span></code>: Sets the new network retransmit interval in milliseconds.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-net-key-add-netkeyindex-val">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">net-key-add</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">[val]</span></code><a class="headerlink" href="#mesh-net-key-add-netkeyindex-val" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Add a network key to the target node. Adds the key to the Configuration Database if enabled.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: The network key index to add.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, sets the key value as a 128-bit hexadecimal value. Any missing bytes will be zero. Only valid if the key does not already exist in the Configuration Database. If omitted, the default key value is used.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-net-key-upd-netkeyindex-val">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">net-key-upd</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">[val]</span></code><a class="headerlink" href="#mesh-net-key-upd-netkeyindex-val" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Update a network key to the target node.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: The network key index to updated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, sets the key value as a 128-bit hexadecimal value. Any missing bytes will be zero. If omitted, the default key value is used.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-net-key-get">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">net-key-get</span></code><a class="headerlink" href="#mesh-net-key-get" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get a list of known network key indexes.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-net-key-del-netkeyindex">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">net-key-del</span> <span class="pre">&lt;NetKeyIndex&gt;</span></code><a class="headerlink" href="#mesh-net-key-del-netkeyindex" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Delete a network key from the target node.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: The network key index to delete.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-app-key-add-netkeyindex-appkeyindex-val">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">app-key-add</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">&lt;AppKeyIndex&gt;</span> <span class="pre">[val]</span></code><a class="headerlink" href="#mesh-app-key-add-netkeyindex-appkeyindex-val" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Add an application key to the target node. Adds the key to the Configuration Database if enabled.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: The network key index the application key is bound to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppKeyIndex</span></code>: The application key index to add.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, sets the key value as a 128-bit hexadecimal value. Any missing bytes will be zero. Only valid if the key does not already exist in the Configuration Database. If omitted, the default key value is used.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-app-key-upd-netkeyindex-appkeyindex-val">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">app-key-upd</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">&lt;AppKeyIndex&gt;</span> <span class="pre">[val]</span></code><a class="headerlink" href="#mesh-app-key-upd-netkeyindex-appkeyindex-val" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Update an application key to the target node.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: The network key index the application key is bound to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppKeyIndex</span></code>: The application key index to update.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code>: If present, sets the key value as a 128-bit hexadecimal value. Any missing bytes will be zero. If omitted, the default key value is used.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-app-key-get-netkeyindex">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">app-key-get</span> <span class="pre">&lt;NetKeyIndex&gt;</span></code><a class="headerlink" href="#mesh-app-key-get-netkeyindex" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get a list of known application key indexes bound to the given network key index.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: Network key indexes to get a list of application key indexes from.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-app-key-del-netkeyindex-appkeyindex">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">app-key-del</span> <span class="pre">&lt;NetKeyIndex&gt;</span> <span class="pre">&lt;AppKeyIndex&gt;</span></code><a class="headerlink" href="#mesh-app-key-del-netkeyindex-appkeyindex" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Delete an application key from the target node.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: The network key index the application key is bound to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppKeyIndex</span></code>: The application key index to delete.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-app-bind-addr-appindex-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-app-bind</span> <span class="pre">&lt;addr&gt;</span> <span class="pre">&lt;AppIndex&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-app-bind-addr-appindex-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Bind an application key to a model. Models can only encrypt and decrypt messages sent with application keys they are bound to.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppIndex</span></code>: The application key to bind to the model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to bind the key to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-app-unbind-addr-appindex-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-app-unbind</span> <span class="pre">&lt;addr&gt;</span> <span class="pre">&lt;AppIndex&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-app-unbind-addr-appindex-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Unbind an application key from a model.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppIndex</span></code>: The application key to unbind from the model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to unbind the key from.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-app-get-elem-addr-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-app-get</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-app-get-elem-addr-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get a list of application keys bound to a model.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to get the bound keys of.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-pub-addr-mod-id-cid-pubaddr-appkeyindex-cred-off-on-ttl-period-count-interval">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-pub</span> <span class="pre">&lt;addr&gt;</span> <span class="pre">&lt;mod</span> <span class="pre">id&gt;</span> <span class="pre">[cid]</span> <span class="pre">[&lt;PubAddr&gt;</span> <span class="pre">&lt;AppKeyIndex&gt;</span> <span class="pre">&lt;cred:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span> <span class="pre">&lt;ttl&gt;</span> <span class="pre">&lt;period&gt;</span> <span class="pre">&lt;count&gt;</span> <span class="pre">&lt;interval&gt;]</span></code><a class="headerlink" href="#mesh-mod-pub-addr-mod-id-cid-pubaddr-appkeyindex-cred-off-on-ttl-period-count-interval" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the publication parameters of a model. If all publication parameters are included, they become the new publication parameters of the model. If all publication parameters are omitted, print the current publication parameters of the model.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to get the bound keys of.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cid</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
<p>Publication parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PubAddr</span></code>: The destination address to publish to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppKeyIndex</span></code>: The application key index to publish with.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cred</span></code>: Whether to publish with Friendship credentials when acting as a Low Power Node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ttl</span></code>: TTL value to publish with (<code class="docutils literal notranslate"><span class="pre">0x00</span></code> to <code class="docutils literal notranslate"><span class="pre">0x07f</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period</span></code>: Encoded publication period, or 0 to disable periodic publication.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code>: Number of retransmission for each published message (<code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">7</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">interval</span></code> The interval between each retransmission, in milliseconds. Must be a multiple of 50.</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-pub-va-addr-uuid-appkeyindex-cred-off-on-ttl-period-count-interval-mod-id-cid">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-pub-va</span> <span class="pre">&lt;addr&gt;</span> <span class="pre">&lt;UUID&gt;</span> <span class="pre">&lt;AppKeyIndex&gt;</span> <span class="pre">&lt;cred:</span> <span class="pre">off,</span> <span class="pre">on&gt;</span> <span class="pre">&lt;ttl&gt;</span> <span class="pre">&lt;period&gt;</span> <span class="pre">&lt;count&gt;</span> <span class="pre">&lt;interval&gt;</span> <span class="pre">&lt;mod</span> <span class="pre">id&gt;</span> <span class="pre">[cid]</span></code><a class="headerlink" href="#mesh-mod-pub-va-addr-uuid-appkeyindex-cred-off-on-ttl-period-count-interval-mod-id-cid" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Set the publication parameters of a model.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to get the bound keys of.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cid</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
<p>Publication parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UUID</span></code>: The destination virtual address to publish to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppKeyIndex</span></code>: The application key index to publish with.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cred</span></code>: Whether to publish with Friendship credentials when acting as a Low Power Node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ttl</span></code>: TTL value to publish with (<code class="docutils literal notranslate"><span class="pre">0x00</span></code> to <code class="docutils literal notranslate"><span class="pre">0x07f</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period</span></code>: Encoded publication period, or 0 to disable periodic publication.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code>: Number of retransmission for each published message (<code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">7</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">interval</span></code> The interval between each retransmission, in milliseconds. Must be a multiple of 50.</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-sub-add-elem-addr-sub-addr-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-sub-add</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;sub</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-sub-add-elem-addr-sub-addr-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Subscription the model to a group address. Models only receive messages sent to their unicast address or a group or virtual address they subscribe to. Models may subscribe to multiple group and virtual addresses.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sub</span> <span class="pre">addr</span></code>: 16-bit group address the model should subscribe to (<code class="docutils literal notranslate"><span class="pre">0xc000</span></code> to <code class="docutils literal notranslate"><span class="pre">0xFEFF</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to add the subscription to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-sub-del-elem-addr-sub-addr-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-sub-del</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;sub</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-sub-del-elem-addr-sub-addr-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Unsubscribe a model from a group address.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sub</span> <span class="pre">addr</span></code>: 16-bit group address the model should remove from its subscription list (<code class="docutils literal notranslate"><span class="pre">0xc000</span></code> to <code class="docutils literal notranslate"><span class="pre">0xFEFF</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to add the subscription to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-sub-add-va-elem-addr-label-uuid-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-sub-add-va</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Label</span> <span class="pre">UUID&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-sub-add-va-elem-addr-label-uuid-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Subscribe the model to a virtual address. Models only receive messages sent to their unicast address or a group or virtual address they subscribe to. Models may subscribe to multiple group and virtual addresses.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Label</span> <span class="pre">UUID</span></code>: 128-bit label UUID of the virtual address to subscribe to. Any omitted bytes will be zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to add the subscription to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-sub-del-va-elem-addr-label-uuid-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-sub-del-va</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Label</span> <span class="pre">UUID&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-sub-del-va-elem-addr-label-uuid-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Unsubscribe a model from a virtual address.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Label</span> <span class="pre">UUID</span></code>: 128-bit label UUID of the virtual address to remove the subscribtion of. Any omitted bytes will be zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to add the subscription to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-sub-ow-elem-addr-sub-addr-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-sub-ow</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;sub</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-sub-ow-elem-addr-sub-addr-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Overwrite all model subscriptios with a single new group address.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sub</span> <span class="pre">addr</span></code>: 16-bit group address the model should added to the subscription list (<code class="docutils literal notranslate"><span class="pre">0xc000</span></code> to <code class="docutils literal notranslate"><span class="pre">0xFEFF</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to add the subscription to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-sub-ow-va-elem-addr-label-uuid-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-sub-ow-va</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Label</span> <span class="pre">UUID&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-sub-ow-va-elem-addr-label-uuid-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Overwrite all model subscriptions with a single new virtual address. Models only receive messages sent to their unicast address or a group or virtual address they subscribe to. Models may subscribe to multiple group and virtual addresses.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Label</span> <span class="pre">UUID</span></code>: 128-bit label UUID of the virtual address as the new Address to be added to the subscription list. Any omitted bytes will be zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to add the subscription to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-sub-del-all-elem-addr-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-sub-del-all</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-sub-del-all-elem-addr-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Remove all group and virtual address subscriptions from of a model.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to Unsubscribe all.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-mod-sub-get-elem-addr-model-id-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">mod-sub-get</span> <span class="pre">&lt;elem</span> <span class="pre">addr&gt;</span> <span class="pre">&lt;Model</span> <span class="pre">ID&gt;</span> <span class="pre">[Company</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-mod-sub-get-elem-addr-model-id-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get a list of addresses the model subscribes to.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">addr</span></code>: Address of the element the model is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">ID</span></code>: The model ID of the model to get the subscription list of.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: If present, determines the Company ID of the model. If omitted, the model is a Bluetooth SIG defined model.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-krp-netkeyidx-phase">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">krp</span> <span class="pre">&lt;NetKeyIdx&gt;</span> <span class="pre">[Phase]</span></code><a class="headerlink" href="#mesh-krp-netkeyidx-phase" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the key refresh phase of a subnet.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIdx</span></code>: The identified network key used to Get/Set the current Key Refresh Phase state.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Phase</span></code>: New Key Refresh Phase. Valid phases are 0, 1 or 2.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-hb-sub-src-dst-period">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">hb-sub</span> <span class="pre">[&lt;src&gt;</span> <span class="pre">&lt;dst&gt;</span> <span class="pre">&lt;period&gt;]</span></code><a class="headerlink" href="#mesh-hb-sub-src-dst-period" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the Heartbeat subscription parameters. A node only receives Heartbeat messages matching the Heartbeat subscription parameters. Sets the Heartbeat subscription parameters if present, or prints the current Heartbeat subscription parameters if called with no parameters.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: Unicast source address to receive Heartbeat messages from.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code>: Destination address to receive Heartbeat messages on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period</span></code>: Logarithmic representation of the Heartbeat subscription period:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code>: Heartbeat subscription will be disabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> to <code class="docutils literal notranslate"><span class="pre">17</span></code>: The node will subscribe to Heartbeat messages for 2<sup>(period - 1)</sup> seconds.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-hb-pub-dst-count-period-ttl-features-netkeyindex">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">hb-pub</span> <span class="pre">[&lt;dst&gt;</span> <span class="pre">&lt;count&gt;</span> <span class="pre">&lt;period&gt;</span> <span class="pre">&lt;ttl&gt;</span> <span class="pre">&lt;features&gt;</span> <span class="pre">&lt;NetKeyIndex&gt;]</span></code><a class="headerlink" href="#mesh-hb-pub-dst-count-period-ttl-features-netkeyindex" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get or set the Heartbeat publication parameters. Sets the Heartbeat publication parameters if present, or prints the current Heartbeat publication parameters if called with no parameters.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dst</span></code>: Destination address to publish Heartbeat messages to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code>: Logarithmic representation of the number of Heartbeat messages to publish periodically:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code>: Heartbeat messages are not published periodically.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> to <code class="docutils literal notranslate"><span class="pre">17</span></code>: The node will periodically publish 2<sup>(count - 1)</sup> Heartbeat messages.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">255</span></code>: Heartbeat messages will be published periodically indefinitely.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">period</span></code>: Logarithmic representation of the Heartbeat publication period:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code>: Heartbeat messages are not published periodically.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> to <code class="docutils literal notranslate"><span class="pre">17</span></code>: The node will publish Heartbeat messages every 2<sup>(period - 1)</sup> seconds.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ttl</span></code>: The TTL value to publish Heartbeat messages with (<code class="docutils literal notranslate"><span class="pre">0x00</span></code> to <code class="docutils literal notranslate"><span class="pre">0x7f</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">features</span></code>: Bitfield of features that should trigger a Heartbeat publication when changed:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Bit</span> <span class="pre">0</span></code>: Relay feature.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bit</span> <span class="pre">1</span></code>: Proxy feature.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bit</span> <span class="pre">2</span></code>: Friend feature.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bit</span> <span class="pre">3</span></code>: Low Power feature.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIndex</span></code>: Index of the network key to publish Heartbeat messages with.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="health-client-model">
<h3><a class="toc-backref" href="#id9">Health Client model</a><a class="headerlink" href="#health-client-model" title="Permalink to this headline">¶</a></h3>
<p>The Health Client model is an optional mesh subsystem that can be enabled through the <a class="reference internal" href="../../../kconfig.html#CONFIG_BT_MESH_HEALTH_CLI" title="CONFIG_BT_MESH_HEALTH_CLI"><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_MESH_HEALTH_CLI</span></code></a> configuration option. If included, the Bluetooth mesh shell module instantiates a Health Client model for configuring itself and other nodes in the mesh network.</p>
<p>The Health Client uses the general messages parameters set by <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">netidx</span></code> to target specific nodes. When the Bluetooth mesh shell node is provisioned, the Health Client model targets itself by default. When another node has been provisioned by the Bluetooth mesh shell, the Health Client model targets the new node. The Health Client always sends messages using the Device key bound to the destination address, so it will only be able to configure itself and mesh nodes it provisioned.</p>
<div class="section" id="mesh-fault-get-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">fault-get</span> <span class="pre">&lt;Company</span> <span class="pre">ID&gt;</span></code><a class="headerlink" href="#mesh-fault-get-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get a list of registered faults for a Company ID.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: Company ID to get faults for.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-fault-clear-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">fault-clear</span> <span class="pre">&lt;Company</span> <span class="pre">ID&gt;</span></code><a class="headerlink" href="#mesh-fault-clear-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Clear the list of faults for a Company ID.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: Company ID to clear the faults for.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-fault-clear-unack-company-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">fault-clear-unack</span> <span class="pre">&lt;Company</span> <span class="pre">ID&gt;</span></code><a class="headerlink" href="#mesh-fault-clear-unack-company-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Clear the list of faults for a Company ID without requesting a response.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: Company ID to clear the faults for.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-fault-test-company-id-test-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">fault-test</span> <span class="pre">&lt;Company</span> <span class="pre">ID&gt;</span> <span class="pre">&lt;Test</span> <span class="pre">ID&gt;</span></code><a class="headerlink" href="#mesh-fault-test-company-id-test-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Invoke a self-test procedure, and show a list of triggered faults.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: Company ID to perform self-tests for.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">ID</span></code>: Test to perform.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-fault-test-unack-company-id-test-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">fault-test-unack</span> <span class="pre">&lt;Company</span> <span class="pre">ID&gt;</span> <span class="pre">&lt;Test</span> <span class="pre">ID&gt;</span></code><a class="headerlink" href="#mesh-fault-test-unack-company-id-test-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Invoke a self-test procedure without requesting a response.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Company</span> <span class="pre">ID</span></code>: Company ID to perform self-tests for.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">ID</span></code>: Test to perform.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-period-get">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">period-get</span></code><a class="headerlink" href="#mesh-period-get" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get the current Health Server publish period divisor.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-period-set-divisor">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">period-set</span> <span class="pre">&lt;divisor&gt;</span></code><a class="headerlink" href="#mesh-period-set-divisor" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Set the current Health Server publish period divisor. When a fault is detected, the Health Server will start publishing is fault status with a reduced interval. The reduced interval is determined by the Health Server publish period divisor: Fault publish period = Publish period / 2<sup>divisor</sup>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">divisor</span></code>: The new Health Server publish period divisor.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-period-set-unack-divisor">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">period-set-unack</span> <span class="pre">&lt;divisor&gt;</span></code><a class="headerlink" href="#mesh-period-set-unack-divisor" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Set the current Health Server publish period divisor. When a fault is detected, the Health Server will start publishing is fault status with a reduced interval. The reduced interval is determined by the Health Server publish period divisor: Fault publish period = Publish period / 2<sup>divisor</sup>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">divisor</span></code>: The new Health Server publish period divisor.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-attention-get">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">attention-get</span></code><a class="headerlink" href="#mesh-attention-get" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Get the current Health Server attention state.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-attention-set-timer">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">attention-set</span> <span class="pre">&lt;timer&gt;</span></code><a class="headerlink" href="#mesh-attention-set-timer" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Enable the Health Server attention state for some time.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timer</span></code>: Duration of the attention state, in seconds (<code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">255</span></code>)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-attention-set-unack-timer">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">attention-set-unack</span> <span class="pre">&lt;timer&gt;</span></code><a class="headerlink" href="#mesh-attention-set-unack-timer" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Enable the Health Server attention state for some time without requesting a response.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timer</span></code>: Duration of the attention state, in seconds (<code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">255</span></code>)</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="health-server-model">
<h3><a class="toc-backref" href="#id10">Health Server model</a><a class="headerlink" href="#health-server-model" title="Permalink to this headline">¶</a></h3>
<div class="section" id="mesh-add-fault-fault-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">add-fault</span> <span class="pre">&lt;Fault</span> <span class="pre">ID&gt;</span></code><a class="headerlink" href="#mesh-add-fault-fault-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Register a new Fault for the Linux Foundation Company ID.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Fault</span> <span class="pre">ID</span></code>: ID of the fault to register (<code class="docutils literal notranslate"><span class="pre">0x0001</span></code> to <code class="docutils literal notranslate"><span class="pre">0xFFFF</span></code>)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-del-fault-fault-id">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">del-fault</span> <span class="pre">[Fault</span> <span class="pre">ID]</span></code><a class="headerlink" href="#mesh-del-fault-fault-id" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Remove registered faults for the Linux Foundation Company ID.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Fault</span> <span class="pre">ID</span></code>: If present, the given fault ID will be deleted. If omitted, all registered faults will be cleared.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="configuration-database">
<h3><a class="toc-backref" href="#id11">Configuration database</a><a class="headerlink" href="#configuration-database" title="Permalink to this headline">¶</a></h3>
<p>The Configuration database is an optional mesh subsystem that can be enabled through the <a class="reference internal" href="../../../kconfig.html#CONFIG_BT_MESH_CDB" title="CONFIG_BT_MESH_CDB"><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_MESH_CDB</span></code></a> configuration option. The Configuration database is only available on provisioner devices, and allows them to store all information about the mesh network. To avoid conflicts, there should only be one mesh node in the network with the Configuration database enabled. This node is the Configurator, and is responsible for adding new nodes to the network and configuring them.</p>
<div class="section" id="mesh-cdb-create-netkey">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-create</span> <span class="pre">[NetKey]</span></code><a class="headerlink" href="#mesh-cdb-create-netkey" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Create a Configuration database.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKey</span></code>: Optional network key value of the primary network key (NetKeyIndex=0). Defaults to the default key value if omitted.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-cdb-clear">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-clear</span></code><a class="headerlink" href="#mesh-cdb-clear" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Clear all data from the Configuration database.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-cdb-show">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-show</span></code><a class="headerlink" href="#mesh-cdb-show" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Show all data in the Configuration database.</p>
</div></blockquote>
</div>
<div class="section" id="mesh-cdb-node-add-uuid-addr-num-elem-netkeyidx-devkey">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-node-add</span> <span class="pre">&lt;UUID&gt;</span> <span class="pre">&lt;addr&gt;</span> <span class="pre">&lt;num-elem&gt;</span> <span class="pre">&lt;NetKeyIdx&gt;</span> <span class="pre">[DevKey]</span></code><a class="headerlink" href="#mesh-cdb-node-add-uuid-addr-num-elem-netkeyidx-devkey" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Manually add a mesh node to the configuration database. Note that devices provisioned with <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">provision</span></code> and <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">provision-adv</span></code> will be added automatically if the Configuration Database is enabled and created.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UUID</span></code>: 128-bit hexadecimal UUID of the node. Any omitted bytes will be zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code>: Unicast address of the node, or 0 to automatically choose the lowest available address.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num-elem</span></code>: Number of elements on the node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIdx</span></code>: The network key the node was provisioned with.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DevKey</span></code>: Optional 128-bit device key value for the device. If omitted, a random value will be generated.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-cdb-node-del-addr">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-node-del</span> <span class="pre">&lt;addr&gt;</span></code><a class="headerlink" href="#mesh-cdb-node-del-addr" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Delete a mesh node from the Configuration database. If possible, the node should be reset with <code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">reset</span></code> before it is deleted from the Configuration database, to avoid unexpected behavior and uncontrolled access to the network.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addr</span></code> Address of the node to delete.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-cdb-subnet-add-neykeyidx-netkey">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-subnet-add</span> <span class="pre">&lt;NeyKeyIdx&gt;</span> <span class="pre">[&lt;NetKey&gt;]</span></code><a class="headerlink" href="#mesh-cdb-subnet-add-neykeyidx-netkey" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Add a network key to the Configuration database. The network key can later be passed to mesh nodes in the network. Note that adding a key to the Configuration database does not automatically add it to the local node’s list of known network keys.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIdx</span></code>: Key index of the network key to add.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NetKey</span></code>: Optional 128-bit network key value. Any missing bytes will be zero. If omitted, a random value will be generated.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-cdb-subnet-del-netkeyidx">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-subnet-del</span> <span class="pre">&lt;NetKeyIdx&gt;</span></code><a class="headerlink" href="#mesh-cdb-subnet-del-netkeyidx" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Delete a network key from the Configuration database.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIdx</span></code>: Key index of the network key to delete.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-cdb-app-key-add-netkeyidx-appkeyidx-appkey">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-app-key-add</span> <span class="pre">&lt;NetKeyIdx&gt;</span> <span class="pre">&lt;AppKeyIdx&gt;</span> <span class="pre">[&lt;AppKey&gt;]</span></code><a class="headerlink" href="#mesh-cdb-app-key-add-netkeyidx-appkeyidx-appkey" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Add an application key to the Configuration database. The application key can later be passed to mesh nodes in the network. Note that adding a key to the Configuration database does not automatically add it to the local node’s list of known application keys.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NetKeyIdx</span></code>: Network key index the application key is bound to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppKeyIdx</span></code>: Key index of the application key to add.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AppKey</span></code>: Optional 128-bit application key value. Any missing bytes will be zero. If omitted, a random value will be generated.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mesh-cdb-app-key-del-appkeyidx">
<h4><code class="docutils literal notranslate"><span class="pre">mesh</span> <span class="pre">cdb-app-key-del</span> <span class="pre">&lt;AppKeyIdx&gt;</span></code><a class="headerlink" href="#mesh-cdb-app-key-del-appkeyidx" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Delete an application key from the Configuration database.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AppKeyIdx</span></code>: Key index of the application key to delete.</p></li>
</ul>
</div></blockquote>
</div>
</div>
</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../../copyright.html">Copyright</a> 2015-2022 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Mar 05, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>