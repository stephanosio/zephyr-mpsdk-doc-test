<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Utilities &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Settings" href="../settings/index.html" />
    <link rel="prev" title="MPU Backed Userspace" href="../usermode/mpu_userspace.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libc/index.html">C standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modbus/index.html">Modbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usermode/index.html">User Mode</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">API Reference</a> &raquo;</li>
  
  <li>Utilities</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/util/index.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="utilities">
<span id="util-api"></span><h1>Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h1>
<p>This page contains reference documentation for <code class="docutils literal notranslate"><span class="pre">&lt;sys/util.h&gt;</span></code>, which provides
miscellaneous utility functions and macros.</p>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__sys-util"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">sys-util</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.POINTER_TO_UINT">
<span class="target" id="group__sys-util_1gae4ed3d05bcfbe9c8f4a5d81d8c969f19"></span><span class="sig-name descname"><span class="n"><span class="pre">POINTER_TO_UINT</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.POINTER_TO_UINT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Cast <code class="docutils literal notranslate"><span class="pre">x</span></code>, a pointer, to an unsigned integer. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.UINT_TO_POINTER">
<span class="target" id="group__sys-util_1gab74ce0513c348e0b257d38473e77e1a1"></span><span class="sig-name descname"><span class="n"><span class="pre">UINT_TO_POINTER</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.UINT_TO_POINTER" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Cast <code class="docutils literal notranslate"><span class="pre">x</span></code>, an unsigned integer, to a <code class="docutils literal notranslate"><span class="pre">void*</span></code>. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.POINTER_TO_INT">
<span class="target" id="group__sys-util_1ga6e5ec9c46d0140315a7c1d80d1cc3c38"></span><span class="sig-name descname"><span class="n"><span class="pre">POINTER_TO_INT</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.POINTER_TO_INT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Cast <code class="docutils literal notranslate"><span class="pre">x</span></code>, a pointer, to a signed integer. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.INT_TO_POINTER">
<span class="target" id="group__sys-util_1gae236ed18fe2ff18ab47c15d2e7eeb417"></span><span class="sig-name descname"><span class="n"><span class="pre">INT_TO_POINTER</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.INT_TO_POINTER" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Cast <code class="docutils literal notranslate"><span class="pre">x</span></code>, a signed integer, to a <code class="docutils literal notranslate"><span class="pre">void*</span></code>. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.BITS_PER_LONG">
<span class="target" id="group__sys-util_1ga2f660aa23a5dbc0f4b8df48b4302b8c3"></span><span class="sig-name descname"><span class="n"><span class="pre">BITS_PER_LONG</span></span></span><a class="headerlink" href="#c.BITS_PER_LONG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bits in a long int. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.GENMASK">
<span class="target" id="group__sys-util_1ga58530d20924859d16358c7400c37738d"></span><span class="sig-name descname"><span class="n"><span class="pre">GENMASK</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">h</span></span>, <span class="n"><span class="pre">l</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.GENMASK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a contiguous bitmask starting at bit position <code class="docutils literal notranslate"><span class="pre">l</span></code> and ending at position <code class="docutils literal notranslate"><span class="pre">h</span></code>. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LSB_GET">
<span class="target" id="group__sys-util_1ga92235ab2e350fbdc01ddf0f894e5e4c0"></span><span class="sig-name descname"><span class="n"><span class="pre">LSB_GET</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LSB_GET" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Extract the Least Significant Bit from <code class="docutils literal notranslate"><span class="pre">value</span></code>. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FIELD_GET">
<span class="target" id="group__sys-util_1gaa49a456f06f7bdbedfcf3517e461947e"></span><span class="sig-name descname"><span class="n"><span class="pre">FIELD_GET</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">mask</span></span>, <span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FIELD_GET" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Extract a bitfield element from <code class="docutils literal notranslate"><span class="pre">value</span></code> corresponding to the field mask <code class="docutils literal notranslate"><span class="pre">mask</span></code>. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FIELD_PREP">
<span class="target" id="group__sys-util_1gaa03c8b31bf67a097dd9f8153a04ef86b"></span><span class="sig-name descname"><span class="n"><span class="pre">FIELD_PREP</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">mask</span></span>, <span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FIELD_PREP" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prepare a bitfield element using <code class="docutils literal notranslate"><span class="pre">value</span></code> with <code class="docutils literal notranslate"><span class="pre">mask</span></code> representing its field position and width. The result should be combined with other fields using a logical OR. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.ZERO_OR_COMPILE_ERROR">
<span class="target" id="group__sys-util_1ga831cb8468911b8ebdb9b42682778e53d"></span><span class="sig-name descname"><span class="n"><span class="pre">ZERO_OR_COMPILE_ERROR</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">cond</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ZERO_OR_COMPILE_ERROR" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>0 if <code class="docutils literal notranslate"><span class="pre">cond</span></code> is true-ish; causes a compile error otherwise. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.IS_ARRAY">
<span class="target" id="group__sys-util_1gaa0be479debd8300ab6b43f4d028ab5da"></span><span class="sig-name descname"><span class="n"><span class="pre">IS_ARRAY</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">array</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.IS_ARRAY" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Zero if <code class="docutils literal notranslate"><span class="pre">array</span></code> has an array type, a compile error otherwise. </p>
<p>This macro is available only from C, not C++. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.ARRAY_SIZE">
<span class="target" id="group__sys-util_1ga70c57aae3eb654e205459b4362c8089a"></span><span class="sig-name descname"><span class="n"><span class="pre">ARRAY_SIZE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">array</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ARRAY_SIZE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of elements in the given <code class="docutils literal notranslate"><span class="pre">array</span></code>. </p>
<p>In C++, due to language limitations, this will accept as <code class="docutils literal notranslate"><span class="pre">array</span></code> any type that implements <code class="docutils literal notranslate"><span class="pre">operator[]</span></code>. The results may not be particulary meaningful in this case.</p>
<p>In C, passing a pointer as <code class="docutils literal notranslate"><span class="pre">array</span></code> causes a compile error. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.PART_OF_ARRAY">
<span class="target" id="group__sys-util_1ga4fbecf59c021cb60fa1267b7818f90ef"></span><span class="sig-name descname"><span class="n"><span class="pre">PART_OF_ARRAY</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">array</span></span>, <span class="n"><span class="pre">ptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PART_OF_ARRAY" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if a pointer <code class="docutils literal notranslate"><span class="pre">ptr</span></code> lies within <code class="docutils literal notranslate"><span class="pre">array</span></code>. </p>
<p>In C but not C++, this causes a compile error if <code class="docutils literal notranslate"><span class="pre">array</span></code> is not an array (e.g. if <code class="docutils literal notranslate"><span class="pre">ptr</span></code> and <code class="docutils literal notranslate"><span class="pre">array</span></code> are mixed up).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ptr</strong> – a pointer </p></li>
<li><p><strong>array</strong> – an array </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1 if <code class="docutils literal notranslate"><span class="pre">ptr</span></code> is part of <code class="docutils literal notranslate"><span class="pre">array</span></code>, 0 otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.CONTAINER_OF">
<span class="target" id="group__sys-util_1gac5bc561d1bfd1bf68877fe577779bd2f"></span><span class="sig-name descname"><span class="n"><span class="pre">CONTAINER_OF</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ptr</span></span>, <span class="n"><span class="pre">type</span></span>, <span class="n"><span class="pre">field</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.CONTAINER_OF" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get a pointer to a structure containing the element. </p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">struct</span> <span class="n">foo</span> <span class="p">{</span>
    <span class="nb">int</span> <span class="n">bar</span><span class="p">;</span>
 <span class="p">};</span>

 <span class="n">struct</span> <span class="n">foo</span> <span class="n">my_foo</span><span class="p">;</span>
 <span class="nb">int</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">my_foo</span><span class="o">.</span><span class="n">bar</span><span class="p">;</span>

 <span class="n">struct</span> <span class="n">foo</span> <span class="o">*</span><span class="n">container</span> <span class="o">=</span> <span class="n">CONTAINER_OF</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">struct</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">);</span>
</pre></div>
</div>
 Above, <code class="docutils literal notranslate"><span class="pre">container</span></code> points at <code class="docutils literal notranslate"><span class="pre">my_foo</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ptr</strong> – pointer to a structure element </p></li>
<li><p><strong>type</strong> – name of the type that <code class="docutils literal notranslate"><span class="pre">ptr</span></code> is an element of </p></li>
<li><p><strong>field</strong> – the name of the field within the struct <code class="docutils literal notranslate"><span class="pre">ptr</span></code> points to </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a pointer to the structure that contains <code class="docutils literal notranslate"><span class="pre">ptr</span></code> </p>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.ROUND_UP">
<span class="target" id="group__sys-util_1gaada5610108b15d85c65d863b0c646ef3"></span><span class="sig-name descname"><span class="n"><span class="pre">ROUND_UP</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span>, <span class="n"><span class="pre">align</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ROUND_UP" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Value of <code class="docutils literal notranslate"><span class="pre">x</span></code> rounded up to the next multiple of <code class="docutils literal notranslate"><span class="pre">align</span></code>, which must be a power of 2. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.ROUND_DOWN">
<span class="target" id="group__sys-util_1gad8d2389dbe7ea135eccf237dbafb76dd"></span><span class="sig-name descname"><span class="n"><span class="pre">ROUND_DOWN</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span>, <span class="n"><span class="pre">align</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ROUND_DOWN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Value of <code class="docutils literal notranslate"><span class="pre">x</span></code> rounded down to the previous multiple of <code class="docutils literal notranslate"><span class="pre">align</span></code>, which must be a power of 2. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.WB_UP">
<span class="target" id="group__sys-util_1ga8b16b3a76faa15ea544e4b0edb3e62c7"></span><span class="sig-name descname"><span class="n"><span class="pre">WB_UP</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.WB_UP" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Value of <code class="docutils literal notranslate"><span class="pre">x</span></code> rounded up to the next word boundary. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.WB_DN">
<span class="target" id="group__sys-util_1gadbc789ee99633a92584387ba2a4f7052"></span><span class="sig-name descname"><span class="n"><span class="pre">WB_DN</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.WB_DN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Value of <code class="docutils literal notranslate"><span class="pre">x</span></code> rounded down to the previous word boundary. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.ceiling_fraction">
<span class="target" id="group__sys-util_1gaad408461e7ab356650bcd5c83bc0ed39"></span><span class="sig-name descname"><span class="n"><span class="pre">ceiling_fraction</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">numerator</span></span>, <span class="n"><span class="pre">divider</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.ceiling_fraction" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ceiling function applied to <code class="docutils literal notranslate"><span class="pre">numerator</span></code> / <code class="docutils literal notranslate"><span class="pre">divider</span></code> as a fraction. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MAX">
<span class="target" id="group__sys-util_1gafa99ec4acc4ecb2dc3c2d05da15d0e3f"></span><span class="sig-name descname"><span class="n"><span class="pre">MAX</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">a</span></span>, <span class="n"><span class="pre">b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MAX" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The larger value between <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Arguments are evaluated twice. </p>
</div>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MIN">
<span class="target" id="group__sys-util_1ga3acffbd305ee72dcd4593c0d8af64a4f"></span><span class="sig-name descname"><span class="n"><span class="pre">MIN</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">a</span></span>, <span class="n"><span class="pre">b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MIN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The smaller value between <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Arguments are evaluated twice. </p>
</div>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.CLAMP">
<span class="target" id="group__sys-util_1gad6e7d4f6ba5a77f9ee3c04026f1c2b67"></span><span class="sig-name descname"><span class="n"><span class="pre">CLAMP</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">val</span></span>, <span class="n"><span class="pre">low</span></span>, <span class="n"><span class="pre">high</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.CLAMP" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Clamp a value to a given range. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Arguments are evaluated multiple times. </p>
</div>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.KB">
<span class="target" id="group__sys-util_1ga5c723c0cc71b83224ead557db3ab74dd"></span><span class="sig-name descname"><span class="n"><span class="pre">KB</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.KB" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bytes in <code class="docutils literal notranslate"><span class="pre">x</span></code> kibibytes. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MB">
<span class="target" id="group__sys-util_1ga44d2b171cc92225ec0a76ef70fc9b531"></span><span class="sig-name descname"><span class="n"><span class="pre">MB</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bytes in <code class="docutils literal notranslate"><span class="pre">x</span></code> mebibytes. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.GB">
<span class="target" id="group__sys-util_1gaf207e8203eedc05adcf341a24bfa6cbb"></span><span class="sig-name descname"><span class="n"><span class="pre">GB</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.GB" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bytes in <code class="docutils literal notranslate"><span class="pre">x</span></code> gibibytes. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.KHZ">
<span class="target" id="group__sys-util_1gaee55275295c076c6d23c994777623253"></span><span class="sig-name descname"><span class="n"><span class="pre">KHZ</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.KHZ" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of Hz in <code class="docutils literal notranslate"><span class="pre">x</span></code> kHz. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MHZ">
<span class="target" id="group__sys-util_1gab7b18750ddf0850461f926ae151ca7fa"></span><span class="sig-name descname"><span class="n"><span class="pre">MHZ</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MHZ" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of Hz in <code class="docutils literal notranslate"><span class="pre">x</span></code> MHz. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.BIT">
<span class="target" id="group__sys-util_1ga3a8ea58898cb58fc96013383d39f482c"></span><span class="sig-name descname"><span class="n"><span class="pre">BIT</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">n</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.BIT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Unsigned integer with bit position <code class="docutils literal notranslate"><span class="pre">n</span></code> set (signed in assembly language). </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.BIT64">
<span class="target" id="group__sys-util_1gacfdade52af3ced2d87472cec47d14a76"></span><span class="sig-name descname"><span class="n"><span class="pre">BIT64</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_n</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.BIT64" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>64-bit unsigned integer with bit position <code class="docutils literal notranslate"><span class="pre">_n</span></code> set. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.WRITE_BIT">
<span class="target" id="group__sys-util_1ga23a900e882ecb48455e70f01fd45b246"></span><span class="sig-name descname"><span class="n"><span class="pre">WRITE_BIT</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">var</span></span>, <span class="n"><span class="pre">bit</span></span>, <span class="n"><span class="pre">set</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.WRITE_BIT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set or clear a bit depending on a boolean value. </p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">var</span></code> is a variable whose value is written to as a side effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> – Variable to be altered </p></li>
<li><p><strong>bit</strong> – Bit number </p></li>
<li><p><strong>set</strong> – if 0, clears <code class="docutils literal notranslate"><span class="pre">bit</span></code> in <code class="docutils literal notranslate"><span class="pre">var</span></code>; any other value sets <code class="docutils literal notranslate"><span class="pre">bit</span></code> </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.BIT_MASK">
<span class="target" id="group__sys-util_1ga3c12c6d36ad0aa481a3436923d21f4f8"></span><span class="sig-name descname"><span class="n"><span class="pre">BIT_MASK</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">n</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.BIT_MASK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Bit mask with bits 0 through <code class="docutils literal notranslate"><span class="pre">n-1</span></code> (inclusive) set, or 0 if <code class="docutils literal notranslate"><span class="pre">n</span></code> is 0. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.BIT64_MASK">
<span class="target" id="group__sys-util_1ga1a138896caafcb2429a6483ea7412d12"></span><span class="sig-name descname"><span class="n"><span class="pre">BIT64_MASK</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">n</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.BIT64_MASK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>64-bit bit mask with bits 0 through <code class="docutils literal notranslate"><span class="pre">n-1</span></code> (inclusive) set, or 0 if <code class="docutils literal notranslate"><span class="pre">n</span></code> is 0. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.IS_ENABLED">
<span class="target" id="group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a"></span><span class="sig-name descname"><span class="n"><span class="pre">IS_ENABLED</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">config_macro</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.IS_ENABLED" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check for macro definition in compiler-visible expressions. </p>
<p>This trick was pioneered in Linux as the config_enabled() macro. It has the effect of taking a macro value that may be defined to “1” or may not be defined at all and turning it into a literal expression that can be handled by the C compiler instead of just the preprocessor. It is often used with a <code class="docutils literal notranslate"><span class="pre">CONFIG_FOO</span></code> macro which may be defined to 1 via Kconfig, or left undefined.</p>
<p>That is, it works similarly to <code class="docutils literal notranslate"><span class="pre">#if</span> <span class="pre">defined(CONFIG_FOO)</span></code> except that its expansion is a C expression. Thus, much <code class="docutils literal notranslate"><span class="pre">#ifdef</span></code> usage can be replaced with equivalents like: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">IS_ENABLED</span><span class="p">(</span><span class="n">CONFIG_FOO</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">do_something_with_foo</span>
<span class="p">}</span>
</pre></div>
</div>
 This is cleaner since the compiler can generate errors and warnings for <code class="docutils literal notranslate"><span class="pre">do_something_with_foo</span></code> even when <code class="docutils literal notranslate"><span class="pre">CONFIG_FOO</span></code> is undefined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_macro</strong> – Macro to check </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1 if <code class="docutils literal notranslate"><span class="pre">config_macro</span></code> is defined to 1, 0 otherwise (including if <code class="docutils literal notranslate"><span class="pre">config_macro</span></code> is not defined) </p>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.COND_CODE_1">
<span class="target" id="group__sys-util_1ga358bc3e7669c860a98839a51cd526b20"></span><span class="sig-name descname"><span class="n"><span class="pre">COND_CODE_1</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_flag</span></span>, <span class="n"><span class="pre">_if_1_code</span></span>, <span class="n"><span class="pre">_else_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.COND_CODE_1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Insert code depending on whether <code class="docutils literal notranslate"><span class="pre">_flag</span></code> expands to 1 or not. </p>
<p>This relies on similar tricks as <a class="reference internal" href="#group__sys-util_1ga111fe4e9d63758262fc6810a782cb32a"><span class="std std-ref">IS_ENABLED()</span></a>, but as the result of <code class="docutils literal notranslate"><span class="pre">_flag</span></code> expansion, results in either <code class="docutils literal notranslate"><span class="pre">_if_1_code</span></code> or <code class="docutils literal notranslate"><span class="pre">_else_code</span></code> is expanded.</p>
<p>To prevent the preprocessor from treating commas as argument separators, the <code class="docutils literal notranslate"><span class="pre">_if_1_code</span></code> and <code class="docutils literal notranslate"><span class="pre">_else_code</span></code> expressions must be inside brackets/parentheses: <code class="docutils literal notranslate"><span class="pre">()</span></code>. These are stripped away during macro expansion.</p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COND_CODE_1</span><span class="p">(</span><span class="n">CONFIG_FLAG</span><span class="p">,</span> <span class="p">(</span><span class="n">uint32_t</span> <span class="n">x</span><span class="p">;),</span> <span class="p">(</span><span class="n">there_is_no_flag</span><span class="p">();))</span>
</pre></div>
</div>
 If <code class="docutils literal notranslate"><span class="pre">CONFIG_FLAG</span></code> is defined to 1, this expands to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint32_t</span> <span class="n">x</span><span class="p">;</span>
</pre></div>
</div>
 It expands to <code class="docutils literal notranslate"><span class="pre">there_is_no_flag();</span></code> otherwise.</p>
<p>This could be used as an alternative to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#if defined(CONFIG_FLAG) &amp;&amp; (CONFIG_FLAG == 1)</span>
<span class="c1">#define MAYBE_DECLARE(x) uint32_t x</span>
<span class="c1">#else</span>
<span class="c1">#define MAYBE_DECLARE(x) there_is_no_flag()</span>
<span class="c1">#endif</span>

<span class="n">MAYBE_DECLARE</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</pre></div>
</div>
 However, the advantage of <a class="reference internal" href="#group__sys-util_1ga358bc3e7669c860a98839a51cd526b20"><span class="std std-ref">COND_CODE_1()</span></a> is that code is resolved in place where it is used, while the <code class="docutils literal notranslate"><span class="pre">#if</span></code> method defines <code class="docutils literal notranslate"><span class="pre">MAYBE_DECLARE</span></code> on two lines and requires it to be invoked again on a separate line. This makes <a class="reference internal" href="#group__sys-util_1ga358bc3e7669c860a98839a51cd526b20"><span class="std std-ref">COND_CODE_1()</span></a> more concise and also sometimes more useful when used within another macro’s expansion.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">_flag</span></code> can be the result of preprocessor expansion, e.g. an expression involving <code class="docutils literal notranslate"><a class="reference internal" href="#group__sys-util_1ga8a0e9835e0a8f864ffc2359b9c419cc2"><span class="std std-ref"><span class="pre">NUM_VA_ARGS_LESS_1(...)</span></span></a></code>. However, <code class="docutils literal notranslate"><span class="pre">_if_1_code</span></code> is only expanded if <code class="docutils literal notranslate"><span class="pre">_flag</span></code> expands to the integer literal 1. Integer expressions that evaluate to 1, e.g. after doing some arithmetic, will not work.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_flag</strong> – evaluated flag </p></li>
<li><p><strong>_if_1_code</strong> – result if <code class="docutils literal notranslate"><span class="pre">_flag</span></code> expands to 1; must be in parentheses </p></li>
<li><p><strong>_else_code</strong> – result otherwise; must be in parentheses </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.COND_CODE_0">
<span class="target" id="group__sys-util_1ga5483ea38af79bc6c4509936288705377"></span><span class="sig-name descname"><span class="n"><span class="pre">COND_CODE_0</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_flag</span></span>, <span class="n"><span class="pre">_if_0_code</span></span>, <span class="n"><span class="pre">_else_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.COND_CODE_0" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Like <a class="reference internal" href="#group__sys-util_1ga358bc3e7669c860a98839a51cd526b20"><span class="std std-ref">COND_CODE_1()</span></a> except tests if <code class="docutils literal notranslate"><span class="pre">_flag</span></code> is 0. </p>
<p>This is like <a class="reference internal" href="#group__sys-util_1ga358bc3e7669c860a98839a51cd526b20"><span class="std std-ref">COND_CODE_1()</span></a>, except that it tests whether <code class="docutils literal notranslate"><span class="pre">_flag</span></code> expands to the integer literal 0. It expands to <code class="docutils literal notranslate"><span class="pre">_if_0_code</span></code> if so, and <code class="docutils literal notranslate"><span class="pre">_else_code</span></code> otherwise; both of these must be enclosed in parentheses.</p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__sys-util_1ga358bc3e7669c860a98839a51cd526b20"><span class="std std-ref">COND_CODE_1()</span></a> </p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_flag</strong> – evaluated flag </p></li>
<li><p><strong>_if_0_code</strong> – result if <code class="docutils literal notranslate"><span class="pre">_flag</span></code> expands to 0; must be in parentheses </p></li>
<li><p><strong>_else_code</strong> – result otherwise; must be in parentheses </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.IF_ENABLED">
<span class="target" id="group__sys-util_1gae67ffe50e848951dbde309ed569ea925"></span><span class="sig-name descname"><span class="n"><span class="pre">IF_ENABLED</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_flag</span></span>, <span class="n"><span class="pre">_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.IF_ENABLED" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Insert code if <code class="docutils literal notranslate"><span class="pre">_flag</span></code> is defined and equals 1. </p>
<p>Like <a class="reference internal" href="#group__sys-util_1ga358bc3e7669c860a98839a51cd526b20"><span class="std std-ref">COND_CODE_1()</span></a>, this expands to <code class="docutils literal notranslate"><span class="pre">_code</span></code> if <code class="docutils literal notranslate"><span class="pre">_flag</span></code> is defined to 1; it expands to nothing otherwise.</p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">IF_ENABLED</span><span class="p">(</span><span class="n">CONFIG_FLAG</span><span class="p">,</span> <span class="p">(</span><span class="n">uint32_t</span> <span class="n">foo</span><span class="p">;))</span>
</pre></div>
</div>
 If <code class="docutils literal notranslate"><span class="pre">CONFIG_FLAG</span></code> is defined to 1, this expands to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint32_t</span> <span class="n">foo</span><span class="p">;</span>
</pre></div>
</div>
 and to nothing otherwise.</p>
<p>It can be considered as a more compact alternative to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#if defined(CONFIG_FLAG) &amp;&amp; (CONFIG_FLAG == 1)</span>
<span class="n">uint32_t</span> <span class="n">foo</span><span class="p">;</span>
<span class="c1">#endif</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_flag</strong> – evaluated flag </p></li>
<li><p><strong>_code</strong> – result if <code class="docutils literal notranslate"><span class="pre">_flag</span></code> expands to 1; must be in parentheses </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.IS_EMPTY">
<span class="target" id="group__sys-util_1gab9487eea703d51cb1f235432dab4a1c7"></span><span class="sig-name descname"><span class="n"><span class="pre">IS_EMPTY</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.IS_EMPTY" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if a macro has a replacement expression. </p>
<p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> is a macro defined to a nonempty value, this will return true, otherwise it will return false. It only works with defined macros, so an additional <code class="docutils literal notranslate"><span class="pre">#ifdef</span></code> test may be needed in some cases.</p>
<p>This macro may be used with <a class="reference internal" href="#group__sys-util_1ga358bc3e7669c860a98839a51cd526b20"><span class="std std-ref">COND_CODE_1()</span></a> and <a class="reference internal" href="#group__sys-util_1ga5483ea38af79bc6c4509936288705377"><span class="std std-ref">COND_CODE_0()</span></a> while processing <code class="docutils literal notranslate"></code> to avoid processing empty arguments.</p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="c1">#define EMPTY</span>
 <span class="c1">#define NON_EMPTY  1</span>
 <span class="c1">#undef  UNDEFINED</span>
 <span class="n">IS_EMPTY</span><span class="p">(</span><span class="n">EMPTY</span><span class="p">)</span>
 <span class="n">IS_EMPTY</span><span class="p">(</span><span class="n">NON_EMPTY</span><span class="p">)</span>
 <span class="n">IS_EMPTY</span><span class="p">(</span><span class="n">UNDEFINED</span><span class="p">)</span>
 <span class="c1">#if defined(EMPTY) &amp;&amp; IS_EMPTY(EMPTY) == true</span>
 <span class="n">some_conditional_code</span>
 <span class="c1">#endif</span>
</pre></div>
</div>
 In above examples, the invocations of <a class="reference internal" href="#group__sys-util_1gab9487eea703d51cb1f235432dab4a1c7"><span class="std std-ref">IS_EMPTY(…)</span></a> return <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code>, and <code class="docutils literal notranslate"><span class="pre">true</span></code>; <code class="docutils literal notranslate"><span class="pre">some_conditional_code</span></code> is included.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – macro to check for emptiness (may be <code class="docutils literal notranslate"></code>) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LIST_DROP_EMPTY">
<span class="target" id="group__sys-util_1gab9762d5128988f7f4f5d51213ea52025"></span><span class="sig-name descname"><span class="n"><span class="pre">LIST_DROP_EMPTY</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LIST_DROP_EMPTY" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Remove empty arguments from list. </p>
<p>During macro expansion, <code class="docutils literal notranslate"></code> and other preprocessor generated lists may contain empty elements, e.g.: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="c1">#define LIST ,a,b,,d,</span>
</pre></div>
</div>
 Using EMPTY to show each empty element, LIST contains: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">EMPTY</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">EMPTY</span><span class="p">,</span> <span class="n">d</span>
</pre></div>
</div>
 When processing such lists, e.g. using <a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref">FOR_EACH()</span></a>, all empty elements will be processed, and may require filtering out. To make that process easier, it is enough to invoke LIST_DROP_EMPTY which will remove all empty elements.</p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">LIST_DROP_EMPTY</span><span class="p">(</span><span class="n">LIST</span><span class="p">)</span>
</pre></div>
</div>
 expands to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">d</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – list to be processed </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.EMPTY">
<span class="target" id="group__sys-util_1ga2b7cf2a3641be7b89138615764d60ba3"></span><span class="sig-name descname"><span class="n"><span class="pre">EMPTY</span></span></span><a class="headerlink" href="#c.EMPTY" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro with an empty expansion. </p>
<p>This trivial definition is provided for readability when a macro should expand to an empty result, which e.g. is sometimes needed to silence checkpatch.</p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="c1">#define LIST_ITEM(n) , item##n</span>
</pre></div>
</div>
 The above would cause checkpatch to complain, but: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="c1">#define LIST_ITEM(n) EMPTY, item##n</span>
</pre></div>
</div>
 would not. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.IDENTITY">
<span class="target" id="group__sys-util_1gaaed493c6115c04272077a0f3854b9a83"></span><span class="sig-name descname"><span class="n"><span class="pre">IDENTITY</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">V</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.IDENTITY" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro that expands to its argument. </p>
<p>This is useful in macros like <code class="docutils literal notranslate"><a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref"><span class="pre">FOR_EACH()</span></span></a></code> when there is no transformation required on the list elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>V</strong> – any value </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.GET_ARG_N">
<span class="target" id="group__sys-util_1gabbe04a4d59a495b2b86196304b937ec6"></span><span class="sig-name descname"><span class="n"><span class="pre">GET_ARG_N</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">N</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.GET_ARG_N" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get nth argument from argument list. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> – Argument index to fetch. Counter from 1. </p></li>
<li><p><strong>...</strong> – Variable list of argments from which one argument is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Nth argument. </p>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.GET_ARGS_LESS_N">
<span class="target" id="group__sys-util_1ga01e1dc9b92e5be6895528d1da5f0c88b"></span><span class="sig-name descname"><span class="n"><span class="pre">GET_ARGS_LESS_N</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">N</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.GET_ARGS_LESS_N" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Strips n first arguments from the argument list. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> – Number of arguments to discard. </p></li>
<li><p><strong>...</strong> – Variable list of argments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>argument list without N first arguments. </p>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.UTIL_OR">
<span class="target" id="group__sys-util_1ga50cfdf948906976562c3f0625c84c2b2"></span><span class="sig-name descname"><span class="n"><span class="pre">UTIL_OR</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">a</span></span>, <span class="n"><span class="pre">b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.UTIL_OR" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">||</span> <span class="pre">b</span></code>, but does evaluation and short-circuiting at C preprocessor time. </p>
<p>This is not the same as the binary <code class="docutils literal notranslate"><span class="pre">||</span></code> operator; in particular, <code class="docutils literal notranslate"><span class="pre">a</span></code> should expand to an integer literal 0 or 1. However, <code class="docutils literal notranslate"><span class="pre">b</span></code> can be any value.</p>
<p>This can be useful when <code class="docutils literal notranslate"><span class="pre">b</span></code> is an expression that would cause a build error when <code class="docutils literal notranslate"><span class="pre">a</span></code> is 1. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.UTIL_AND">
<span class="target" id="group__sys-util_1ga26179b776b4a03143e8be1612ef6d853"></span><span class="sig-name descname"><span class="n"><span class="pre">UTIL_AND</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">a</span></span>, <span class="n"><span class="pre">b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.UTIL_AND" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&amp;&amp;</span> <span class="pre">b</span></code>, but does evaluation and short-circuiting at C preprocessor time. </p>
<p>This is not the same as the binary <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>, however; in particular, <code class="docutils literal notranslate"><span class="pre">a</span></code> should expand to an integer literal 0 or 1. However, <code class="docutils literal notranslate"><span class="pre">b</span></code> can be any value.</p>
<p>This can be useful when <code class="docutils literal notranslate"><span class="pre">b</span></code> is an expression that would cause a build error when <code class="docutils literal notranslate"><span class="pre">a</span></code> is 0. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.UTIL_LISTIFY">
<span class="target" id="group__sys-util_1ga31079a877f7990c552cbfaf10225e37a"></span><span class="sig-name descname"><span class="n"><span class="pre">UTIL_LISTIFY</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">LEN</span></span>, <span class="n"><span class="pre">F</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.UTIL_LISTIFY" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Generates a sequence of code. </p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define FOO(i, _) MY_PWM ## i ,</span>
<span class="p">{</span> <span class="n">UTIL_LISTIFY</span><span class="p">(</span><span class="n">PWM_COUNT</span><span class="p">,</span> <span class="n">FOO</span><span class="p">)</span> <span class="p">}</span>
</pre></div>
</div>
 The above two lines expand to:</p>
<p>{ MY_PWM0 , MY_PWM1 , }</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Calling UTIL_LISTIFY with undefined arguments has undefined behavior. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>LEN</strong> – The length of the sequence. Must be an integer literal less than 255. </p></li>
<li><p><strong>F</strong> – A macro function that accepts at least two arguments: <code class="docutils literal notranslate"><span class="pre">F(i,</span> <span class="pre">...)</span></code>. <code class="docutils literal notranslate"><span class="pre">F</span></code> is called repeatedly in the expansion. Its first argument <code class="docutils literal notranslate"><span class="pre">i</span></code> is the index in the sequence, and the variable list of arguments passed to UTIL_LISTIFY are passed through to <code class="docutils literal notranslate"><span class="pre">F</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FOR_EACH">
<span class="target" id="group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"></span><span class="sig-name descname"><span class="n"><span class="pre">FOR_EACH</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">F</span></span>, <span class="n"><span class="pre">sep</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FOR_EACH" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Call a macro <code class="docutils literal notranslate"><span class="pre">F</span></code> on each provided argument with a given separator between each call. </p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define F(x) int a##x</span>
<span class="n">FOR_EACH</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="p">(;),</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
</pre></div>
</div>
 This expands to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">a4</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">a5</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">a6</span><span class="p">;</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> – Macro to invoke </p></li>
<li><p><strong>sep</strong> – Separator (e.g. comma or semicolon). Must be in parentheses; this is required to enable providing a comma as separator. </p></li>
<li><p><strong>...</strong> – Variable argument list. The macro <code class="docutils literal notranslate"><span class="pre">F</span></code> is invoked as <code class="docutils literal notranslate"><span class="pre">F(element)</span></code> for each element in the list. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FOR_EACH_NONEMPTY_TERM">
<span class="target" id="group__sys-util_1ga24b3862161d725f5503b1bb08f4e339f"></span><span class="sig-name descname"><span class="n"><span class="pre">FOR_EACH_NONEMPTY_TERM</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">F</span></span>, <span class="n"><span class="pre">term</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FOR_EACH_NONEMPTY_TERM" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Like <a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref">FOR_EACH()</span></a>, but with a terminator instead of a separator, and drops empty elements from the argument list. </p>
<p>The <code class="docutils literal notranslate"><span class="pre">sep</span></code> argument to <code class="docutils literal notranslate"><a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref"><span class="pre">FOR_EACH(F,</span> <span class="pre">(sep),</span> <span class="pre">a,</span> <span class="pre">b)</span></span></a></code> is a separator which is placed between calls to <code class="docutils literal notranslate"><span class="pre">F</span></code>, like this: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span>FOR_EACH(F, (sep), a, b) // F(a) sep F(b)
                         //               ^^^ no sep here!
</pre></div>
</div>
 By contrast, the <code class="docutils literal notranslate"><span class="pre">term</span></code> argument to <code class="docutils literal notranslate"><span class="pre">FOR_EACH_NONEMPTY_TERM(F,</span> <span class="pre">(term),</span> <span class="pre">a,</span> <span class="pre">b)</span></code> is added after each time <code class="docutils literal notranslate"><span class="pre">F</span></code> appears in the expansion: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FOR_EACH_NONEMPTY_TERM</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="p">(</span><span class="n">term</span><span class="p">),</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">//</span> <span class="n">F</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="n">term</span> <span class="n">F</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="n">term</span>
                                        <span class="o">//</span>                <span class="o">^^^^</span>
</pre></div>
</div>
 Further, any empty elements are dropped: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FOR_EACH_NONEMPTY_TERM</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="p">(</span><span class="n">term</span><span class="p">),</span> <span class="n">a</span><span class="p">,</span> <span class="n">EMPTY</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">//</span> <span class="n">F</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="n">term</span> <span class="n">F</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="n">term</span>
</pre></div>
</div>
 This is more convenient in some cases, because <a class="reference internal" href="#group__sys-util_1ga24b3862161d725f5503b1bb08f4e339f"><span class="std std-ref">FOR_EACH_NONEMPTY_TERM()</span></a> expands to nothing when given an empty argument list, and it’s often cumbersome to write a macro <code class="docutils literal notranslate"><span class="pre">F</span></code> that does the right thing even when given an empty argument.</p>
<p>One example is when <code class="docutils literal notranslate"></code> may or may not be empty, and the results are embedded in a larger initializer: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define SQUARE(x) ((x)*(x))</span>

<span class="nb">int</span> <span class="n">my_array</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">FOR_EACH_NONEMPTY_TERM</span><span class="p">(</span><span class="n">SQUARE</span><span class="p">,</span> <span class="p">(,),</span> <span class="n">FOO</span><span class="p">(</span><span class="o">...</span><span class="p">))</span>
        <span class="n">FOR_EACH_NONEMPTY_TERM</span><span class="p">(</span><span class="n">SQUARE</span><span class="p">,</span> <span class="p">(,),</span> <span class="n">BAR</span><span class="p">(</span><span class="o">...</span><span class="p">))</span>
        <span class="n">FOR_EACH_NONEMPTY_TERM</span><span class="p">(</span><span class="n">SQUARE</span><span class="p">,</span> <span class="p">(,),</span> <span class="n">BAZ</span><span class="p">(</span><span class="o">...</span><span class="p">))</span>
<span class="p">};</span>
</pre></div>
</div>
 This is more convenient than:</p>
<p><ol class="loweralpha simple">
<li><p>figuring out whether the <code class="docutils literal notranslate"><span class="pre">FOO</span></code>, <code class="docutils literal notranslate"><span class="pre">BAR</span></code>, and <code class="docutils literal notranslate"><span class="pre">BAZ</span></code> expansions are empty and adding a comma manually (or not) between <a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref">FOR_EACH()</span></a> calls</p></li>
<li><p>rewriting SQUARE so it reacts appropriately when “x” is empty (which would be necessary if e.g. <code class="docutils literal notranslate"><span class="pre">FOO</span></code> expands to nothing)</p></li>
</ol>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> – Macro to invoke on each nonempty element of the variable arguments </p></li>
<li><p><strong>term</strong> – Terminator (e.g. comma or semicolon) placed after each invocation of F. Must be in parentheses; this is required to enable providing a comma as separator. </p></li>
<li><p><strong>...</strong> – Variable argument list. The macro <code class="docutils literal notranslate"><span class="pre">F</span></code> is invoked as <code class="docutils literal notranslate"><span class="pre">F(element)</span></code> for each nonempty element in the list. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FOR_EACH_IDX">
<span class="target" id="group__sys-util_1ga069f709e18eeafb8d276b5ff4fc09d31"></span><span class="sig-name descname"><span class="n"><span class="pre">FOR_EACH_IDX</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">F</span></span>, <span class="n"><span class="pre">sep</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FOR_EACH_IDX" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Call macro <code class="docutils literal notranslate"><span class="pre">F</span></code> on each provided argument, with the argument’s index as an additional parameter. </p>
<p>This is like <a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref">FOR_EACH()</span></a>, except <code class="docutils literal notranslate"><span class="pre">F</span></code> should be a macro which takes two arguments: <code class="docutils literal notranslate"><span class="pre">F(index,</span> <span class="pre">variable_arg)</span></code>.</p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define F(idx, x) int a##idx = x</span>
<span class="n">FOR_EACH_IDX</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="p">(;),</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
</pre></div>
</div>
 This expands to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">a0</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">a1</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">a2</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> – Macro to invoke </p></li>
<li><p><strong>sep</strong> – Separator (e.g. comma or semicolon). Must be in parentheses; this is required to enable providing a comma as separator. </p></li>
<li><p><strong>...</strong> – Variable argument list. The macro <code class="docutils literal notranslate"><span class="pre">F</span></code> is invoked as <code class="docutils literal notranslate"><span class="pre">F(index,</span> <span class="pre">element)</span></code> for each element in the list. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FOR_EACH_FIXED_ARG">
<span class="target" id="group__sys-util_1ga1a2b2aa21d7cc37f33e6a62abd2ae340"></span><span class="sig-name descname"><span class="n"><span class="pre">FOR_EACH_FIXED_ARG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">F</span></span>, <span class="n"><span class="pre">sep</span></span>, <span class="n"><span class="pre">fixed_arg</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FOR_EACH_FIXED_ARG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Call macro <code class="docutils literal notranslate"><span class="pre">F</span></code> on each provided argument, with an additional fixed argument as a parameter. </p>
<p>This is like <a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref">FOR_EACH()</span></a>, except <code class="docutils literal notranslate"><span class="pre">F</span></code> should be a macro which takes two arguments: <code class="docutils literal notranslate"><span class="pre">F(variable_arg,</span> <span class="pre">fixed_arg)</span></code>.</p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">void</span> <span class="n">func</span><span class="p">(</span><span class="nb">int</span> <span class="n">val</span><span class="p">,</span> <span class="n">void</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="n">FOR_EACH_FIXED_ARG</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="p">(;),</span> <span class="n">dev</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
</pre></div>
</div>
 This expands to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">dev</span><span class="p">);</span>
<span class="n">func</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">dev</span><span class="p">);</span>
<span class="n">func</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">dev</span><span class="p">);</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> – Macro to invoke </p></li>
<li><p><strong>sep</strong> – Separator (e.g. comma or semicolon). Must be in parentheses; this is required to enable providing a comma as separator. </p></li>
<li><p><strong>fixed_arg</strong> – Fixed argument passed to <code class="docutils literal notranslate"><span class="pre">F</span></code> as the second macro parameter. </p></li>
<li><p><strong>...</strong> – Variable argument list. The macro <code class="docutils literal notranslate"><span class="pre">F</span></code> is invoked as <code class="docutils literal notranslate"><span class="pre">F(element,</span> <span class="pre">fixed_arg)</span></code> for each element in the list. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FOR_EACH_IDX_FIXED_ARG">
<span class="target" id="group__sys-util_1ga2ab7377f5493123ffd29ebd1286457a9"></span><span class="sig-name descname"><span class="n"><span class="pre">FOR_EACH_IDX_FIXED_ARG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">F</span></span>, <span class="n"><span class="pre">sep</span></span>, <span class="n"><span class="pre">fixed_arg</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FOR_EACH_IDX_FIXED_ARG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Calls macro <code class="docutils literal notranslate"><span class="pre">F</span></code> for each variable argument with an index and fixed argument. </p>
<p>This is like the combination of <a class="reference internal" href="#group__sys-util_1ga069f709e18eeafb8d276b5ff4fc09d31"><span class="std std-ref">FOR_EACH_IDX()</span></a> with <a class="reference internal" href="#group__sys-util_1ga1a2b2aa21d7cc37f33e6a62abd2ae340"><span class="std std-ref">FOR_EACH_FIXED_ARG()</span></a>.</p>
<p>Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define F(idx, x, fixed_arg) int fixed_arg##idx = x</span>
<span class="n">FOR_EACH_IDX_FIXED_ARG</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="p">(;),</span> <span class="n">a</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
</pre></div>
</div>
 This expands to: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">a0</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">a1</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">a2</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> – Macro to invoke </p></li>
<li><p><strong>sep</strong> – Separator (e.g. comma or semicolon). Must be in parentheses; This is required to enable providing a comma as separator. </p></li>
<li><p><strong>fixed_arg</strong> – Fixed argument passed to <code class="docutils literal notranslate"><span class="pre">F</span></code> as the third macro parameter. </p></li>
<li><p><strong>...</strong> – Variable list of arguments. The macro <code class="docutils literal notranslate"><span class="pre">F</span></code> is invoked as <code class="docutils literal notranslate"><span class="pre">F(index,</span> <span class="pre">element,</span> <span class="pre">fixed_arg)</span></code> for each element in the list. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.REVERSE_ARGS">
<span class="target" id="group__sys-util_1ga58de032c2ed7b4094c447c512dfd3784"></span><span class="sig-name descname"><span class="n"><span class="pre">REVERSE_ARGS</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.REVERSE_ARGS" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reverse arguments order. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – Variable argument list. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NUM_VA_ARGS_LESS_1">
<span class="target" id="group__sys-util_1ga8a0e9835e0a8f864ffc2359b9c419cc2"></span><span class="sig-name descname"><span class="n"><span class="pre">NUM_VA_ARGS_LESS_1</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NUM_VA_ARGS_LESS_1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of arguments in the variable arguments list minus one. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – List of arguments </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of variadic arguments in the argument list, minus one </p>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MACRO_MAP_CAT">
<span class="target" id="group__sys-util_1gaf82371bd6bf317add5276fc6cbd66662"></span><span class="sig-name descname"><span class="n"><span class="pre">MACRO_MAP_CAT</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MACRO_MAP_CAT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Mapping macro that pastes results together. </p>
<p>This is similar to <a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref">FOR_EACH()</span></a> in that it invokes a macro repeatedly on each element of <code class="docutils literal notranslate"></code>. However, unlike <a class="reference internal" href="#group__sys-util_1ga278c8b7cbbea2f585e371d3568f3cb12"><span class="std std-ref">FOR_EACH()</span></a>, <a class="reference internal" href="#group__sys-util_1gaf82371bd6bf317add5276fc6cbd66662"><span class="std std-ref">MACRO_MAP_CAT()</span></a> pastes the results together into a single token.</p>
<p>For example, with this macro FOO: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define FOO(x) item_##x##_</span>
</pre></div>
</div>
 <code class="docutils literal notranslate"><a class="reference internal" href="#group__sys-util_1gaf82371bd6bf317add5276fc6cbd66662"><span class="std std-ref"><span class="pre">MACRO_MAP_CAT(FOO,</span> <span class="pre">a,</span> <span class="pre">b,</span> <span class="pre">c)</span></span></a><span class="pre">,</span></code> expands to the token: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">item_a_item_b_item_c_</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – Macro to expand on each argument, followed by its arguments. (The macro should take exactly one argument.) </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The results of expanding the macro on each argument, all pasted together </p>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MACRO_MAP_CAT_N">
<span class="target" id="group__sys-util_1ga58eba1f911e21da46b8beea264934d55"></span><span class="sig-name descname"><span class="n"><span class="pre">MACRO_MAP_CAT_N</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">N</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MACRO_MAP_CAT_N" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Mapping macro that pastes a fixed number of results together. </p>
<p>Similar to <a class="reference internal" href="#group__sys-util_1gaf82371bd6bf317add5276fc6cbd66662"><span class="std std-ref">MACRO_MAP_CAT()</span></a>, but expects a fixed number of arguments. If more arguments are given than are expected, the rest are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> – Number of arguments to map </p></li>
<li><p><strong>...</strong> – Macro to expand on each argument, followed by its arguments. (The macro should take exactly one argument.) </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The results of expanding the macro on each argument, all pasted together </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.is_power_of_two">
<span class="target" id="group__sys-util_1gadfe7046eb6c39bb3c84c18d8ac7a230e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_power_of_two</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.is_power_of_two" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Is <code class="docutils literal notranslate"><span class="pre">x</span></code> a power of two? </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – value to check </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a power of two, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.arithmetic_shift_right">
<span class="target" id="group__sys-util_1ga1ffeb18b8ed73d37c2485c82988ed1ec"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">arithmetic_shift_right</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">shift</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.arithmetic_shift_right" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Arithmetic shift right. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – value to shift </p></li>
<li><p><strong>shift</strong> – number of bits to shift </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">value</span></code> shifted right by <code class="docutils literal notranslate"><span class="pre">shift</span></code>; opened bit positions are filled with the sign bit </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bytecpy">
<span class="target" id="group__sys-util_1ga3379c356de17dbeebfa7588d8c964d5e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bytecpy</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dst</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">src</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bytecpy" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>byte by byte memcpy. </p>
<p>Copy <code class="docutils literal notranslate"><span class="pre">size</span></code> bytes of <code class="docutils literal notranslate"><span class="pre">src</span></code> into <code class="docutils literal notranslate"><span class="pre">dest</span></code>. This is guaranteed to be done byte by byte.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dst</strong> – Pointer to the destination memory. </p></li>
<li><p><strong>src</strong> – Pointer to the source of the data. </p></li>
<li><p><strong>size</strong> – The number of bytes to copy. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.byteswp">
<span class="target" id="group__sys-util_1ga8624d1e5411703deac1ab8517f132d7b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">byteswp</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">b</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.byteswp" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>byte by byte swap. </p>
<p>Swap <em>size</em> bytes between memory regions <em>a</em> and <em>b</em>. This is guaranteed to be done byte by byte.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – Pointer to the the first memory region. </p></li>
<li><p><strong>b</strong> – Pointer to the the second memory region. </p></li>
<li><p><strong>size</strong> – The number of bytes to swap. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.char2hex">
<span class="target" id="group__sys-util_1gaaf91757f6fe86ab417536d5066ce14e6"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">char2hex</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.char2hex" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert a single character into a hexadecimal nibble. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – The character to convert </p></li>
<li><p><strong>x</strong> – The address of storage for the converted number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.hex2char">
<span class="target" id="group__sys-util_1ga9ed3bd04d5c0797aebf333733913028c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hex2char</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">x</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.hex2char" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert a single hexadecimal nibble into a character. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – The number to convert </p></li>
<li><p><strong>x</strong> – The address of storage for the converted character.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success or (negative) error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bin2hex">
<span class="target" id="group__sys-util_1gaf8f2ab98cc3f045ba834dbbb13a5dfd7"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bin2hex</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">buflen</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">hex</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">hexlen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bin2hex" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert a binary array into string representation. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buf</strong> – The binary array to convert </p></li>
<li><p><strong>buflen</strong> – The length of the binary array to convert </p></li>
<li><p><strong>hex</strong> – Address of where to store the string representation. </p></li>
<li><p><strong>hexlen</strong> – Size of the storage area for string representation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The length of the converted string, or 0 if an error occurred. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.hex2bin">
<span class="target" id="group__sys-util_1ga269a01ffa3f1a3485b79d8a54a78a3f1"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hex2bin</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">hex</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">hexlen</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">buflen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.hex2bin" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert a hexadecimal string into a binary array. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hex</strong> – The hexadecimal string to convert </p></li>
<li><p><strong>hexlen</strong> – The length of the hexadecimal string to convert. </p></li>
<li><p><strong>buf</strong> – Address of where to store the binary data </p></li>
<li><p><strong>buflen</strong> – Size of the storage area for binary data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The length of the binary array, or 0 if an error occurred. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bcd2bin">
<span class="target" id="group__sys-util_1gaa0f77b877eb5db5a228b79cba110abe4"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bcd2bin</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">bcd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bcd2bin" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert a binary coded decimal (BCD 8421) value to binary. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcd</strong> – BCD 8421 value to convert.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Binary representation of input value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.bin2bcd">
<span class="target" id="group__sys-util_1ga6dff7f443aa795258c64cee63b29b591"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bin2bcd</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">bin</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bin2bcd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert a binary value to binary coded decimal (BCD 8421). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bin</strong> – Binary value to convert.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BCD 8421 representation of input value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.u8_to_dec">
<span class="target" id="group__sys-util_1gabd42323692821c970e1038879f8f2f33"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">u8_to_dec</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">buflen</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.u8_to_dec" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert a uint8_t into a decimal string representation. </p>
<p>Convert a uint8_t value into its ASCII decimal string representation. The string is terminated if there is enough space in buf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buf</strong> – Address of where to store the string representation. </p></li>
<li><p><strong>buflen</strong> – Size of the storage area for string representation. </p></li>
<li><p><strong>value</strong> – The value to convert to decimal string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The length of the converted string (excluding terminator if any), or 0 if an error occurred. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.utf8_trunc">
<span class="target" id="group__sys-util_1ga1bbcfa5d7bfe757afab489d2ce41e30a"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">utf8_trunc</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">utf8_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.utf8_trunc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Properly truncate a NULL-terminated UTF-8 string. </p>
<p>Take a NULL-terminated UTF-8 string and ensure that if the string has been truncated (by setting the NULL terminator) earlier by other means, that the string ends with a properly formatted UTF-8 character (1-4 bytes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>utf8_str</strong> – NULL-terminated string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pointer to the <code class="docutils literal notranslate"><span class="pre">utf8_str</span></code> </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.utf8_lcpy">
<span class="target" id="group__sys-util_1ga376935d7e6eece7dbdd382de057ec2f9"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">utf8_lcpy</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dst</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">src</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">n</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.utf8_lcpy" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Copies a UTF-8 encoded string from <code class="docutils literal notranslate"><span class="pre">src</span></code> to <code class="docutils literal notranslate"><span class="pre">dst</span></code>. </p>
<p>The resulting <code class="docutils literal notranslate"><span class="pre">dst</span></code> will always be NULL terminated, and the <code class="docutils literal notranslate"><span class="pre">dst</span></code> string will always be properly UTF-8 truncated.</p>
<p>
return Pointer to the <code class="docutils literal notranslate"><span class="pre">dst</span></code> </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dst</strong> – The destination of the UTF-8 string. </p></li>
<li><p><strong>src</strong> – The source string </p></li>
<li><p><strong>n</strong> – The size of the <code class="docutils literal notranslate"><span class="pre">dst</span></code> buffer. Shall not be 0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>