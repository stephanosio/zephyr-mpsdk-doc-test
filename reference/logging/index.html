<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Logging &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Memory Management" href="../memory_management/index.html" />
    <link rel="prev" title="C standard library" href="../libc/index.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libc/index.html">C standard library</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#global-kconfig-options">Global Kconfig Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#logging-in-a-module">Logging in a module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging-in-a-module-instance">Logging in a module instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#controlling-the-logging">Controlling the logging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#logging-panic">Logging panic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#architecture">Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-frontend">Default Frontend</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-frontend">Custom Frontend</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging-strings">Logging strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging-backends">Logging backends</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dictionary-based-logging">Dictionary-based Logging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#limitations-and-recommendations">Limitations and recommendations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">Logging v1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">Logging v2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#benchmark">Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#logger-api">Logger API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logger-control">Logger control</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-message">Log message</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logger-backend-interface">Logger backend interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logger-output-formatting">Logger output formatting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modbus/index.html">Modbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">Peripherals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usermode/index.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">API Reference</a> &raquo;</li>
  
  <li>Logging</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/logging/index.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="logging">
<span id="logging-api"></span><h1>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#global-kconfig-options" id="id18">Global Kconfig Options</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id19">Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#logging-in-a-module" id="id20">Logging in a module</a></p></li>
<li><p><a class="reference internal" href="#logging-in-a-module-instance" id="id21">Logging in a module instance</a></p></li>
<li><p><a class="reference internal" href="#controlling-the-logging" id="id22">Controlling the logging</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#logging-panic" id="id23">Logging panic</a></p></li>
<li><p><a class="reference internal" href="#architecture" id="id24">Architecture</a></p>
<ul>
<li><p><a class="reference internal" href="#default-frontend" id="id25">Default Frontend</a></p></li>
<li><p><a class="reference internal" href="#custom-frontend" id="id26">Custom Frontend</a></p></li>
<li><p><a class="reference internal" href="#logging-strings" id="id27">Logging strings</a></p></li>
<li><p><a class="reference internal" href="#logging-backends" id="id28">Logging backends</a></p></li>
<li><p><a class="reference internal" href="#dictionary-based-logging" id="id29">Dictionary-based Logging</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#limitations-and-recommendations" id="id30">Limitations and recommendations</a></p>
<ul>
<li><p><a class="reference internal" href="#id9" id="id31">Logging v1</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id32">Logging v2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#benchmark" id="id33">Benchmark</a></p></li>
<li><p><a class="reference internal" href="#api-reference" id="id34">API Reference</a></p>
<ul>
<li><p><a class="reference internal" href="#logger-api" id="id35">Logger API</a></p></li>
<li><p><a class="reference internal" href="#logger-control" id="id36">Logger control</a></p></li>
<li><p><a class="reference internal" href="#log-message" id="id37">Log message</a></p></li>
<li><p><a class="reference internal" href="#logger-backend-interface" id="id38">Logger backend interface</a></p></li>
<li><p><a class="reference internal" href="#logger-output-formatting" id="id39">Logger output formatting</a></p></li>
</ul>
</li>
</ul>
</div>
<p>The logging API provides a common interface to process messages issued by
developers. Messages are passed through a frontend and are then
processed by active backends.
Custom frontend and backends can be used if needed.
Default configuration uses built-in frontend and UART backend.</p>
<p>Summary of the logging features:</p>
<ul class="simple">
<li><p>Deferred logging reduces the time needed to log a message by shifting time
consuming operations to a known context instead of processing and sending
the log message when called.</p></li>
<li><p>Multiple backends supported (up to 9 backends).</p></li>
<li><p>Custom frontend supported.</p></li>
<li><p>Compile time filtering on module level.</p></li>
<li><p>Run time filtering independent for each backend.</p></li>
<li><p>Additional run time filtering on module instance level.</p></li>
<li><p>Timestamping with user provided function.</p></li>
<li><p>Dedicated API for dumping data.</p></li>
<li><p>Dedicated API for handling transient strings.</p></li>
<li><p>Panic support - in panic mode logging switches to blocking, synchronous
processing.</p></li>
<li><p>Printk support - printk message can be redirected to the logging.</p></li>
<li><p>Design ready for multi-domain/multi-processor system.</p></li>
</ul>
<p>Logging v2 introduces following changes:</p>
<ul class="simple">
<li><p>Option to use 64 bit timestamp</p></li>
<li><p>Support for logging floating point variables</p></li>
<li><p>Support for logging variables extending size of a machine word (64 bit values
on 32 bit architectures)</p></li>
<li><p>Remove the need for special treatment of <code class="docutils literal notranslate"><span class="pre">%s</span></code> format specifier</p></li>
<li><p>Extend API for dumping data to accept formatted string</p></li>
<li><p>Improve memory utilization. More log messages fit in the logging buffer in
deferred mode.</p></li>
<li><p>Log message is no longer fragmented. It is self-contained block of memory which
simplifies out of domain handling (e.g. offline processing)</p></li>
<li><p>Improved performance when logging from user space</p></li>
<li><p>Improved performance when logging to full buffer and message are dropped.</p></li>
<li><p>Slightly degrade performance in normal circumstances due to the fact that
allocation from ring buffer is more complex than from memslab.</p></li>
<li><p>No change in logging API</p></li>
<li><p>Logging backend API exteded with function for processing v2 messages.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Logging v1 is deprecated! Version 2 supports same set of features with extensions
listed above. However, logging backend API is different. All backends in
the tree support version 2 API. Any custom backend must be adapted to version 2.
Version 1 support will be removed after 3.1 release.</p>
</div>
<p>Logging API is highly configurable at compile time as well as at run time. Using
Kconfig options (see <a class="reference internal" href="#logging-kconfig"><span class="std std-ref">Global Kconfig Options</span></a>) logs can be gradually removed from
compilation to reduce image size and execution time when logs are not needed.
During compilation logs can be filtered out on module basis and severity level.</p>
<p>Logs can also be compiled in but filtered on run time using dedicate API. Run
time filtering is independent for each backend and each source of log messages.
Source of log messages can be a module or specific instance of the module.</p>
<p>There are four severity levels available in the system: error, warning, info
and debug. For each severity level the logging API (<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/logging/log.h">include/logging/log.h</a>)
has set of dedicated macros. Logger API also has macros for logging data.</p>
<p>For each level following set of macros are available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LOG_X</span></code> for standard printf-like messages, e.g. <a class="reference internal" href="#c.LOG_ERR" title="LOG_ERR"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_ERR</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOG_HEXDUMP_X</span></code> for dumping data, e.g. <a class="reference internal" href="#c.LOG_HEXDUMP_WRN" title="LOG_HEXDUMP_WRN"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_HEXDUMP_WRN</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOG_INST_X</span></code> for standard printf-like message associated with the
particular instance, e.g. <a class="reference internal" href="#c.LOG_INST_INF" title="LOG_INST_INF"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_INST_INF</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOG_INST_HEXDUMP_X</span></code> for dumping data associated with the particular
instance, e.g. <code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_HEXDUMP_INST_DBG</span></code></p></li>
</ul>
<p>There are two configuration categories: configurations per module and global
configuration. When logging is enabled globally, it works for modules. However,
modules can disable logging locally. Every module can specify its own logging
level. The module must define the <code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_LEVEL</span></code> macro before using the
API. Unless a global override is set, the module logging level will be honored.
The global override can only increase the logging level. It cannot be used to
lower module logging levels that were previously set higher. It is also possible
to globally limit logs by providing maximal severity level present in the
system, where maximal means lowest severity (e.g. if maximal level in the system
is set to info, it means that errors, warnings and info levels are present but
debug messages are excluded).</p>
<p>Each module which is using the logging must specify its unique name and
register itself to the logging. If module consists of more than one file,
registration is performed in one file but each file must define a module name.</p>
<p>Logger’s default frontend is designed to be thread safe and minimizes time needed
to log the message. Time consuming operations like string formatting or access to the
transport are not performed by default when logging API is called. When logging
API is called a message is created and added to the list. Dedicated,
configurable buffer for pool of log messages is used. There are 2 types of messages:
standard and hexdump. Each message contain source ID (module or instance ID and
domain ID which might be used for multiprocessor systems), timestamp and
severity level. Standard message contains pointer to the string and arguments.
Hexdump message contains copied data and string.</p>
<div class="section" id="global-kconfig-options">
<span id="logging-kconfig"></span><h2><a class="toc-backref" href="#id18">Global Kconfig Options</a><a class="headerlink" href="#global-kconfig-options" title="Permalink to this headline">¶</a></h2>
<p>These options can be found in the following path <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/subsys/logging/Kconfig">subsys/logging/Kconfig</a>.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG</span></code></a>: Global switch, turns on/off the logging.</p>
<p>Mode of operations:</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_MODE_DEFERRED"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_MODE_DEFERRED</span></code></a>: Deferred mode.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_MODE_IMMEDIATE"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_MODE_IMMEDIATE</span></code></a>: Immediate (synchronous) mode.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_MODE_MINIMAL"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_MODE_MINIMAL</span></code></a>: Minimal footprint mode.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG1"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG1</span></code></a>: Use deprecated version of logging.</p>
<p>Filtering options:</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_RUNTIME_FILTERING"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_RUNTIME_FILTERING</span></code></a>: Enables runtime reconfiguration of the
filtering.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_DEFAULT_LEVEL"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_DEFAULT_LEVEL</span></code></a>: Default level, sets the logging level
used by modules that are not setting their own logging level.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_OVERRIDE_LEVEL"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_OVERRIDE_LEVEL</span></code></a>: It overrides module logging level when
it is not set or set lower than the override value.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_MAX_LEVEL"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_MAX_LEVEL</span></code></a>: Maximal (lowest severity) level which is
compiled in.</p>
<p>Processing options:</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_MODE_OVERFLOW"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_MODE_OVERFLOW</span></code></a>: When new message cannot be allocated,
oldest one are discarded.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BLOCK_IN_THREAD"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BLOCK_IN_THREAD</span></code></a>: If enabled and new log message cannot
be allocated thread context will block for up to
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BLOCK_IN_THREAD_TIMEOUT_MS"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BLOCK_IN_THREAD_TIMEOUT_MS</span></code></a> or until log message is
allocated.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_PRINTK"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_PRINTK</span></code></a>: Redirect printk calls to the logging.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_PRINTK_MAX_STRING_LENGTH"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_PRINTK_MAX_STRING_LENGTH</span></code></a>: Maximal string length that can
be processed by printk. Longer strings are trimmed.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_PROCESS_TRIGGER_THRESHOLD"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_PROCESS_TRIGGER_THRESHOLD</span></code></a>: When number of buffered log
messages reaches the threshold dedicated thread (see <a class="reference internal" href="#c.log_thread_set" title="log_thread_set"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_thread_set()</span></code></a>)
is waken up. If <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_PROCESS_THREAD"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_PROCESS_THREAD</span></code></a> is enabled then this
threshold is used by the internal thread.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_PROCESS_THREAD"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_PROCESS_THREAD</span></code></a>: When enabled, logging thread is created
which handles log processing.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_PROCESS_THREAD_STARTUP_DELAY_MS"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_PROCESS_THREAD_STARTUP_DELAY_MS</span></code></a>: Delay in milliseconds
after which logging thread is started.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BUFFER_SIZE"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BUFFER_SIZE</span></code></a>: Number of bytes dedicated for the message pool.
Single message capable of storing standard log with up to 3 arguments or hexdump
message with 12 bytes of data take 32 bytes. In v2 it indicates buffer size
dedicated for circular packet buffer.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_DETECT_MISSED_STRDUP"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_DETECT_MISSED_STRDUP</span></code></a>: Enable detection of missed transient
strings handling.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_STRDUP_MAX_STRING"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_STRDUP_MAX_STRING</span></code></a>: Longest string that can be duplicated
using log_strdup().</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_STRDUP_BUF_COUNT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_STRDUP_BUF_COUNT</span></code></a>: Number of buffers in the pool used by
log_strdup().</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_DOMAIN_ID"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_DOMAIN_ID</span></code></a>: Domain ID. Valid in multi-domain systems.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_FRONTEND"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_FRONTEND</span></code></a>: Redirect logs to a custom frontend.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_TIMESTAMP_64BIT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_TIMESTAMP_64BIT</span></code></a>: 64 bit timestamp.</p>
<p>Formatting options:</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_FUNC_NAME_PREFIX_ERR"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_FUNC_NAME_PREFIX_ERR</span></code></a>: Prepend standard ERROR log messages
with function name. Hexdump messages are not prepended.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_FUNC_NAME_PREFIX_WRN"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_FUNC_NAME_PREFIX_WRN</span></code></a>: Prepend standard WARNING log messages
with function name. Hexdump messages are not prepended.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_FUNC_NAME_PREFIX_INF"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_FUNC_NAME_PREFIX_INF</span></code></a>: Prepend standard INFO log messages
with function name. Hexdump messages are not prepended.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_FUNC_NAME_PREFIX_DBG"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_FUNC_NAME_PREFIX_DBG</span></code></a>: Prepend standard DEBUG log messages
with function name. Hexdump messages are not prepended.</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BACKEND_SHOW_COLOR"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_SHOW_COLOR</span></code></a>: Enables coloring of errors (red)
and warnings (yellow).</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BACKEND_FORMAT_TIMESTAMP"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_FORMAT_TIMESTAMP</span></code></a>: If enabled timestamp is
formatted to <em>hh:mm:ss:mmm,uuu</em>. Otherwise is printed in raw format.</p>
<p>Backend options:</p>
<p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BACKEND_UART"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_UART</span></code></a>: Enabled build-in UART backend.</p>
</div>
<div class="section" id="usage">
<span id="log-usage"></span><h2><a class="toc-backref" href="#id19">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="logging-in-a-module">
<h3><a class="toc-backref" href="#id20">Logging in a module</a><a class="headerlink" href="#logging-in-a-module" title="Permalink to this headline">¶</a></h3>
<p>In order to use logging in the module, a unique name of a module must be
specified and module must be registered using <a class="reference internal" href="#c.LOG_MODULE_REGISTER" title="LOG_MODULE_REGISTER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_MODULE_REGISTER</span></code></a>.
Optionally, a compile time log level for the module can be specified as the
second parameter. Default log level (<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_DEFAULT_LEVEL"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_DEFAULT_LEVEL</span></code></a>) is used
if custom log level is not provided.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;logging/log.h&gt;</span><span class="cp"></span>
<span class="n">LOG_MODULE_REGISTER</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">CONFIG_FOO_LOG_LEVEL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>If the module consists of multiple files, then <code class="docutils literal notranslate"><span class="pre">LOG_MODULE_REGISTER()</span></code> should
appear in exactly one of them. Each other file should use
<a class="reference internal" href="#c.LOG_MODULE_DECLARE" title="LOG_MODULE_DECLARE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_MODULE_DECLARE</span></code></a> to declare its membership in the module.
Optionally, a compile time log level for the module can be specified as
the second parameter. Default log level (<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_DEFAULT_LEVEL"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_DEFAULT_LEVEL</span></code></a>)
is used if custom log level is not provided.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;logging/log.h&gt;</span><span class="cp"></span>
<span class="cm">/* In all files comprising the module but one */</span><span class="w"></span>
<span class="n">LOG_MODULE_DECLARE</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">CONFIG_FOO_LOG_LEVEL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>In order to use logging API in a function implemented in a header file
<a class="reference internal" href="#c.LOG_MODULE_DECLARE" title="LOG_MODULE_DECLARE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_MODULE_DECLARE</span></code></a> macro must be used in the function body
before logging API is called. Optionally, a compile time log level for the module
can be specified as the second parameter. Default log level
(<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_DEFAULT_LEVEL"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_DEFAULT_LEVEL</span></code></a>) is used if custom log level is not
provided.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;logging/log.h&gt;</span><span class="cp"></span>

<span class="k">static</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="n">LOG_MODULE_DECLARE</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">CONFIG_FOO_LOG_LEVEL</span><span class="p">);</span><span class="w"></span>

<span class="w">     </span><span class="n">LOG_INF</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Dedicated Kconfig template (<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/subsys/logging/Kconfig.template.log_config">subsys/logging/Kconfig.template.log_config</a>)
can be used to create local log level configuration.</p>
<p>Example below presents usage of the template. As a result CONFIG_FOO_LOG_LEVEL
will be generated:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>module = FOO
module-str = foo
source &quot;subsys/logging/Kconfig.template.log_config&quot;
</pre></div>
</div>
</div>
<div class="section" id="logging-in-a-module-instance">
<h3><a class="toc-backref" href="#id21">Logging in a module instance</a><a class="headerlink" href="#logging-in-a-module-instance" title="Permalink to this headline">¶</a></h3>
<p>In case of modules which are multi-instance and instances are widely used
across the system enabling logs will lead to flooding. Logger provide the tools
which can be used to provide filtering on instance level rather than module
level. In that case logging can be enabled for particular instance.</p>
<p>In order to use instance level filtering following steps must be performed:</p>
<ul class="simple">
<li><p>a pointer to specific logging structure is declared in instance structure.
<code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_INSTANCE_PTR_DECLARE</span></code> is used for that.</p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;logging/log_instance.h&gt;</span><span class="cp"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">foo_object</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="n">LOG_INSTANCE_PTR_DECLARE</span><span class="p">(</span><span class="n">log</span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>module must provide macro for instantiation. In that macro, logging instance
is registered and log instance pointer is initialized in the object structure.</p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define FOO_OBJECT_DEFINE(_name)                             \</span>
<span class="cp">     LOG_INSTANCE_REGISTER(foo, _name, CONFIG_FOO_LOG_LEVEL) \</span>
<span class="cp">     struct foo_object _name = {                             \</span>
<span class="cp">             LOG_INSTANCE_PTR_INIT(log, foo, _name)          \</span>
<span class="cp">     }</span>
</pre></div>
</div>
<p>Note that when logging is disabled logging instance and pointer to that instance
are not created.</p>
<p>In order to use the instance logging API in a source file, a compile-time log
level must be set using <a class="reference internal" href="#c.LOG_LEVEL_SET" title="LOG_LEVEL_SET"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_LEVEL_SET</span></code></a>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">LOG_LEVEL_SET</span><span class="p">(</span><span class="n">CONFIG_FOO_LOG_LEVEL</span><span class="p">);</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">foo_init</span><span class="p">(</span><span class="n">foo_object</span><span class="w"> </span><span class="o">*</span><span class="n">f</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="n">LOG_INST_INF</span><span class="p">(</span><span class="n">f</span><span class="o">-&gt;</span><span class="n">log</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Initialized.&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>In order to use the instance logging API in a header file, a compile-time log
level must be set using <a class="reference internal" href="#c.LOG_LEVEL_SET" title="LOG_LEVEL_SET"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_LEVEL_SET</span></code></a>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">foo_init</span><span class="p">(</span><span class="n">foo_object</span><span class="w"> </span><span class="o">*</span><span class="n">f</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="n">LOG_LEVEL_SET</span><span class="p">(</span><span class="n">CONFIG_FOO_LOG_LEVEL</span><span class="p">);</span><span class="w"></span>

<span class="w">     </span><span class="n">LOG_INST_INF</span><span class="p">(</span><span class="n">f</span><span class="o">-&gt;</span><span class="n">log</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Initialized.&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="controlling-the-logging">
<h3><a class="toc-backref" href="#id22">Controlling the logging</a><a class="headerlink" href="#controlling-the-logging" title="Permalink to this headline">¶</a></h3>
<p>Logging can be controlled using API defined in
<a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/logging/log_ctrl.h">include/logging/log_ctrl.h</a>. Logger must be initialized before it can be
used. Optionally, user can provide function which returns timestamp value. If
not provided, <a class="reference internal" href="../kernel/timing/clocks.html#c.k_cycle_get_32" title="k_cycle_get_32"><code class="xref c c-macro docutils literal notranslate"><span class="pre">k_cycle_get_32</span></code></a> is used for timestamping.
<a class="reference internal" href="#c.log_process" title="log_process"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_process()</span></code></a> function is used to trigger processing of one log
message (if pending). Function returns true if there is more messages pending.</p>
<p>Following snippet shows how logging can be processed in simple forever loop.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;log_ctrl.h&gt;</span><span class="cp"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="n">log_init</span><span class="p">();</span><span class="w"></span>

<span class="w">     </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log_process</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                     </span><span class="cm">/* sleep */</span><span class="w"></span>
<span class="w">             </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>If logs are processed from a thread then it is possible to enable a feature
which will wake up processing thread when certain amount of log messages are
buffered (see <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_PROCESS_TRIGGER_THRESHOLD"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_PROCESS_TRIGGER_THRESHOLD</span></code></a>). It is also
possible to enable internal logging thread (see <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_PROCESS_THREAD"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_PROCESS_THREAD</span></code></a>).
In that case, logging thread is initialized and log messages are processed implicitly.</p>
</div>
</div>
<div class="section" id="logging-panic">
<span id="id1"></span><h2><a class="toc-backref" href="#id23">Logging panic</a><a class="headerlink" href="#logging-panic" title="Permalink to this headline">¶</a></h2>
<p>In case of error condition system usually can no longer rely on scheduler or
interrupts. In that situation deferred log message processing is not an option.
Logger controlling API provides a function for entering into panic mode
(<a class="reference internal" href="#c.log_panic" title="log_panic"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_panic()</span></code></a>) which should be called in such situation.</p>
<p>When <a class="reference internal" href="#c.log_panic" title="log_panic"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_panic()</span></code></a> is called, _panic_ notification is sent to all active
backends. Once all backends are notified, all buffered messages are flushed. Since
that moment all logs are processed in a blocking way.</p>
</div>
<div class="section" id="architecture">
<span id="log-architecture"></span><h2><a class="toc-backref" href="#id24">Architecture</a><a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h2>
<p>Logging consists of 3 main parts:</p>
<ul class="simple">
<li><p>Frontend</p></li>
<li><p>Core</p></li>
<li><p>Backends</p></li>
</ul>
<p>Log message is generated by a source of logging which can be a module or
instance of a module.</p>
<div class="section" id="default-frontend">
<h3><a class="toc-backref" href="#id25">Default Frontend</a><a class="headerlink" href="#default-frontend" title="Permalink to this headline">¶</a></h3>
<p>Default frontend is engaged when logging API is called in a source of logging (e.g.
<a class="reference internal" href="#c.LOG_INF" title="LOG_INF"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_INF</span></code></a>) and is responsible for filtering a message (compile and run
time), allocating buffer for the message, creating the message and committing that
message. Since logging API can be called in an interrupt, frontend is optimized
to log the message as fast as possible.</p>
<div class="section" id="log-message-v1">
<h4>Log message v1<a class="headerlink" href="#log-message-v1" title="Permalink to this headline">¶</a></h4>
<p>Each log message consists of one or more fixed size chunks allocated from the
pool of fixed size buffers (<a class="reference internal" href="../kernel/memory/slabs.html#memory-slabs-v2"><span class="std std-ref">Memory Slabs</span></a>). Message head chunk
contains log entry details like: source ID, timestamp, severity level and the
data (string pointer and arguments or raw data). Message contains also a
reference counter which indicates how many users still uses this message. It is
used to return message to the pool once last user indicates that it can be
freed. If more than 3 arguments or 12 bytes of raw data is used in the log then
log message is formed from multiple chunks which are linked together. When
message body is filled it is put into the list.
When log processing is triggered, a message is removed from the list of pending
messages. If runtime filtering is disabled, the message is passed to all
active backends, otherwise the message is passed to only those backends that
have requested messages from that particular source (based on the source ID in
the message), and severity level. Once all backends are iterated, the message
is considered processed, but the message may still be in use by a backend.
Because message is allocated from a pool, it is not mandatory to sequentially
free messages. Processing by the backends is asynchronous and memory is freed
when last user indicates that message can be freed. It also means that improper
backend implementation may lead to pool drought.</p>
</div>
<div class="section" id="log-message-v2">
<h4>Log message v2<a class="headerlink" href="#log-message-v2" title="Permalink to this headline">¶</a></h4>
<p>Log message v2 contains message descriptor (source, domain and level), timestamp,
formatted string details (see <a class="reference internal" href="../misc/formatted_output.html#cbprintf-packaging"><span class="std std-ref">Cbprintf Packaging</span></a>) and optional data.
Log messages v2 are stored in a continuous block of memory (contrary to v1).
Memory is allocated from a circular packet buffer (<a class="reference internal" href="../data_structures/mpsc_pbuf.html#mpsc-pbuf"><span class="std std-ref">Multi Producer Single Consumer Packet Buffer</span></a>). It has
few consequences:</p>
<blockquote>
<div><ul class="simple">
<li><p>Each message is self-contained, continuous block of memory thus it is suited
for copying the message (e.g. for offline processing).</p></li>
<li><p>Memory is better utilized because fixed size chunks are not used.</p></li>
<li><p>Messages must be sequentially freed. Backend processing is synchronous. Backend
can make a copy for deferred processing.</p></li>
</ul>
</div></blockquote>
<p>Log message has following format:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td rowspan="10"><p>Message Header</p></td>
<td><p>2 bits: MPSC packet buffer header</p></td>
</tr>
<tr class="row-even"><td><p>1 bit: Trace/Log message flag</p></td>
</tr>
<tr class="row-odd"><td><p>3 bits: Domain ID</p></td>
</tr>
<tr class="row-even"><td><p>3 bits: Level</p></td>
</tr>
<tr class="row-odd"><td><p>10 bits: Cbprintf Package Length</p></td>
</tr>
<tr class="row-even"><td><p>12 bits: Data length</p></td>
</tr>
<tr class="row-odd"><td><p>1 bit: Reserved</p></td>
</tr>
<tr class="row-even"><td><p>pointer: Pointer to the source descriptor <a class="footnote-reference brackets" href="#l0" id="id2">1</a></p></td>
</tr>
<tr class="row-odd"><td><p>32 or 64 bits: Timestamp <a class="footnote-reference brackets" href="#l0" id="id3">1</a></p></td>
</tr>
<tr class="row-even"><td><p>Optional padding <a class="footnote-reference brackets" href="#l1" id="id4">2</a></p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>Cbprintf</p>
<div class="line-block">
<div class="line">package</div>
<div class="line">(optional)</div>
</div>
</td>
<td><p>Header</p></td>
</tr>
<tr class="row-even"><td><p>Arguments</p></td>
</tr>
<tr class="row-odd"><td><p>Appended strings</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Hexdump data (optional)</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Alignment padding (optional)</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="l0"><span class="brackets">1</span><span class="fn-backref">(<a href="#id2">1</a>,<a href="#id3">2</a>)</span></dt>
<dd><p>Depending on the platform and the timestamp size fields may be swapped.</p>
</dd>
<dt class="label" id="l1"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd><p>It may be required for cbprintf package alignment</p>
</dd>
</dl>
</div>
<div class="section" id="log-message-allocation">
<h4>Log message allocation<a class="headerlink" href="#log-message-allocation" title="Permalink to this headline">¶</a></h4>
<p>It may happen that frontend cannot allocate a message. It happens if system is
generating more log messages than it can process in certain time frame. There
are two strategies to handle that case:</p>
<ul class="simple">
<li><p>No overflow - new log is dropped if space for a message cannot be allocated.</p></li>
<li><p>Overflow - oldest pending messages are freed, until new message can be
allocated. Enabled by <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_MODE_OVERFLOW"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_MODE_OVERFLOW</span></code></a>. Note that it degrades
performance thus it is recommended to adjust buffer size and amount of enabled
logs to limit dropping.</p></li>
</ul>
</div>
<div class="section" id="run-time-filtering">
<span id="logging-runtime-filtering"></span><h4>Run-time filtering<a class="headerlink" href="#run-time-filtering" title="Permalink to this headline">¶</a></h4>
<p>If run-time filtering is enabled, then for each source of logging a filter
structure in RAM is declared. Such filter is using 32 bits divided into ten 3
bit slots. Except <em>slot 0</em>, each slot stores current filter for one backend in
the system. <em>Slot 0</em> (bits 0-2) is used to aggregate maximal filter setting for
given source of logging. Aggregate slot determines if log message is created
for given entry since it indicates if there is at least one backend expecting
that log entry. Backend slots are examined when message is processed by the core
to determine if message is accepted by the given backend. Contrary to compile
time filtering, binary footprint is increased because logs are compiled in.</p>
<p>In the example below backend 1 is set to receive errors (<em>slot 1</em>) and backend
2 up to info level (<em>slot 2</em>). Slots 3-9 are not used. Aggregated filter
(<em>slot 0</em>) is set to info level and up to this level message from that
particular source will be buffered.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 14%" />
<col style="width: 17%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>slot 0</p></td>
<td><p>slot 1</p></td>
<td><p>slot 2</p></td>
<td><p>slot 3</p></td>
<td><p>…</p></td>
<td><p>slot 9</p></td>
</tr>
<tr class="row-even"><td><p>INF</p></td>
<td><p>ERR</p></td>
<td><p>INF</p></td>
<td><p>OFF</p></td>
<td><p>…</p></td>
<td><p>OFF</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="custom-frontend">
<h3><a class="toc-backref" href="#id26">Custom Frontend</a><a class="headerlink" href="#custom-frontend" title="Permalink to this headline">¶</a></h3>
<p>Custom frontend is enabled using <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_FRONTEND"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_FRONTEND</span></code></a>. Logs are redirected
to functions declared in <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/logging/log_frontend.h">include/logging/log_frontend.h</a>.
This may be required in very time-sensitive cases, but most of the logging
features cannot be used then, which includes default frontend, core and all
backends features.</p>
</div>
<div class="section" id="logging-strings">
<span id="id5"></span><h3><a class="toc-backref" href="#id27">Logging strings</a><a class="headerlink" href="#logging-strings" title="Permalink to this headline">¶</a></h3>
<div class="section" id="logging-v1">
<h4>Logging v1<a class="headerlink" href="#logging-v1" title="Permalink to this headline">¶</a></h4>
<p>Since log message contains only the value of the argument, when <code class="docutils literal notranslate"><span class="pre">%s</span></code> is used
only the address of a string is stored. Because a string variable argument could
be transient, allocated on the stack, or modifiable, logger provides a mechanism
and a dedicated buffer pool to hold copies of strings. The buffer size and count
is configurable (see <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_STRDUP_MAX_STRING"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_STRDUP_MAX_STRING</span></code></a> and
<a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_STRDUP_BUF_COUNT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_STRDUP_BUF_COUNT</span></code></a>).</p>
<p>If a string argument is transient, the user must call <a class="reference internal" href="#c.log_strdup" title="log_strdup"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_strdup()</span></code></a> to
duplicate the passed string into a buffer from the pool. See the examples below.
If a strdup buffer cannot be allocated, a warning message is logged and an error
code returned indicating <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_STRDUP_BUF_COUNT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_STRDUP_BUF_COUNT</span></code></a> should be
increased. Buffers are freed together with the log message.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w"> </span><span class="n">local_str</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">;</span><span class="w"></span>

<span class="n">LOG_INF</span><span class="p">(</span><span class="s">&quot;logging transient string: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">log_strdup</span><span class="p">(</span><span class="n">local_str</span><span class="p">));</span><span class="w"></span>
<span class="n">local_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;\0&#39;</span><span class="p">;</span><span class="w"> </span><span class="cm">/* String can be modified, logger will use duplicate.&quot;</span>
</pre></div>
</div>
<p>When <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_DETECT_MISSED_STRDUP"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_DETECT_MISSED_STRDUP</span></code></a> is enabled logger will scan
each log message and report if string format specifier is found and string
address is not in read only memory section or does not belong to memory pool
dedicated to string duplicates. It indictes that <a class="reference internal" href="#c.log_strdup" title="log_strdup"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_strdup()</span></code></a> is
missing in a call to log a message, such as <code class="docutils literal notranslate"><span class="pre">LOG_INF</span></code>.</p>
</div>
<div class="section" id="logging-v2">
<h4>Logging v2<a class="headerlink" href="#logging-v2" title="Permalink to this headline">¶</a></h4>
<p>String arguments are handled by <a class="reference internal" href="../misc/formatted_output.html#cbprintf-packaging"><span class="std std-ref">Cbprintf Packaging</span></a> thus no special action
is required.</p>
</div>
</div>
<div class="section" id="logging-backends">
<h3><a class="toc-backref" href="#id28">Logging backends</a><a class="headerlink" href="#logging-backends" title="Permalink to this headline">¶</a></h3>
<p>Logging backends are registered using <a class="reference internal" href="#c.LOG_BACKEND_DEFINE" title="LOG_BACKEND_DEFINE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">LOG_BACKEND_DEFINE</span></code></a>. The macro
creates an instance in the dedicated memory section. Backends can be dynamically
enabled (<a class="reference internal" href="#c.log_backend_enable" title="log_backend_enable"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_backend_enable()</span></code></a>) and disabled. When
<a class="reference internal" href="#logging-runtime-filtering"><span class="std std-ref">Run-time filtering</span></a> is enabled, <a class="reference internal" href="#c.log_filter_set" title="log_filter_set"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_filter_set()</span></code></a> can be used
to dynamically change filtering of a module logs for given backend. Module is
identified by source ID and domain ID. Source ID can be retrieved if source name
is known by iterating through all registered sources.</p>
<p>Logging supports up to 9 concurrent backends. Log message is passed to the
each backend in processing phase. Additionally, backend is notfied when logging
enter panic mode with <a class="reference internal" href="#c.log_backend_panic" title="log_backend_panic"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_backend_panic()</span></code></a>. On that call backend should
switch to synchronous, interrupt-less operation or shut down itself if that is
not supported.  Occasionally, logging may inform backend about number of dropped
messages with <a class="reference internal" href="#c.log_backend_dropped" title="log_backend_dropped"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_backend_dropped()</span></code></a>. Message processing API is version
specific.</p>
<div class="section" id="id6">
<h4>Logging v1<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>Logging backend interface contains following functions for processing:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.log_backend_put" title="log_backend_put"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_backend_put()</span></code></a> - backend gets log message in deferred mode.</p></li>
<li><p><a class="reference internal" href="#c.log_backend_put_sync_string" title="log_backend_put_sync_string"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_backend_put_sync_string()</span></code></a> - backend gets log message with formatted
string message in the immediate mode.</p></li>
<li><p><a class="reference internal" href="#c.log_backend_put_sync_hexdump" title="log_backend_put_sync_hexdump"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_backend_put_sync_hexdump()</span></code></a> - backend gets log message with hexdump
message in the immediate mode.</p></li>
</ul>
<p>The log message contains a reference counter tracking how many backends are
processing the message. On receiving a message backend must claim it by calling
<a class="reference internal" href="#c.log_msg_get" title="log_msg_get"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_msg_get()</span></code></a> on that message which increments a reference counter.
Once message is processed, backend puts back the message
(<a class="reference internal" href="#c.log_msg_put" title="log_msg_put"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_msg_put()</span></code></a>) decrementing a reference counter. On last
<a class="reference internal" href="#c.log_msg_put" title="log_msg_put"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_msg_put()</span></code></a>, when reference counter reaches 0, message is returned
to the pool. It is up to the backend how message is processed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The message pool can be starved if a backend does not call
<a class="reference internal" href="#c.log_msg_put" title="log_msg_put"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_msg_put()</span></code></a> when it is done processing a message. The logging
core has no means to force messages back to the pool if they’re still marked
as in use (with a non-zero reference counter).</p>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;log_backend.h&gt;</span><span class="cp"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">put</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">log_backend</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">backend</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="k">struct</span><span class="w"> </span><span class="nc">log_msg</span><span class="w"> </span><span class="o">*</span><span class="n">msg</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="n">log_msg_get</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span><span class="w"></span>

<span class="w">     </span><span class="cm">/* message processing */</span><span class="w"></span>

<span class="w">     </span><span class="n">log_msg_put</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h4>Logging v2<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="#c.log_backend_msg2_process" title="log_backend_msg2_process"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_backend_msg2_process()</span></code></a> is used for processing message. It is common for
standard and hexdump messages because log message v2 hold string with arguments
and data. It is also common for deferred and immediate logging.</p>
</div>
<div class="section" id="message-formatting">
<h4>Message formatting<a class="headerlink" href="#message-formatting" title="Permalink to this headline">¶</a></h4>
<p>Logging provides set of function that can be used by the backend to format a
message. Helper functions are available in <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/include/logging/log_output.h">include/logging/log_output.h</a>.</p>
<p>Example message formatted using <a class="reference internal" href="#c.log_output_msg_process" title="log_output_msg_process"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_output_msg_process()</span></code></a> or
<a class="reference internal" href="#c.log_output_msg2_process" title="log_output_msg2_process"><code class="xref c c-func docutils literal notranslate"><span class="pre">log_output_msg2_process()</span></code></a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[00:00:00.000,274] &lt;info&gt; sample_instance.inst1: logging message</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dictionary-based-logging">
<span id="logging-guide-dictionary"></span><h3><a class="toc-backref" href="#id29">Dictionary-based Logging</a><a class="headerlink" href="#dictionary-based-logging" title="Permalink to this headline">¶</a></h3>
<p>Dictionary-based logging, instead of human readable texts, outputs the log
messages in binary format. This binary format encodes arguments to formatted
strings in their native storage formats which can be more compact than their
text equivalents. For statically defined strings (including the format
strings and any string arguments), references to the ELF file are encoded
instead of the whole strings. A dictionary created at build time contains
the mappings between these references and the actual strings. This allows
the offline parser to obtain the strings from the dictionary to parse
the log messages. This binary format allows a more compact representation
of log messages in certain scenarios. However, this requires the use of
an offline parser and is not as intuitive to use as text-based log messages.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">double</span></code> is not supported by Python’s <code class="docutils literal notranslate"><span class="pre">struct</span></code> module.
Therefore, log messages with <code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">double</span></code> will not display the correct
values.</p>
<div class="section" id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<p>Here are kconfig options related to dictionary-based logging:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_DICTIONARY_SUPPORT"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_DICTIONARY_SUPPORT</span></code></a> enables dictionary-based logging
support. This should be selected by the backends which require it.</p></li>
<li><p>The UART backend can be used for dictionary-based logging. These are
additional config for the UART backend:</p>
<ul>
<li><p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BACKEND_UART_OUTPUT_DICTIONARY_HEX"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_UART_OUTPUT_DICTIONARY_HEX</span></code></a> tells
the UART backend to output hexadecimal characters for dictionary based
logging. This is useful when the log data needs to be captured manually
via terminals and consoles.</p></li>
<li><p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_BACKEND_UART_OUTPUT_DICTIONARY_BIN"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_UART_OUTPUT_DICTIONARY_BIN</span></code></a> tells
the UART backend to output binary data.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id8">
<h4>Usage<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>When dictionary-based logging is enabled via enabling related logging backends,
a JSON database file, named <code class="file docutils literal notranslate"><span class="pre">log_dictionary.json</span></code>, will be created
in the build directory. This database file contains information for the parser
to correctly parse the log data. Note that this database file only works
with the same build, and cannot be used for any other builds.</p>
<p>To use the log parser:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./scripts/logging/dictionary/log_parser.py &lt;build dir&gt;/log_dictionary.json &lt;log data file&gt;</span>
</pre></div>
</div>
<p>The parser takes two required arguments, where the first one is the full path
to the JSON database file, and the second part is the file containing log data.
Add an optional argument <code class="docutils literal notranslate"><span class="pre">--hex</span></code> to the end if the log data file contains
hexadecimal characters
(e.g. when <code class="docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_UART_OUTPUT_DICTIONARY_HEX=y</span></code>). This tells
the parser to convert the hexadecimal characters to binary before parsing.</p>
<p>Please refer to <a class="reference internal" href="../../samples/subsys/logging/dictionary/README.html#logging-dictionary-sample"><span class="std std-ref">Dictionary-based Logging Sample</span></a> on how to use the log parser.</p>
</div>
</div>
</div>
<div class="section" id="limitations-and-recommendations">
<h2><a class="toc-backref" href="#id30">Limitations and recommendations</a><a class="headerlink" href="#limitations-and-recommendations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id31">Logging v1</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>The are following limitations:</p>
<ul class="simple">
<li><p>Strings as arguments (<em>%s</em>) require special treatment (see
<a class="reference internal" href="#logging-strings"><span class="std std-ref">Logging strings</span></a>).</p></li>
<li><p>Logging double and float variables is not possible because arguments are
word size.</p></li>
<li><p>Variables larger than word size cannot be logged.</p></li>
<li><p>Number of arguments in the string is limited to 15.</p></li>
</ul>
</div>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id32">Logging v2</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Solves major limitations of v1. However, in order to get most of the logging
capabilities following recommendations shall be followed:</p>
<ul class="simple">
<li><p>Enable <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_SPEED"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_SPEED</span></code></a> to slightly speed up deferred logging at the
cost of slight increase in memory footprint.</p></li>
<li><p>Compiler with C11 <code class="docutils literal notranslate"><span class="pre">_Generic</span></code> keyword support is recommended. Logging
performance is significantly degraded without it. See <a class="reference internal" href="../misc/formatted_output.html#cbprintf-packaging"><span class="std std-ref">Cbprintf Packaging</span></a>.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">_Generic</span></code> is supported, during compilation it is determined which
packaging method shall be used: static or runtime. It is done by searching for
any string pointers in the argument list. If string pointer is used with
format specifier other than string, e.g. <code class="docutils literal notranslate"><span class="pre">%p</span></code>, it is recommended to cast it
to <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code>.</p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">LOG_WRN</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">);</span><span class="w"></span>
<span class="n">LOG_WRN</span><span class="p">(</span><span class="s">&quot;%p&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">str</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="benchmark">
<h2><a class="toc-backref" href="#id33">Benchmark</a><a class="headerlink" href="#benchmark" title="Permalink to this headline">¶</a></h2>
<p>Benchmark numbers from <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/tests/subsys/logging/log_benchmark">tests/subsys/logging/log_benchmark</a> performed
on <code class="docutils literal notranslate"><span class="pre">qemu_x86</span></code>. It is a rough comparison to give general overview. Overall,
logging v2 improves in most a the areas with the biggest improvement in logging
from userspace. It is at the cost of larger memory footprint for a log message.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 47%" />
<col style="width: 17%" />
<col style="width: 19%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>v1</p></th>
<th class="head"><p>v2</p></th>
<th class="head"><p>Summary</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Kernel logging</p></td>
<td><p>7us</p></td>
<td><p>7us <a class="footnote-reference brackets" href="#f0" id="id11">3</a>/11us</p></td>
<td><p>No significant
change</p></td>
</tr>
<tr class="row-odd"><td><p>User logging</p></td>
<td><p>86us</p></td>
<td><p>13us</p></td>
<td><p><strong>Strongly
improved</strong></p></td>
</tr>
<tr class="row-even"><td><p>kernel logging with overwrite</p></td>
<td><p>23us</p></td>
<td><p>10us <a class="footnote-reference brackets" href="#f0" id="id12">3</a>/15us</p></td>
<td><p><strong>Improved</strong></p></td>
</tr>
<tr class="row-odd"><td><p>Logging transient string</p></td>
<td><p>16us</p></td>
<td><p>42us</p></td>
<td><p><strong>Degraded</strong></p></td>
</tr>
<tr class="row-even"><td><p>Logging transient string from user</p></td>
<td><p>111us</p></td>
<td><p>50us</p></td>
<td><p><strong>Improved</strong></p></td>
</tr>
<tr class="row-odd"><td><p>Memory utilization <a class="footnote-reference brackets" href="#f1" id="id13">4</a></p></td>
<td><p>416</p></td>
<td><p>518</p></td>
<td><p>Slightly
improved</p></td>
</tr>
<tr class="row-even"><td><p>Memory footprint (test) <a class="footnote-reference brackets" href="#f2" id="id14">5</a></p></td>
<td><p>3.2k</p></td>
<td><p>2k</p></td>
<td><p><strong>Improved</strong></p></td>
</tr>
<tr class="row-odd"><td><p>Memory footprint (application) <a class="footnote-reference brackets" href="#f3" id="id15">6</a></p></td>
<td><p>6.2k</p></td>
<td><p>3.5k</p></td>
<td><p><strong>Improved</strong></p></td>
</tr>
<tr class="row-even"><td><p>Message footprint <a class="footnote-reference brackets" href="#f4" id="id16">7</a></p></td>
<td><p>15 bytes</p></td>
<td><p>47 <a class="footnote-reference brackets" href="#f0" id="id17">3</a>/32
bytes</p></td>
<td><p><strong>Degraded</strong></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Benchmark details</p>
<dl class="footnote brackets">
<dt class="label" id="f0"><span class="brackets">3</span><span class="fn-backref">(<a href="#id11">1</a>,<a href="#id12">2</a>,<a href="#id17">3</a>)</span></dt>
<dd><p><a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_LOG_SPEED"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_LOG_SPEED</span></code></a> enabled.</p>
</dd>
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id13">4</a></span></dt>
<dd><p>Number of log messages with various number of arguments that fits in 2048
bytes dedicated for logging.</p>
</dd>
<dt class="label" id="f2"><span class="brackets"><a class="fn-backref" href="#id14">5</a></span></dt>
<dd><p>Logging subsystem memory footprint in <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/tests/subsys/logging/log_benchmark">tests/subsys/logging/log_benchmark</a>
where filtering and formatting features are not used.</p>
</dd>
<dt class="label" id="f3"><span class="brackets"><a class="fn-backref" href="#id15">6</a></span></dt>
<dd><p>Logging subsystem memory footprint in <a class="reference external" href="https://github.com/zephyrproject-rtos/zephyr/blob/main/samples/subsys/logging/logger">samples/subsys/logging/logger</a>.</p>
</dd>
<dt class="label" id="f4"><span class="brackets"><a class="fn-backref" href="#id16">7</a></span></dt>
<dd><p>Avarage size of a log message (excluding string) with 2 arguments on <code class="docutils literal notranslate"><span class="pre">Cortex</span> <span class="pre">M3</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="api-reference">
<h2><a class="toc-backref" href="#id34">API Reference</a><a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="logger-api">
<h3><a class="toc-backref" href="#id35">Logger API</a><a class="headerlink" href="#logger-api" title="Permalink to this headline">¶</a></h3>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__log__api"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">log_api</span></span></dt>
<dd><p>Logger API. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_ERR">
<span class="target" id="group__log__api_1gad6db28c61c838c1f7316417e1e4847f2"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ERR</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_ERR" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes an ERROR level message to the log. </p>
<p>It’s meant to report severe errors, such as those from which it’s not possible to recover.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_WRN">
<span class="target" id="group__log__api_1ga644db4299681d9ebf06f8745ad984c65"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_WRN</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_WRN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes a WARNING level message to the log. </p>
<p>It’s meant to register messages related to unusual situations that are not necessarily errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INF">
<span class="target" id="group__log__api_1ga9c338f3170acf38a8532d1181d26704e"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INF</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INF" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes an INFO level message to the log. </p>
<p>It’s meant to write generic user oriented messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_DBG">
<span class="target" id="group__log__api_1gafb97e6291db24665313453d192941330"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_DBG</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_DBG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes a DEBUG level message to the log. </p>
<p>It’s meant to write developer oriented information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_PRINTK">
<span class="target" id="group__log__api_1ga4ab5cae247b853bf9f4f0bf761c1c71e"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_PRINTK</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_PRINTK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Unconditionally print raw log message. </p>
<p>The result is same as if printk was used but it goes through logging infrastructure thus utilizes logging mode, e.g. deferred mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INST_ERR">
<span class="target" id="group__log__api_1ga830f32743847c52e01a510ab0716fe90"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INST_ERR</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_log_inst</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INST_ERR" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes an ERROR level message associated with the instance to the log. </p>
<p>Message is associated with specific instance of the module which has independent filtering settings (if runtime filtering is enabled) and message prefix (&lt;module_name&gt;.&lt;instance_name&gt;). It’s meant to report severe errors, such as those from which it’s not possible to recover.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_log_inst</strong> – Pointer to the log structure associated with the instance. </p></li>
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INST_WRN">
<span class="target" id="group__log__api_1ga76057f789dfc164adbb1dbc9f3aff417"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INST_WRN</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_log_inst</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INST_WRN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes a WARNING level message associated with the instance to the log. </p>
<p>Message is associated with specific instance of the module which has independent filtering settings (if runtime filtering is enabled) and message prefix (&lt;module_name&gt;.&lt;instance_name&gt;). It’s meant to register messages related to unusual situations that are not necessarily errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_log_inst</strong> – Pointer to the log structure associated with the instance. </p></li>
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INST_INF">
<span class="target" id="group__log__api_1ga222c5b535fb3ecb36dea97885c794188"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INST_INF</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_log_inst</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INST_INF" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes an INFO level message associated with the instance to the log. </p>
<p>Message is associated with specific instance of the module which has independent filtering settings (if runtime filtering is enabled) and message prefix (&lt;module_name&gt;.&lt;instance_name&gt;). It’s meant to write generic user oriented messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_log_inst</strong> – Pointer to the log structure associated with the instance. </p></li>
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INST_DBG">
<span class="target" id="group__log__api_1gae10014012020ea5a6b9a86a5224f19b0"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INST_DBG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_log_inst</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INST_DBG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes a DEBUG level message associated with the instance to the log. </p>
<p>Message is associated with specific instance of the module which has independent filtering settings (if runtime filtering is enabled) and message prefix (&lt;module_name&gt;.&lt;instance_name&gt;). It’s meant to write developer oriented information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_log_inst</strong> – Pointer to the log structure associated with the instance. </p></li>
<li><p><strong>...</strong> – A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_HEXDUMP_ERR">
<span class="target" id="group__log__api_1gabdae4f5b8b16804b53f83a85c3023134"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_HEXDUMP_ERR</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_length</span></span>, <span class="n"><span class="pre">_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_HEXDUMP_ERR" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes an ERROR level hexdump message to the log. </p>
<p>It’s meant to report severe errors, such as those from which it’s not possible to recover.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_data</strong> – Pointer to the data to be logged. </p></li>
<li><p><strong>_length</strong> – Length of data (in bytes). </p></li>
<li><p><strong>_str</strong> – Persistent, raw string. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_HEXDUMP_WRN">
<span class="target" id="group__log__api_1gaf73802661fea926bb2b7e628727cdceb"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_HEXDUMP_WRN</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_length</span></span>, <span class="n"><span class="pre">_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_HEXDUMP_WRN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes a WARNING level message to the log. </p>
<p>It’s meant to register messages related to unusual situations that are not necessarily errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_data</strong> – Pointer to the data to be logged. </p></li>
<li><p><strong>_length</strong> – Length of data (in bytes). </p></li>
<li><p><strong>_str</strong> – Persistent, raw string. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_HEXDUMP_INF">
<span class="target" id="group__log__api_1ga8e060bbe660c246a38adccd873e58c6c"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_HEXDUMP_INF</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_length</span></span>, <span class="n"><span class="pre">_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_HEXDUMP_INF" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes an INFO level message to the log. </p>
<p>It’s meant to write generic user oriented messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_data</strong> – Pointer to the data to be logged. </p></li>
<li><p><strong>_length</strong> – Length of data (in bytes). </p></li>
<li><p><strong>_str</strong> – Persistent, raw string. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_HEXDUMP_DBG">
<span class="target" id="group__log__api_1ga01dda8273f7d453a855542a52524dca8"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_HEXDUMP_DBG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_length</span></span>, <span class="n"><span class="pre">_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_HEXDUMP_DBG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes a DEBUG level message to the log. </p>
<p>It’s meant to write developer oriented information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_data</strong> – Pointer to the data to be logged. </p></li>
<li><p><strong>_length</strong> – Length of data (in bytes). </p></li>
<li><p><strong>_str</strong> – Persistent, raw string. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INST_HEXDUMP_ERR">
<span class="target" id="group__log__api_1gaf2f504a779917dc0f40767cba9f940b9"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INST_HEXDUMP_ERR</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_log_inst</span></span>, <span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_length</span></span>, <span class="n"><span class="pre">_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INST_HEXDUMP_ERR" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes an ERROR hexdump message associated with the instance to the log. </p>
<p>Message is associated with specific instance of the module which has independent filtering settings (if runtime filtering is enabled) and message prefix (&lt;module_name&gt;.&lt;instance_name&gt;). It’s meant to report severe errors, such as those from which it’s not possible to recover.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_log_inst</strong> – Pointer to the log structure associated with the instance. </p></li>
<li><p><strong>_data</strong> – Pointer to the data to be logged. </p></li>
<li><p><strong>_length</strong> – Length of data (in bytes). </p></li>
<li><p><strong>_str</strong> – Persistent, raw string. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INST_HEXDUMP_WRN">
<span class="target" id="group__log__api_1gab6542651f88fbb0991fb2339102b52a5"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INST_HEXDUMP_WRN</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_log_inst</span></span>, <span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_length</span></span>, <span class="n"><span class="pre">_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INST_HEXDUMP_WRN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes a WARNING level hexdump message associated with the instance to the log. </p>
<p>It’s meant to register messages related to unusual situations that are not necessarily errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_log_inst</strong> – Pointer to the log structure associated with the instance. </p></li>
<li><p><strong>_data</strong> – Pointer to the data to be logged. </p></li>
<li><p><strong>_length</strong> – Length of data (in bytes). </p></li>
<li><p><strong>_str</strong> – Persistent, raw string. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INST_HEXDUMP_INF">
<span class="target" id="group__log__api_1ga8e38c461c6058ee604b4dddad662d4ca"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INST_HEXDUMP_INF</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_log_inst</span></span>, <span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_length</span></span>, <span class="n"><span class="pre">_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INST_HEXDUMP_INF" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes an INFO level hexdump message associated with the instance to the log. </p>
<p>It’s meant to write generic user oriented messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_log_inst</strong> – Pointer to the log structure associated with the instance. </p></li>
<li><p><strong>_data</strong> – Pointer to the data to be logged. </p></li>
<li><p><strong>_length</strong> – Length of data (in bytes). </p></li>
<li><p><strong>_str</strong> – Persistent, raw string. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INST_HEXDUMP_DBG">
<span class="target" id="group__log__api_1ga4b73e6d51cff26ea5595df8680c00563"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INST_HEXDUMP_DBG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_log_inst</span></span>, <span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_length</span></span>, <span class="n"><span class="pre">_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INST_HEXDUMP_DBG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Writes a DEBUG level hexdump message associated with the instance to the log. </p>
<p>It’s meant to write developer oriented information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_log_inst</strong> – Pointer to the log structure associated with the instance. </p></li>
<li><p><strong>_data</strong> – Pointer to the data to be logged. </p></li>
<li><p><strong>_length</strong> – Length of data (in bytes). </p></li>
<li><p><strong>_str</strong> – Persistent, raw string. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MODULE_REGISTER">
<span class="target" id="group__log__api_1ga2404243df68fb6e51129d1c7ecc5ca45"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MODULE_REGISTER</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_MODULE_REGISTER" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create module-specific state and register the module with Logger. </p>
<p>This macro normally must be used after including &lt;logging/log.h&gt; to complete the initialization of the module.</p>
<p>Module registration can be skipped in two cases:</p>
<p><ul class="simple">
<li><p>The module consists of more than one file, and another file invokes this macro. (<a class="reference internal" href="#group__log__api_1ga8193b0e10e5ee64b86848bb52be31869"><span class="std std-ref">LOG_MODULE_DECLARE()</span></a> should be used instead in all of the module’s other files.)</p></li>
<li><p>Instance logging is used and there is no need to create module entry. In that case <a class="reference internal" href="#group__log__api_1gac396852328a77360a0c27dbf7b52356e"><span class="std std-ref">LOG_LEVEL_SET()</span></a> should be used to set log level used within the file.</p></li>
</ul>
</p>
<p>Macro accepts one or two parameters:<ul class="simple">
<li><p>module name</p></li>
<li><p>optional log level. If not provided then default log level is used in the file.</p></li>
</ul>
</p>
<p>Example usage:<ul class="simple">
<li><p><a class="reference internal" href="#group__log__api_1ga2404243df68fb6e51129d1c7ecc5ca45"><span class="std std-ref">LOG_MODULE_REGISTER(foo, CONFIG_FOO_LOG_LEVEL)</span></a></p></li>
<li><p><a class="reference internal" href="#group__log__api_1ga2404243df68fb6e51129d1c7ecc5ca45"><span class="std std-ref">LOG_MODULE_REGISTER(foo)</span></a></p></li>
</ul>
</p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__log__api_1ga8193b0e10e5ee64b86848bb52be31869"><span class="std std-ref">LOG_MODULE_DECLARE</span></a> </p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The module’s state is defined, and the module is registered, only if LOG_LEVEL for the current source file is non-zero or it is not defined and CONFIG_LOG_DEFAULT_LEVEL is non-zero. In other cases, this macro has no effect. </p>
</div>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MODULE_DECLARE">
<span class="target" id="group__log__api_1ga8193b0e10e5ee64b86848bb52be31869"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MODULE_DECLARE</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_MODULE_DECLARE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for declaring a log module (not registering it). </p>
<p>Modules which are split up over multiple files must have exactly one file use <a class="reference internal" href="#group__log__api_1ga2404243df68fb6e51129d1c7ecc5ca45"><span class="std std-ref">LOG_MODULE_REGISTER()</span></a> to create module-specific state and register the module with the logger core.</p>
<p>The other files in the module should use this macro instead to declare that same state. (Otherwise, <a class="reference internal" href="#group__log__api_1ga9c338f3170acf38a8532d1181d26704e"><span class="std std-ref">LOG_INF()</span></a> etc. will not be able to refer to module-specific state variables.)</p>
<p>Macro accepts one or two parameters:<ul class="simple">
<li><p>module name</p></li>
<li><p>optional log level. If not provided then default log level is used in the file.</p></li>
</ul>
</p>
<p>Example usage:<ul class="simple">
<li><p><a class="reference internal" href="#group__log__api_1ga8193b0e10e5ee64b86848bb52be31869"><span class="std std-ref">LOG_MODULE_DECLARE(foo, CONFIG_FOO_LOG_LEVEL)</span></a></p></li>
<li><p><a class="reference internal" href="#group__log__api_1ga8193b0e10e5ee64b86848bb52be31869"><span class="std std-ref">LOG_MODULE_DECLARE(foo)</span></a></p></li>
</ul>
</p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__log__api_1ga2404243df68fb6e51129d1c7ecc5ca45"><span class="std std-ref">LOG_MODULE_REGISTER</span></a> </p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The module’s state is declared only if LOG_LEVEL for the current source file is non-zero or it is not defined and CONFIG_LOG_DEFAULT_LEVEL is non-zero. In other cases, this macro has no effect. </p>
</div>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_LEVEL_SET">
<span class="target" id="group__log__api_1gac396852328a77360a0c27dbf7b52356e"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_LEVEL_SET</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_LEVEL_SET" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for setting log level in the file or function where instance logging API is used. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> – Level used in file or in function. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.log_strdup">
<span class="target" id="group__log__api_1ga70ca6d2316d1bbfb208969d3fcc56aa1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_strdup</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_strdup" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="logger-control">
<h3><a class="toc-backref" href="#id36">Logger control</a><a class="headerlink" href="#logger-control" title="Permalink to this headline">¶</a></h3>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__log__ctrl"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">log_ctrl</span></span></dt>
<dd><p>Logger control API. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_CORE_INIT">
<span class="target" id="group__log__ctrl_1gabb1d00fe08bc48ed4d352ce61b0e0582"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_CORE_INIT</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_CORE_INIT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_INIT">
<span class="target" id="group__log__ctrl_1ga062ce2496c8e47adec91c0d11744a7a7"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INIT</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INIT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_PANIC">
<span class="target" id="group__log__ctrl_1ga9ee5a99e0487e3f1e6d289b12c19ad5a"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_PANIC</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_PANIC" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_PROCESS">
<span class="target" id="group__log__ctrl_1gacd14d69929496cea19c699509eb5ea1b"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_PROCESS</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_PROCESS" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.log_timestamp_get_t">
<span class="target" id="group__log__ctrl_1gae7aaa810aabda4aed6226a85f28d6fbb"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">log_timestamp_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_timestamp_get_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.log_timestamp_get_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.log_core_init">
<span class="target" id="group__log__ctrl_1ga338338de3c3e3ce6d3ea7ca6a6fa83e0"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_core_init</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_core_init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function system initialization of the logger. </p>
<p>Function is called during start up to allow logging before user can explicitly initialize the logger. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_init">
<span class="target" id="group__log__ctrl_1ga2508fad025e49f9746b6c178dce6917e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_init</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for user initialization of the logger. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_thread_set">
<span class="target" id="group__log__ctrl_1ga5f58516c3c155dde0f44ea9cc7cd8b37"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_thread_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">k_tid_t</span></span><span class="w"> </span><span class="n"><span class="pre">process_tid</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_thread_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for providing thread which is processing logs. </p>
<p>See CONFIG_LOG_PROCESS_TRIGGER_THRESHOLD.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Function has asserts and has no effect when CONFIG_LOG_PROCESS_THREAD is set.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>process_tid</strong> – Process thread id. Used to wake up the thread. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_set_timestamp_func">
<span class="target" id="group__log__ctrl_1gaea92150610f900ab1258cbce65662ae6"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_set_timestamp_func</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.log_timestamp_get_t" title="log_timestamp_get_t"><span class="n"><span class="pre">log_timestamp_get_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">timestamp_getter</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">freq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_set_timestamp_func" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for providing timestamp function. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamp_getter</strong> – Timestamp function. </p></li>
<li><p><strong>freq</strong> – Timestamping frequency.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>0 on success or error. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_panic">
<span class="target" id="group__log__ctrl_1ga6a4d408fc9d7c55366cd7a02850b03f5"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_panic</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_panic" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Switch the logger subsystem to the panic mode. </p>
<p>Returns immediately if the logger is already in the panic mode.</p>
<p>On panic the logger subsystem informs all backends about panic mode. Backends must switch to blocking mode or halt. All pending logs are flushed after switching to panic mode. In panic mode, all log messages must be processed in the context of the call. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_process">
<span class="target" id="group__log__ctrl_1ga47a27bdcc8675f51dde7ff18fb0284e2"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_process</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">bypass</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_process" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process one pending log message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bypass</strong> – If true message is released without being processed.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – There is more messages pending to be processed. </p></li>
<li><p><strong>false</strong> – No messages pending. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_buffered_cnt">
<span class="target" id="group__log__ctrl_1gab6785b1f77080bbaf9f5ac3bfe0fd23c"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_buffered_cnt</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_buffered_cnt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return number of buffered log messages. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of currently buffered log messages. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_src_cnt_get">
<span class="target" id="group__log__ctrl_1ga10b12f5c462f3d0f1cb8d60ead802c9a"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_src_cnt_get</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">domain_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_src_cnt_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get number of independent logger sources (modules and instances) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain_id</strong> – Domain ID.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of sources. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_source_name_get">
<span class="target" id="group__log__ctrl_1ga7047a91d157b329362cff22784472c83"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_source_name_get</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">domain_id</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">source_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_source_name_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get name of the source (module or instance). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain_id</strong> – Domain ID. </p></li>
<li><p><strong>source_id</strong> – Source ID.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Source name or NULL if invalid arguments. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_domain_name_get">
<span class="target" id="group__log__ctrl_1gac20a57745d0a10e6cf100eb47eb9561d"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_domain_name_get</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">domain_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_domain_name_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get name of the domain. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain_id</strong> – Domain ID.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Domain name. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_filter_get">
<span class="target" id="group__log__ctrl_1ga83b8fe6d2592f02fe8a73faed819c3ce"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_filter_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">domain_id</span></span>, <span class="n"><span class="pre">int16_t</span></span><span class="w"> </span><span class="n"><span class="pre">source_id</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">runtime</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_filter_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get source filter for the provided backend. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – Backend instance. </p></li>
<li><p><strong>domain_id</strong> – ID of the domain. </p></li>
<li><p><strong>source_id</strong> – Source (module or instance) ID. </p></li>
<li><p><strong>runtime</strong> – True for runtime filter or false for compiled in.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Severity level. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_filter_set">
<span class="target" id="group__log__ctrl_1ga32956e4ba4ed92e5e5aeb5503be0047e"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_filter_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">domain_id</span></span>, <span class="n"><span class="pre">int16_t</span></span><span class="w"> </span><span class="n"><span class="pre">source_id</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_filter_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set filter on given source for the provided backend. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – Backend instance. NULL for all backends. </p></li>
<li><p><strong>domain_id</strong> – ID of the domain. </p></li>
<li><p><strong>source_id</strong> – Source (module or instance) ID. </p></li>
<li><p><strong>level</strong> – Severity level.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Actual level set which may be limited by compiled level. If filter was set for all backends then maximal level that was set is returned. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_enable">
<span class="target" id="group__log__ctrl_1gadbd0b5dd8c459c6ef85f9fef4f2bdebf"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_enable</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_enable" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable backend with initial maximum filtering level. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – Backend instance. </p></li>
<li><p><strong>ctx</strong> – User context. </p></li>
<li><p><strong>level</strong> – Severity level. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_disable">
<span class="target" id="group__log__ctrl_1gaf5d428f18b00138fd2ccca190981191d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_disable</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_disable" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Disable backend. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – Backend instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_get_strdup_pool_current_utilization">
<span class="target" id="group__log__ctrl_1ga58c62e37b9fe470e0b0fc22967fa164d"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_get_strdup_pool_current_utilization</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_get_strdup_pool_current_utilization" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get current number of allocated buffers for string duplicates. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_get_strdup_pool_utilization">
<span class="target" id="group__log__ctrl_1ga0f5f78bf165604a1e1008a54f04dc85b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_get_strdup_pool_utilization</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_get_strdup_pool_utilization" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get maximal number of simultaneously allocated buffers for string duplicates. </p>
<p>Value can be used to determine pool size. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_get_strdup_longest_string">
<span class="target" id="group__log__ctrl_1ga098c342ec5c975a6c2dd2fbada365f6e"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_get_strdup_longest_string</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_get_strdup_longest_string" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get length of the longest string duplicated. </p>
<p>Value can be used to determine buffer size in the string duplicates pool. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_data_pending">
<span class="target" id="group__log__ctrl_1ga6d6c48ddd4b6739e34fde2098ad61731"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_data_pending</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_data_pending" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if there is pending data to be processed by the logging subsystem. </p>
<p>Function can be used to determine if all logs have been flushed. Function returns false when deferred mode is not enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Return values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true</strong> – There is pending data. </p></li>
<li><p><strong>false</strong> – No pending data to process. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_set_tag">
<span class="target" id="group__log__ctrl_1ga58499087f61cc377615311498eedf1ae"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_set_tag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_set_tag" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Configure tag used to prefix each message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag</strong> – Tag.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – on successful operation. </p></li>
<li><p><strong>-ENOTSUP</strong> – if feature is disabled. </p></li>
<li><p><strong>-ENOMEM</strong> – if string is longer than the buffer capacity. Tag will be trimmed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="log-message">
<h3><a class="toc-backref" href="#id37">Log message</a><a class="headerlink" href="#log-message" title="Permalink to this headline">¶</a></h3>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__log__msg"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">log_msg</span></span></dt>
<dd><p>Log message API. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MAX_NARGS">
<span class="target" id="group__log__msg_1ga5900a85c32582b5a4ce3f46ee52b7e9e"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MAX_NARGS</span></span></span><a class="headerlink" href="#c.LOG_MAX_NARGS" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Maximum number of arguments in the standard log entry. </p>
<p>It is limited by 4 bit nargs field in the log message. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MSG_NARGS_SINGLE_CHUNK">
<span class="target" id="group__log__msg_1ga269343a13ee57b72d62ab369d5a5c044"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MSG_NARGS_SINGLE_CHUNK</span></span></span><a class="headerlink" href="#c.LOG_MSG_NARGS_SINGLE_CHUNK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of arguments in the log entry which fits in one chunk. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MSG_NARGS_HEAD_CHUNK">
<span class="target" id="group__log__msg_1gadb487a9ce1f3413b2a91c97bf3c601c9"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MSG_NARGS_HEAD_CHUNK</span></span></span><a class="headerlink" href="#c.LOG_MSG_NARGS_HEAD_CHUNK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of arguments in the head of extended standard log message.. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MSG_HEXDUMP_BYTES_SINGLE_CHUNK">
<span class="target" id="group__log__msg_1gacd9d4676590adf7231a760227fc17a9e"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MSG_HEXDUMP_BYTES_SINGLE_CHUNK</span></span></span><a class="headerlink" href="#c.LOG_MSG_HEXDUMP_BYTES_SINGLE_CHUNK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Maximal amount of bytes in the hexdump entry which fits in one chunk. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MSG_HEXDUMP_BYTES_HEAD_CHUNK">
<span class="target" id="group__log__msg_1ga37f48c72db15497ee8e67942a65d594e"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MSG_HEXDUMP_BYTES_HEAD_CHUNK</span></span></span><a class="headerlink" href="#c.LOG_MSG_HEXDUMP_BYTES_HEAD_CHUNK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bytes in the first chunk of hexdump message if message consists of more than one chunk. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.HEXDUMP_BYTES_CONT_MSG">
<span class="target" id="group__log__msg_1ga6bf0f7d5e6318aa280e50ce59d27c2a4"></span><span class="sig-name descname"><span class="n"><span class="pre">HEXDUMP_BYTES_CONT_MSG</span></span></span><a class="headerlink" href="#c.HEXDUMP_BYTES_CONT_MSG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bytes that can be stored in chunks following head chunk in hexdump log message. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.ARGS_CONT_MSG">
<span class="target" id="group__log__msg_1gad5463a0306f9515aaace6e648a3fceeb"></span><span class="sig-name descname"><span class="n"><span class="pre">ARGS_CONT_MSG</span></span></span><a class="headerlink" href="#c.ARGS_CONT_MSG" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MSG_TYPE_STD">
<span class="target" id="group__log__msg_1gaef0cd4f562f09242626fd7f2e01ee875"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MSG_TYPE_STD</span></span></span><a class="headerlink" href="#c.LOG_MSG_TYPE_STD" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag indicating standard log message. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MSG_TYPE_HEXDUMP">
<span class="target" id="group__log__msg_1ga2747b5933204d337ffee654b2f9d749c"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MSG_TYPE_HEXDUMP</span></span></span><a class="headerlink" href="#c.LOG_MSG_TYPE_HEXDUMP" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag indicating hexdump log message. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.COMMON_PARAM_HDR">
<span class="target" id="group__log__msg_1ga495f7973d045ff48e62160b6e953d2c9"></span><span class="sig-name descname"><span class="n"><span class="pre">COMMON_PARAM_HDR</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.COMMON_PARAM_HDR" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Common part of log message header. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MSG_HEXDUMP_LENGTH_BITS">
<span class="target" id="group__log__msg_1ga350cae59b8bc12eb56a74914103314de"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MSG_HEXDUMP_LENGTH_BITS</span></span></span><a class="headerlink" href="#c.LOG_MSG_HEXDUMP_LENGTH_BITS" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bits used for storing length of hexdump log message. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_MSG_HEXDUMP_MAX_LENGTH">
<span class="target" id="group__log__msg_1gaabb2c9581ff5e17f1a369983ba996cff"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MSG_HEXDUMP_MAX_LENGTH</span></span></span><a class="headerlink" href="#c.LOG_MSG_HEXDUMP_MAX_LENGTH" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Maximum length of log hexdump message. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.log_arg_t">
<span class="target" id="group__log__msg_1ga60fcf7fd1423d631f2057111818143ca"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_arg_t</span></span></span><a class="headerlink" href="#c.log_arg_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Log argument type. </p>
<p>Should preferably be equivalent to a native word size. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_pool_init">
<span class="target" id="group__log__msg_1ga00a80b9f48ab8c446dc1e29018983e10"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_pool_init</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_pool_init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for initialization of the log message pool. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_get">
<span class="target" id="group__log__msg_1gad34f068325f8d3818005ce3bf5ed8d2c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for indicating that message is in use. </p>
<p>Message can be used (read) by multiple users. Internal reference counter is atomically increased. See <a class="reference internal" href="#group__log__msg_1gaa7cb59b92b25a79dba0d013d4e565eb2"><span class="std std-ref">log_msg_put</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Message. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_put">
<span class="target" id="group__log__msg_1gaa7cb59b92b25a79dba0d013d4e565eb2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_put</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_put" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for indicating that message is no longer in use. </p>
<p>Internal reference counter is atomically decreased. If reference counter equals 0 message is freed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Message. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_domain_id_get">
<span class="target" id="group__log__msg_1ga5a3dfb0fe49d8ba541dd1fc9dcf71d0a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_domain_id_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_domain_id_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get domain ID of the message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Message</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Domain ID. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_source_id_get">
<span class="target" id="group__log__msg_1ga6d69f64bb78e4e9d92340338326c435e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_source_id_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_source_id_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get source ID (module or instance) of the message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Message</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Source ID. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_level_get">
<span class="target" id="group__log__msg_1ga146bfd52f03be08b6e8fb472d8275622"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_level_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_level_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get severity level of the message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Message</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Severity message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_timestamp_get">
<span class="target" id="group__log__msg_1ga3ae6f1ab10f322506a136dd3e3070d48"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_timestamp_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_timestamp_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get timestamp of the message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Message</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Timestamp value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_is_std">
<span class="target" id="group__log__msg_1ga914c4e8d90ccfda30f1105e18812b22b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_is_std</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_is_std" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if message is of standard type. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Message</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Standard message. </p></li>
<li><p><strong>false</strong> – Hexdump message. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_nargs_get">
<span class="target" id="group__log__msg_1ga87ff24775dd5d88f779b2965da9f5f7e"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_nargs_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_nargs_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns number of arguments in standard log message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Standard log message.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of arguments. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_arg_get">
<span class="target" id="group__log__msg_1gab6449857ff234005f8a2eec31b73b362"></span><a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_arg_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">arg_idx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_arg_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Gets argument from standard log message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Standard log message. </p></li>
<li><p><strong>arg_idx</strong> – Argument index.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Argument value or 0 if arg_idx exceeds number of arguments in the message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_str_get">
<span class="target" id="group__log__msg_1ga6b32d69271906dfd5ec883c496e51f65"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_str_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_str_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Gets pointer to the unformatted string from standard log message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Standard log message.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pointer to the string. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_hexdump_create">
<span class="target" id="group__log__msg_1ga97764c3d3bb243515f5c95bfa44297fb"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_hexdump_create</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_hexdump_create" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allocates chunks for hexdump message and copies the data. </p>
<p>Function resets header and sets following fields:<ul class="simple">
<li><p>message type</p></li>
<li><p>length</p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Allocation and partial filling is combined for performance reasons.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> – String. </p></li>
<li><p><strong>data</strong> – Data. </p></li>
<li><p><strong>length</strong> – Data length.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pointer to allocated head of the message or NULL </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_hexdump_data_put">
<span class="target" id="group__log__msg_1ga5bf3664a1e88859af545e64232f628e0"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_hexdump_data_put</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">length</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_hexdump_data_put" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put data into hexdump log message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – <strong>[in]</strong> Message. </p></li>
<li><p><strong>data</strong> – <strong>[in]</strong> Data to be copied. </p></li>
<li><p><strong>length</strong> – <strong>[inout]</strong> Input: requested amount. Output: actual amount. </p></li>
<li><p><strong>offset</strong> – <strong>[in]</strong> Offset. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_hexdump_data_get">
<span class="target" id="group__log__msg_1ga908fe60dc33e29bac2eb42c2a54b15ea"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_hexdump_data_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">length</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_hexdump_data_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get data from hexdump log message. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – <strong>[in]</strong> Message. </p></li>
<li><p><strong>data</strong> – <strong>[in]</strong> Buffer for data. </p></li>
<li><p><strong>length</strong> – <strong>[inout]</strong> Input: requested amount. Output: actual amount. </p></li>
<li><p><strong>offset</strong> – <strong>[in]</strong> Offset. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_no_space_handle">
<span class="target" id="group__log__msg_1ga81b5033fae66d3d05209db2211ed34d4"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_chunk" title="log_msg_chunk"><span class="n"><span class="pre">log_msg_chunk</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_no_space_handle</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_no_space_handle" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_chunk_alloc">
<span class="target" id="group__log__msg_1gae23ae828851c74aa13db87107caf62d6"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_chunk" title="log_msg_chunk"><span class="n"><span class="pre">log_msg_chunk</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_chunk_alloc</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_chunk_alloc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allocate single chunk from the pool. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Pointer to the allocated chunk or NULL if failed to allocate. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_create_0">
<span class="target" id="group__log__msg_1gaa34c281e9c6b45a29b9e55ff902e374d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_create_0</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_create_0" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create standard log message with no arguments. </p>
<p>Function resets header and sets following fields:<ul class="simple">
<li><p>message type</p></li>
<li><p>string pointer</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Pointer to allocated head of the message or NULL. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_create_1">
<span class="target" id="group__log__msg_1gaf1eec61c29da3bd024b944e9a067c85f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_create_1</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span>, <a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">arg1</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_create_1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create standard log message with one argument. </p>
<p>Function resets header and sets following fields:<ul class="simple">
<li><p>message type</p></li>
<li><p>string pointer</p></li>
<li><p>number of arguments</p></li>
<li><p>argument</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> – String. </p></li>
<li><p><strong>arg1</strong> – Argument.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pointer to allocated head of the message or NULL. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_create_2">
<span class="target" id="group__log__msg_1ga9859855a99966a4482f66da41fc5dccf"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_create_2</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span>, <a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">arg1</span></span>, <a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">arg2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_create_2" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create standard log message with two arguments. </p>
<p>Function resets header and sets following fields:<ul class="simple">
<li><p>message type</p></li>
<li><p>string pointer</p></li>
<li><p>number of arguments</p></li>
<li><p>arguments</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> – String. </p></li>
<li><p><strong>arg1</strong> – Argument 1. </p></li>
<li><p><strong>arg2</strong> – Argument 2.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pointer to allocated head of the message or NULL. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_create_3">
<span class="target" id="group__log__msg_1ga509d75155372abe5b324b228b52799e1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_create_3</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span>, <a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">arg1</span></span>, <a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">arg2</span></span>, <a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">arg3</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_create_3" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create standard log message with three arguments. </p>
<p>Function resets header and sets following fields:<ul class="simple">
<li><p>message type</p></li>
<li><p>string pointer</p></li>
<li><p>number of arguments</p></li>
<li><p>arguments</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> – String. </p></li>
<li><p><strong>arg1</strong> – Argument 1. </p></li>
<li><p><strong>arg2</strong> – Argument 2. </p></li>
<li><p><strong>arg3</strong> – Argument 3.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pointer to allocated head of the message or NULL. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_create_n">
<span class="target" id="group__log__msg_1gaddd73c484ec86849c176934c6f983a34"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_create_n</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span>, <a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">nargs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_create_n" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create standard log message with variable number of arguments. </p>
<p>Function resets header and sets following fields:<ul class="simple">
<li><p>message type</p></li>
<li><p>string pointer</p></li>
<li><p>number of arguments</p></li>
<li><p>arguments</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> – String. </p></li>
<li><p><strong>args</strong> – Array with arguments. </p></li>
<li><p><strong>nargs</strong> – Number of arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pointer to allocated head of the message or NULL. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_mem_get_free">
<span class="target" id="group__log__msg_1gaeef64d243b794ba77cff9ceff1691fd0"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_mem_get_free</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_mem_get_free" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get number of free blocks from the log mem pool. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_mem_get_used">
<span class="target" id="group__log__msg_1gaaf81fbf7786167d3c22074df83636f0e"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_mem_get_used</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_mem_get_used" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get number of used blocks from the log mem pool. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_msg_mem_get_max_used">
<span class="target" id="group__log__msg_1gafb77acf737b6a62fcd3545af569ba1ec"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_mem_get_max_used</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_msg_mem_get_max_used" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get max used blocks from the log mem pool. </p>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.log_msg_ids">
<span class="target" id="structlog__msg__ids"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_ids</span></span></span><a class="headerlink" href="#c.log_msg_ids" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Part of log message header identifying source and level. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_ids.level">
<span class="target" id="structlog__msg__ids_1a3bed56b475692f863992b59c59f3886b"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">level</span></span></span><a class="headerlink" href="#c.log_msg_ids.level" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Severity. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_ids.domain_id">
<span class="target" id="structlog__msg__ids_1aaaa0112ceeef1ca34385615dd6bbb511"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">domain_id</span></span></span><a class="headerlink" href="#c.log_msg_ids.domain_id" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Originating domain. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_ids.source_id">
<span class="target" id="structlog__msg__ids_1ace53e848f4fea90404ed1e3c03e77afc"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">source_id</span></span></span><a class="headerlink" href="#c.log_msg_ids.source_id" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Source ID. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_msg_generic_hdr">
<span class="target" id="structlog__msg__generic__hdr"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_generic_hdr</span></span></span><a class="headerlink" href="#c.log_msg_generic_hdr" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Part of log message header common to standard and hexdump log message. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_msg_std_hdr">
<span class="target" id="structlog__msg__std__hdr"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_std_hdr</span></span></span><a class="headerlink" href="#c.log_msg_std_hdr" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Part of log message header specific to standard log message. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_msg_hexdump_hdr">
<span class="target" id="structlog__msg__hexdump__hdr"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_hexdump_hdr</span></span></span><a class="headerlink" href="#c.log_msg_hexdump_hdr" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Part of log message header specific to hexdump log message. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_msg_hdr">
<span class="target" id="structlog__msg__hdr"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_hdr</span></span></span><a class="headerlink" href="#c.log_msg_hdr" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Log message header structure </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_hdr.ref_cnt">
<span class="target" id="structlog__msg__hdr_1a925422f8e7e405f126675392a744f44c"></span><span class="n"><span class="pre">atomic_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ref_cnt</span></span></span><a class="headerlink" href="#c.log_msg_hdr.ref_cnt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reference counter for tracking message users. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_hdr.ids">
<span class="target" id="structlog__msg__hdr_1aba2be834d33cd21eda844bac817853cb"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_ids" title="log_msg_ids"><span class="n"><span class="pre">log_msg_ids</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ids</span></span></span><a class="headerlink" href="#c.log_msg_hdr.ids" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Identification part of the message. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_hdr.timestamp">
<span class="target" id="structlog__msg__hdr_1a55dcbe6b5e224fd418cd973fe55e90b5"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timestamp</span></span></span><a class="headerlink" href="#c.log_msg_hdr.timestamp" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Timestamp. </p>
</dd></dl>

</div>
<dl class="c union">
<dt class="sig sig-object c" id="c.log_msg_hdr.log_msg_hdr_params">
<span class="target" id="unionlog__msg__hdr_1_1log__msg__hdr__params"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_hdr_params</span></span></span><a class="headerlink" href="#c.log_msg_hdr.log_msg_hdr_params" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_hdr.log_msg_hdr_params.generic">
<span class="target" id="unionlog__msg__hdr_1_1log__msg__hdr__params_1a6981b19e8a784f6ef24048731158ac60"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_generic_hdr" title="log_msg_generic_hdr"><span class="n"><span class="pre">log_msg_generic_hdr</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">generic</span></span></span><a class="headerlink" href="#c.log_msg_hdr.log_msg_hdr_params.generic" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_hdr.log_msg_hdr_params.std">
<span class="target" id="unionlog__msg__hdr_1_1log__msg__hdr__params_1ae5097514ba358b38effcdabefec0548c"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_std_hdr" title="log_msg_std_hdr"><span class="n"><span class="pre">log_msg_std_hdr</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">std</span></span></span><a class="headerlink" href="#c.log_msg_hdr.log_msg_hdr_params.std" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_hdr.log_msg_hdr_params.hexdump">
<span class="target" id="unionlog__msg__hdr_1_1log__msg__hdr__params_1a7d5366f9375db5e349a8ef3c01b06e69"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_hexdump_hdr" title="log_msg_hexdump_hdr"><span class="n"><span class="pre">log_msg_hexdump_hdr</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hexdump</span></span></span><a class="headerlink" href="#c.log_msg_hdr.log_msg_hdr_params.hexdump" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_hdr.log_msg_hdr_params.raw">
<span class="target" id="unionlog__msg__hdr_1_1log__msg__hdr__params_1a626ba2e9abb4e598de7351938ab15367"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">raw</span></span></span><a class="headerlink" href="#c.log_msg_hdr.log_msg_hdr_params.raw" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="c union">
<dt class="sig sig-object c" id="c.log_msg_head_data">
<span class="target" id="unionlog__msg__head__data"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_head_data</span></span></span><a class="headerlink" href="#c.log_msg_head_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Data part of log message. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_head_data.args">
<span class="target" id="unionlog__msg__head__data_1afceb0b78aebb00268326cf4aacfc770f"></span><a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">args</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3U</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.log_msg_head_data.args" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_head_data.bytes">
<span class="target" id="unionlog__msg__head__data_1a005a522de2fa8570e11ceda3f0bff7ab"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bytes</span></span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">3U</span></span><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.log_msg_head_data.bytes" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_msg_ext_head_data">
<span class="target" id="structlog__msg__ext__head__data"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_ext_head_data</span></span></span><a class="headerlink" href="#c.log_msg_ext_head_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Data part of extended log message. </p>
<dl class="c union">
<dt class="sig sig-object c" id="c.log_msg_ext_head_data.log_msg_ext_head_data_data">
<span class="target" id="unionlog__msg__ext__head__data_1_1log__msg__ext__head__data__data"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_ext_head_data_data</span></span></span><a class="headerlink" href="#c.log_msg_ext_head_data.log_msg_ext_head_data_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_ext_head_data.log_msg_ext_head_data_data.args">
<span class="target" id="unionlog__msg__ext__head__data_1_1log__msg__ext__head__data__data_1a18d145bf9aaac65144865564ea86431f"></span><a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">args</span></span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">3U</span></span><span class="w"> </span><span class="o"><span class="pre">-</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="w"> </span><span class="o"><span class="pre">/</span></span><span class="w"> </span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.log_msg_ext_head_data.log_msg_ext_head_data_data.args" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_ext_head_data.log_msg_ext_head_data_data.bytes">
<span class="target" id="unionlog__msg__ext__head__data_1_1log__msg__ext__head__data__data_1ae16167de7090b58f58564e4795c10cde"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bytes</span></span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">3U</span></span><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="w"> </span><span class="o"><span class="pre">-</span></span><span class="w"> </span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.log_msg_ext_head_data.log_msg_ext_head_data_data.bytes" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_msg">
<span class="target" id="structlog__msg"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg</span></span></span><a class="headerlink" href="#c.log_msg" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Log message structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg.next">
<span class="target" id="structlog__msg_1a669c072f4fb1702a89806e13cd494a06"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">next</span></span></span><a class="headerlink" href="#c.log_msg.next" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Used by logger core list. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg.hdr">
<span class="target" id="structlog__msg_1a5831ce7bc8d973714a7ca37455890d2a"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_hdr" title="log_msg_hdr"><span class="n"><span class="pre">log_msg_hdr</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hdr</span></span></span><a class="headerlink" href="#c.log_msg.hdr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Message header. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg.payload">
<span class="target" id="structlog__msg_1a02af2c1bd343efaacb95ae1387c45374"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="p"><span class="pre">.</span></span><a class="reference internal" href="#c.log_msg.log_msg_data" title="log_msg.log_msg_data"><span class="n"><span class="pre">log_msg_data</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">payload</span></span></span><a class="headerlink" href="#c.log_msg.payload" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Message data. </p>
</dd></dl>

</div>
<dl class="c union">
<dt class="sig sig-object c" id="c.log_msg.log_msg_data">
<span class="target" id="unionlog__msg_1_1log__msg__data"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_data</span></span></span><a class="headerlink" href="#c.log_msg.log_msg_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg.log_msg_data.single">
<span class="target" id="unionlog__msg_1_1log__msg__data_1aa75b42d7e1134bdd5ccab04465febd83"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_head_data" title="log_msg_head_data"><span class="n"><span class="pre">log_msg_head_data</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">single</span></span></span><a class="headerlink" href="#c.log_msg.log_msg_data.single" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg.log_msg_data.ext">
<span class="target" id="unionlog__msg_1_1log__msg__data_1a1af02bd39b9db955ca04694b011be82d"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_ext_head_data" title="log_msg_ext_head_data"><span class="n"><span class="pre">log_msg_ext_head_data</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ext</span></span></span><a class="headerlink" href="#c.log_msg.log_msg_data.ext" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_msg_cont">
<span class="target" id="structlog__msg__cont"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_cont</span></span></span><a class="headerlink" href="#c.log_msg_cont" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Chunks following message head when message is extended. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_cont.next">
<span class="target" id="structlog__msg__cont_1adcd7af84ef386df1c3fb231c5d6989d3"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_cont" title="log_msg_cont"><span class="n"><span class="pre">log_msg_cont</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">next</span></span></span><a class="headerlink" href="#c.log_msg_cont.next" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to the next chunk. </p>
</dd></dl>

</div>
<dl class="c union">
<dt class="sig sig-object c" id="c.log_msg_cont.log_msg_cont_data">
<span class="target" id="unionlog__msg__cont_1_1log__msg__cont__data"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_cont_data</span></span></span><a class="headerlink" href="#c.log_msg_cont.log_msg_cont_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_cont.log_msg_cont_data.args">
<span class="target" id="unionlog__msg__cont_1_1log__msg__cont__data_1a9d1fcb986dd26b683afcae12e97deb19"></span><a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">args</span></span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="p"><span class="pre">)</span></span><span class="w"> </span><span class="o"><span class="pre">-</span></span><span class="w"> </span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="w"> </span><span class="o"><span class="pre">/</span></span><span class="w"> </span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#c.log_arg_t" title="log_arg_t"><span class="n"><span class="pre">log_arg_t</span></span></a><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.log_msg_cont.log_msg_cont_data.args" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_cont.log_msg_cont_data.bytes">
<span class="target" id="unionlog__msg__cont_1_1log__msg__cont__data_1a8b9eed19d7da4f09dc4ce37659adb9c7"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bytes</span></span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="p"><span class="pre">)</span></span><span class="w"> </span><span class="o"><span class="pre">-</span></span><span class="w"> </span><span class="k"><span class="pre">sizeof</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.log_msg_cont.log_msg_cont_data.bytes" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="c union">
<dt class="sig sig-object c" id="c.log_msg_chunk">
<span class="target" id="unionlog__msg__chunk"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_msg_chunk</span></span></span><a class="headerlink" href="#c.log_msg_chunk" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_msg.h&gt;</em></div>
<p>Log message. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_chunk.head">
<span class="target" id="unionlog__msg__chunk_1a645b325de50323c698913c6d54679312"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">head</span></span></span><a class="headerlink" href="#c.log_msg_chunk.head" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.log_msg_chunk.cont">
<span class="target" id="unionlog__msg__chunk_1a8fbf013fe14cf2ae703482dde52e3c2e"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_cont" title="log_msg_cont"><span class="n"><span class="pre">log_msg_cont</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cont</span></span></span><a class="headerlink" href="#c.log_msg_chunk.cont" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="logger-backend-interface">
<h3><a class="toc-backref" href="#id38">Logger backend interface</a><a class="headerlink" href="#logger-backend-interface" title="Permalink to this headline">¶</a></h3>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__log__backend"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">log_backend</span></span></dt>
<dd><p>Logger backend interface. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_BACKEND_DEFINE">
<span class="target" id="group__log__backend_1ga3a4cc530530d1a8b33dc787842bba119"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_BACKEND_DEFINE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_name</span></span>, <span class="n"><span class="pre">_api</span></span>, <span class="n"><span class="pre">_autostart</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_BACKEND_DEFINE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Macro for creating a logger backend instance. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_name</strong> – Name of the backend instance. </p></li>
<li><p><strong>_api</strong> – Logger backend API. </p></li>
<li><p><strong>_autostart</strong> – If true backend is initialized and activated together with the logger subsystem. </p></li>
<li><p><strong>...</strong> – Optional context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_put">
<span class="target" id="group__log__backend_1ga57516a7c8a3ee0d4bcda489809c26305"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_put</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_put" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Put message with log entry to the backend. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>DEPRECATED. Use logging v2.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
<li><p><strong>msg</strong> – <strong>[in]</strong> Pointer to message with log entry. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_msg2_process">
<span class="target" id="group__log__backend_1ga65350888a1895bff0d82e1f72ca92467"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_msg2_process</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="n"><span class="pre">log_msg2_generic</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_msg2_process" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process message. </p>
<p>Function is used in deferred and immediate mode. On return, message content is processed by the backend and memory can be freed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
<li><p><strong>msg</strong> – <strong>[in]</strong> Pointer to message with log entry. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_put_sync_string">
<span class="target" id="group__log__backend_1ga66e46c1d9d728acef0610d76e26cc433"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_put_sync_string</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_ids" title="log_msg_ids"><span class="n"><span class="pre">log_msg_ids</span></span></a><span class="w"> </span><span class="n"><span class="pre">src_level</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">timestamp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fmt</span></span>, <span class="n"><span class="pre">va_list</span></span><span class="w"> </span><span class="n"><span class="pre">ap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_put_sync_string" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Synchronously process log message. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>DEPRECATED. Use logging v2.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
<li><p><strong>src_level</strong> – <strong>[in]</strong> Message details. </p></li>
<li><p><strong>timestamp</strong> – <strong>[in]</strong> Timestamp. </p></li>
<li><p><strong>fmt</strong> – <strong>[in]</strong> Log string. </p></li>
<li><p><strong>ap</strong> – <strong>[in]</strong> Log string arguments. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_put_sync_hexdump">
<span class="target" id="group__log__backend_1ga688fcdb37979327fe8ef1f7a5d2d54e0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_put_sync_hexdump</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_ids" title="log_msg_ids"><span class="n"><span class="pre">log_msg_ids</span></span></a><span class="w"> </span><span class="n"><span class="pre">src_level</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">timestamp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">metadata</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_put_sync_hexdump" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Synchronously process log hexdump_message. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>DEPRECATED. Use logging v2.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
<li><p><strong>src_level</strong> – <strong>[in]</strong> Message details. </p></li>
<li><p><strong>timestamp</strong> – <strong>[in]</strong> Timestamp. </p></li>
<li><p><strong>metadata</strong> – <strong>[in]</strong> Raw string associated with the data. </p></li>
<li><p><strong>data</strong> – <strong>[in]</strong> Data. </p></li>
<li><p><strong>len</strong> – <strong>[in]</strong> Data length. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_dropped">
<span class="target" id="group__log__backend_1gab300348c43168de1e7eaae8c770b6950"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_dropped</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">cnt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_dropped" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Notify backend about dropped log messages. </p>
<p>Function is optional.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
<li><p><strong>cnt</strong> – <strong>[in]</strong> Number of dropped logs since last notification. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_panic">
<span class="target" id="group__log__backend_1gad12906ffa810514c1d43cb26bba5ea4b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_panic</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_panic" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reconfigure backend to panic mode. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_id_set">
<span class="target" id="group__log__backend_1ga8f263b24140229e5cf8e98b322501bca"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_id_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_id_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set backend id. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is used internally by the logger.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – Pointer to the backend instance. </p></li>
<li><p><strong>id</strong> – ID. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_id_get">
<span class="target" id="group__log__backend_1gae3e1d6eaf21dcc1d0961e85271d5e5f3"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_id_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_id_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get backend id. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is used internally by the logger.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Id. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_get">
<span class="target" id="group__log__backend_1gaf419f3590f42893b7091beed57763c7c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_get</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">idx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get backend. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> – <strong>[in]</strong> Pointer to the backend instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pointer to the backend instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_count_get">
<span class="target" id="group__log__backend_1gad055c1dc8e0236b604cb553df3e16a52"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_count_get</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_count_get" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get number of backends. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of backends. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_activate">
<span class="target" id="group__log__backend_1ga3ef0b88b4118f7ee04749ace2646c99b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_activate</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_activate" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Activate backend. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
<li><p><strong>ctx</strong> – <strong>[in]</strong> User context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_deactivate">
<span class="target" id="group__log__backend_1ga1534fdfabce1e97c829aa79d57739589"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_deactivate</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_deactivate" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deactivate backend. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_backend_is_active">
<span class="target" id="group__log__backend_1ga54dd06d48edf92ef191dab946aead216"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_is_active</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_backend" title="log_backend"><span class="n"><span class="pre">log_backend</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">backend</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_backend_is_active" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check state of the backend. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backend</strong> – <strong>[in]</strong> Pointer to the backend instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if backend is active, false otherwise. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.log_backend_api">
<span class="target" id="structlog__backend__api"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_api</span></span></span><a class="headerlink" href="#c.log_backend_api" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_backend.h&gt;</em></div>
<p>Logger backend API. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_backend_control_block">
<span class="target" id="structlog__backend__control__block"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend_control_block</span></span></span><a class="headerlink" href="#c.log_backend_control_block" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_backend.h&gt;</em></div>
<p>Logger backend control block. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_backend">
<span class="target" id="structlog__backend"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_backend</span></span></span><a class="headerlink" href="#c.log_backend" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_backend.h&gt;</em></div>
<p>Logger backend structure. </p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="logger-output-formatting">
<h3><a class="toc-backref" href="#id39">Logger output formatting</a><a class="headerlink" href="#logger-output-formatting" title="Permalink to this headline">¶</a></h3>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__log__output"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">log_output</span></span></dt>
<dd><p>Log output API. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_FLAG_COLORS">
<span class="target" id="group__log__output_1gaff76f2c3b2f84eb212def15d3ec6d8d4"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_FLAG_COLORS</span></span></span><a class="headerlink" href="#c.LOG_OUTPUT_FLAG_COLORS" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag forcing ANSI escape code colors, red (errors), yellow (warnings). </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_FLAG_TIMESTAMP">
<span class="target" id="group__log__output_1gad720632f631fcfbd3f1a57aaa6f627f4"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_FLAG_TIMESTAMP</span></span></span><a class="headerlink" href="#c.LOG_OUTPUT_FLAG_TIMESTAMP" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag forcing timestamp. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_FLAG_FORMAT_TIMESTAMP">
<span class="target" id="group__log__output_1gad6da2da1aa7b511a8a1188afe5ca4ec7"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_FLAG_FORMAT_TIMESTAMP</span></span></span><a class="headerlink" href="#c.LOG_OUTPUT_FLAG_FORMAT_TIMESTAMP" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag forcing timestamp formatting. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_FLAG_LEVEL">
<span class="target" id="group__log__output_1ga4a9e9275950ea4f87b12fab1b311d598"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_FLAG_LEVEL</span></span></span><a class="headerlink" href="#c.LOG_OUTPUT_FLAG_LEVEL" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag forcing severity level prefix. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_FLAG_CRLF_NONE">
<span class="target" id="group__log__output_1gae98fc58dccaf9e3df1f8f443031238d4"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_FLAG_CRLF_NONE</span></span></span><a class="headerlink" href="#c.LOG_OUTPUT_FLAG_CRLF_NONE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag preventing the logger from adding CR and LF characters. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_FLAG_CRLF_LFONLY">
<span class="target" id="group__log__output_1ga763b331ea9bd2081e7f49d8efdf7f67c"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_FLAG_CRLF_LFONLY</span></span></span><a class="headerlink" href="#c.LOG_OUTPUT_FLAG_CRLF_LFONLY" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag forcing a single LF character for line breaks. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_FLAG_FORMAT_SYSLOG">
<span class="target" id="group__log__output_1gabdce594ece53e72121af70c8b2edb091"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_FLAG_FORMAT_SYSLOG</span></span></span><a class="headerlink" href="#c.LOG_OUTPUT_FLAG_FORMAT_SYSLOG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag forcing syslog format specified in RFC 5424. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_FLAG_FORMAT_SYST">
<span class="target" id="group__log__output_1ga181df20a3a85d190c71dbb3cb51374a6"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_FLAG_FORMAT_SYST</span></span></span><a class="headerlink" href="#c.LOG_OUTPUT_FLAG_FORMAT_SYST" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flag forcing syslog format specified in mipi sys-t. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.LOG_OUTPUT_DEFINE">
<span class="target" id="group__log__output_1gac45fa5e07fb8503ffd754128714e3ebc"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_OUTPUT_DEFINE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_name</span></span>, <span class="n"><span class="pre">_func</span></span>, <span class="n"><span class="pre">_buf</span></span>, <span class="n"><span class="pre">_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_OUTPUT_DEFINE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create <a class="reference internal" href="#structlog__output"><span class="std std-ref">log_output</span></a> instance. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_name</strong> – Instance name. </p></li>
<li><p><strong>_func</strong> – Function for processing output data. </p></li>
<li><p><strong>_buf</strong> – Pointer to the output buffer. </p></li>
<li><p><strong>_size</strong> – Size of the output buffer. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.log_output_func_t">
<span class="target" id="group__log__output_1gafad1ddde7ecd56132a05df92adf7166d"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_output_func_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.log_output_func_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prototype of the function processing output data. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the log output function cannot process all of the data, it is its responsibility to mark them as dropped or discarded by returning the corresponding number of bytes dropped or discarded to the caller. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param buf</dt>
<dd class="field-odd"><p>The buffer data. </p>
</dd>
<dt class="field-even">Param size</dt>
<dd class="field-even"><p>The buffer size. </p>
</dd>
<dt class="field-odd">Param ctx</dt>
<dd class="field-odd"><p>User context.</p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p>Number of bytes processed, dropped or discarded.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_msg_process">
<span class="target" id="group__log__output_1ga95a599f06b043151edff015bd4c67fbe"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_msg_process</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_output" title="log_output"><span class="n"><span class="pre">log_output</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">output</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg" title="log_msg"><span class="n"><span class="pre">log_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_msg_process" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process log messages to readable strings. </p>
<p>Function is using provided context with the buffer and output function to process formatted string and output the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Pointer to the log output instance. </p></li>
<li><p><strong>msg</strong> – Log message. </p></li>
<li><p><strong>flags</strong> – Optional flags. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_msg2_process">
<span class="target" id="group__log__output_1ga98b72dbff9cec32704ba2f223def14ef"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_msg2_process</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_output_msg2_process" title="log_output"><span class="n"><span class="pre">log_output</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">log_output</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">log_msg2</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_msg2_process" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process log messages v2 to readable strings. </p>
<p>Function is using provided context with the buffer and output function to process formatted string and output the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_output</strong> – Pointer to the log output instance. </p></li>
<li><p><strong>msg</strong> – Log message. </p></li>
<li><p><strong>flags</strong> – Optional flags. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_string">
<span class="target" id="group__log__output_1gad00a7a33c0e94870db5737cdb4ba6439"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_string</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_output" title="log_output"><span class="n"><span class="pre">log_output</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">output</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_ids" title="log_msg_ids"><span class="n"><span class="pre">log_msg_ids</span></span></a><span class="w"> </span><span class="n"><span class="pre">src_level</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">timestamp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fmt</span></span>, <span class="n"><span class="pre">va_list</span></span><span class="w"> </span><span class="n"><span class="pre">ap</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_string" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process log string. </p>
<p>Function is formatting provided string adding optional prefixes and postfixes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Pointer to <a class="reference internal" href="#structlog__output"><span class="std std-ref">log_output</span></a> instance. </p></li>
<li><p><strong>src_level</strong> – Log source and level structure. </p></li>
<li><p><strong>timestamp</strong> – Timestamp. </p></li>
<li><p><strong>fmt</strong> – String. </p></li>
<li><p><strong>ap</strong> – String arguments. </p></li>
<li><p><strong>flags</strong> – Optional flags. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_hexdump">
<span class="target" id="group__log__output_1ga659752b375c02e3593de2c582fc91c93"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_hexdump</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_output" title="log_output"><span class="n"><span class="pre">log_output</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">output</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_msg_ids" title="log_msg_ids"><span class="n"><span class="pre">log_msg_ids</span></span></a><span class="w"> </span><span class="n"><span class="pre">src_level</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">timestamp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">metadata</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_hexdump" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process log hexdump. </p>
<p>Function is formatting provided hexdump adding optional prefixes and postfixes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Pointer to <a class="reference internal" href="#structlog__output"><span class="std std-ref">log_output</span></a> instance. </p></li>
<li><p><strong>src_level</strong> – Log source and level structure. </p></li>
<li><p><strong>timestamp</strong> – Timestamp. </p></li>
<li><p><strong>metadata</strong> – String. </p></li>
<li><p><strong>data</strong> – Data. </p></li>
<li><p><strong>length</strong> – Data length. </p></li>
<li><p><strong>flags</strong> – Optional flags. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_dropped_process">
<span class="target" id="group__log__output_1ga10bbd405659afefdc7ffc686cb5a4f99"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_dropped_process</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_output" title="log_output"><span class="n"><span class="pre">log_output</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">output</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">cnt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_dropped_process" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process dropped messages indication. </p>
<p>Function prints error message indicating lost log messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Pointer to the log output instance. </p></li>
<li><p><strong>cnt</strong> – Number of dropped messages. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_flush">
<span class="target" id="group__log__output_1ga22f57a1cd1f4687536108ba2d483bb06"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_flush</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_output" title="log_output"><span class="n"><span class="pre">log_output</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">output</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_flush" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Flush output buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Pointer to the log output instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_ctx_set">
<span class="target" id="group__log__output_1gaca0280abfe17eea27f62c770d91aabcb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_ctx_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_output" title="log_output"><span class="n"><span class="pre">log_output</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">output</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_ctx_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for setting user context passed to the output function. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Pointer to the log output instance. </p></li>
<li><p><strong>ctx</strong> – User context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_hostname_set">
<span class="target" id="group__log__output_1ga473442b81d871234e264bf4005da27cc"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_hostname_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.log_output" title="log_output"><span class="n"><span class="pre">log_output</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">output</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">hostname</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_hostname_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function for setting hostname of this device. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> – Pointer to the log output instance. </p></li>
<li><p><strong>hostname</strong> – Hostname of this device </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_timestamp_freq_set">
<span class="target" id="group__log__output_1ga4e69b802ec5caef8178b0de88fc68412"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_timestamp_freq_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">freq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_timestamp_freq_set" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set timestamp frequency. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> – Frequency in Hz. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.log_output_timestamp_to_us">
<span class="target" id="group__log__output_1gaf7db765b823f4408fb8424d1ff8fb4e1"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_timestamp_to_us</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">timestamp</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.log_output_timestamp_to_us" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert timestamp of the message to us. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamp</strong> – Message timestamp</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Timestamp value in us. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.log_output_control_block">
<span class="target" id="structlog__output__control__block"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output_control_block</span></span></span><a class="headerlink" href="#c.log_output_control_block" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_output.h&gt;</em></div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.log_output">
<span class="target" id="structlog__output"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_output</span></span></span><a class="headerlink" href="#c.log_output" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;log_output.h&gt;</em></div>
<p>Log_output instance structure. </p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>