<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Watchdog &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Video" href="video.html" />
    <link rel="prev" title="MDIO" href="mdio.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.99
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/3.0.0/">3.0.0</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libc/index.html">C standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modbus/index.html">Modbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Peripherals</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="adc.html">ADC</a></li>
<li class="toctree-l3"><a class="reference internal" href="counter.html">Counter</a></li>
<li class="toctree-l3"><a class="reference internal" href="clock_control.html">Clock Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="dac.html">DAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="dma.html">DMA</a></li>
<li class="toctree-l3"><a class="reference internal" href="ec_host_cmd_periph.html">EC Host Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="eeprom.html">EEPROM</a></li>
<li class="toctree-l3"><a class="reference internal" href="entropy.html">Entropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="flash.html">Flash</a></li>
<li class="toctree-l3"><a class="reference internal" href="gna.html">GNA</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="hwinfo.html">Hardware Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c_eeprom_slave.html">I2C EEPROM Slave</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">I2C</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipm.html">IPM</a></li>
<li class="toctree-l3"><a class="reference internal" href="kscan.html">KSCAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="led.html">LED</a></li>
<li class="toctree-l3"><a class="reference internal" href="mbox.html">MBOX</a></li>
<li class="toctree-l3"><a class="reference internal" href="pinmux.html">Pinmux</a></li>
<li class="toctree-l3"><a class="reference internal" href="pwm.html">PWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="ps2.html">PS/2</a></li>
<li class="toctree-l3"><a class="reference internal" href="peci.html">PECI</a></li>
<li class="toctree-l3"><a class="reference internal" href="regulators.html">Regulators</a></li>
<li class="toctree-l3"><a class="reference internal" href="rtc.html">RTC</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensor.html">Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi.html">SPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="mdio.html">MDIO</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Watchdog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="video.html">Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="espi.html">eSPI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usermode/index.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/kconfig.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">API Reference</a> &raquo;</li>
  
     <li><a href="index.html">Peripherals</a> &raquo;</li>
  
  <li>Watchdog</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/peripherals/watchdog.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="watchdog">
<span id="watchdog-api"></span><h1>Watchdog<a class="headerlink" href="#watchdog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__watchdog__interface"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">watchdog_interface</span></span></dt>
<dd><p>Watchdog Interface. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-watchdog-reset-behavior.">Watchdog Reset Behavior.</p>
<p>Reset behavior after timeout. </p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.WDT_FLAG_RESET_NONE">
<span class="target" id="group__watchdog__interface_1ga46a9d878848572cacde89a777977c86b"></span><span class="sig-name descname"><span class="n"><span class="pre">WDT_FLAG_RESET_NONE</span></span></span><a class="headerlink" href="#c.WDT_FLAG_RESET_NONE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>No reset </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.WDT_FLAG_RESET_CPU_CORE">
<span class="target" id="group__watchdog__interface_1ga24e1f60628198d8e763cf7ec14afed2e"></span><span class="sig-name descname"><span class="n"><span class="pre">WDT_FLAG_RESET_CPU_CORE</span></span></span><a class="headerlink" href="#c.WDT_FLAG_RESET_CPU_CORE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>CPU core reset </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.WDT_FLAG_RESET_SOC">
<span class="target" id="group__watchdog__interface_1ga71845f454594fac290599f3537d563c9"></span><span class="sig-name descname"><span class="n"><span class="pre">WDT_FLAG_RESET_SOC</span></span></span><a class="headerlink" href="#c.WDT_FLAG_RESET_SOC" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Global SoC reset </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.WDT_OPT_PAUSE_IN_SLEEP">
<span class="target" id="group__watchdog__interface_1gafe8472573a7d77a283974cd3843c3c01"></span><span class="sig-name descname"><span class="n"><span class="pre">WDT_OPT_PAUSE_IN_SLEEP</span></span></span><a class="headerlink" href="#c.WDT_OPT_PAUSE_IN_SLEEP" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pause watchdog timer when CPU is in sleep state. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.WDT_OPT_PAUSE_HALTED_BY_DBG">
<span class="target" id="group__watchdog__interface_1ga6d6e1b7cd126a6ca55a955b783962339"></span><span class="sig-name descname"><span class="n"><span class="pre">WDT_OPT_PAUSE_HALTED_BY_DBG</span></span></span><a class="headerlink" href="#c.WDT_OPT_PAUSE_HALTED_BY_DBG" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pause watchdog timer when CPU is halted by the debugger. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.WDT_FLAG_RESET_SHIFT">
<span class="target" id="group__watchdog__interface_1gac589b265f9d508ff22faf997c73dd4e6"></span><span class="sig-name descname"><span class="n"><span class="pre">WDT_FLAG_RESET_SHIFT</span></span></span><a class="headerlink" href="#c.WDT_FLAG_RESET_SHIFT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Watchdog reset flag bit field mask shift. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.WDT_FLAG_RESET_MASK">
<span class="target" id="group__watchdog__interface_1ga959a6242486cc104be96e6295a008e42"></span><span class="sig-name descname"><span class="n"><span class="pre">WDT_FLAG_RESET_MASK</span></span></span><a class="headerlink" href="#c.WDT_FLAG_RESET_MASK" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Watchdog reset flag bit field mask. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.wdt_callback_t">
<span class="target" id="group__watchdog__interface_1ga11a942c8e7ee7ceae87c4601dbea8486"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">wdt_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">channel_id</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.wdt_callback_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Watchdog callback. </p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.wdt_api_setup">
<span class="target" id="group__watchdog__interface_1gaeb1a64f8c7f986bf864de0306ba429fd"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">wdt_api_setup</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.wdt_api_setup" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback API for setting up watchdog instance. See <a class="reference internal" href="#group__watchdog__interface_1ga822239f3d73585e2d01312657dbbb782"><span class="std std-ref">wdt_setup()</span></a> for argument descriptions. </p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.wdt_api_disable">
<span class="target" id="group__watchdog__interface_1ga2b1afca95837fb2355e4c42f99508cb4"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">wdt_api_disable</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.wdt_api_disable" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback API for disabling watchdog instance. See <a class="reference internal" href="#group__watchdog__interface_1ga32c32cc911e6a0e20cb2dfdd3945be4e"><span class="std std-ref">wdt_disable()</span></a> for argument descriptions. </p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.wdt_api_install_timeout">
<span class="target" id="group__watchdog__interface_1gacfc97bea9c13ec073396fa62241dd6ce"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">wdt_api_install_timeout</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.wdt_timeout_cfg" title="wdt_timeout_cfg"><span class="n"><span class="pre">wdt_timeout_cfg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.wdt_api_install_timeout" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback API for installing new timeout. See <a class="reference internal" href="#group__watchdog__interface_1ga5be7aa7f1987be0e69c74b62d1c126a5"><span class="std std-ref">wdt_install_timeout()</span></a> for argument descriptions. </p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.wdt_api_feed">
<span class="target" id="group__watchdog__interface_1ga87d42ebd21a4e72e08666d04dde4f5ef"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">wdt_api_feed</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">channel_id</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.wdt_api_feed" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback API for feeding specified watchdog timeout. See (wdt_feed) for argument descriptions. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.wdt_setup">
<span class="target" id="group__watchdog__interface_1ga822239f3d73585e2d01312657dbbb782"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wdt_setup</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">options</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.wdt_setup" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set up watchdog instance. </p>
<p>This function is used for configuring global watchdog settings that affect all timeouts. It should be called after installing timeouts. After successful return, all installed timeouts are valid and must be serviced periodically by calling <a class="reference internal" href="#group__watchdog__interface_1ga87265e8988e928eaa380ea29afb6eabe"><span class="std std-ref">wdt_feed()</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>options</strong> – Configuration options as defined by the WDT_OPT_* constants</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-ENOTSUP</strong> – If any of the set options is not supported. </p></li>
<li><p><strong>-EBUSY</strong> – If watchdog instance has been already setup. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.wdt_disable">
<span class="target" id="group__watchdog__interface_1ga32c32cc911e6a0e20cb2dfdd3945be4e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wdt_disable</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.wdt_disable" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Disable watchdog instance. </p>
<p>This function disables the watchdog instance and automatically uninstalls all timeouts. To set up a new watchdog, install timeouts and call <a class="reference internal" href="#group__watchdog__interface_1ga822239f3d73585e2d01312657dbbb782"><span class="std std-ref">wdt_setup()</span></a> again. Not all watchdogs can be restarted after they are disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-EFAULT</strong> – If watchdog instance is not enabled. </p></li>
<li><p><strong>-EPERM</strong> – If watchdog can not be disabled directly by application code. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.wdt_install_timeout">
<span class="target" id="group__watchdog__interface_1ga5be7aa7f1987be0e69c74b62d1c126a5"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wdt_install_timeout</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.wdt_timeout_cfg" title="wdt_timeout_cfg"><span class="n"><span class="pre">wdt_timeout_cfg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.wdt_install_timeout" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Install new timeout. </p>
<p>This function must be used before <a class="reference internal" href="#group__watchdog__interface_1ga822239f3d73585e2d01312657dbbb782"><span class="std std-ref">wdt_setup()</span></a>. Changes applied here have no effects until <a class="reference internal" href="#group__watchdog__interface_1ga822239f3d73585e2d01312657dbbb782"><span class="std std-ref">wdt_setup()</span></a> is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>cfg</strong> – Pointer to timeout configuration structure.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>channel_id</strong> – If successful, a non-negative value indicating the index of the channel to which the timeout was assigned. This value is supposed to be used as the parameter in calls to <a class="reference internal" href="#group__watchdog__interface_1ga87265e8988e928eaa380ea29afb6eabe"><span class="std std-ref">wdt_feed()</span></a>. </p></li>
<li><p><strong>-EBUSY</strong> – If timeout can not be installed while watchdog has already been setup. </p></li>
<li><p><strong>-ENOMEM</strong> – If no more timeouts can be installed. </p></li>
<li><p><strong>-ENOTSUP</strong> – If any of the set flags is not supported. </p></li>
<li><p><strong>-EINVAL</strong> – If any of the window timeout value is out of possible range. This value is also returned if watchdog supports only one timeout value for all timeouts and the supplied timeout window differs from windows for alarms installed so far. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.wdt_feed">
<span class="target" id="group__watchdog__interface_1ga87265e8988e928eaa380ea29afb6eabe"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wdt_feed</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">channel_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.wdt_feed" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Feed specified watchdog timeout. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel_id</strong> – Index of the fed channel.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-EAGAIN</strong> – If completing the feed operation would stall the caller, for example due to an in-progress watchdog operation such as a previous <code class="docutils literal notranslate"><a class="reference internal" href="#group__watchdog__interface_1ga87265e8988e928eaa380ea29afb6eabe"><span class="std std-ref"><span class="pre">wdt_feed()</span></span></a></code>. </p></li>
<li><p><strong>-EINVAL</strong> – If there is no installed timeout for supplied channel. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.wdt_window">
<span class="target" id="structwdt__window"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wdt_window</span></span></span><a class="headerlink" href="#c.wdt_window" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;watchdog.h&gt;</em></div>
<p>Watchdog timeout window. </p>
<p>Each installed timeout needs feeding within the specified time window, otherwise the watchdog will trigger. If the watchdog instance does not support window timeouts then min value must be equal to 0.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If specified values can not be precisely set they are always rounded up. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param min</dt>
<dd class="field-odd"><p>Lower limit of watchdog feed timeout in milliseconds. </p>
</dd>
<dt class="field-even">Param max</dt>
<dd class="field-even"><p>Upper limit of watchdog feed timeout in milliseconds.</p>
</dd>
</dl>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.wdt_timeout_cfg">
<span class="target" id="structwdt__timeout__cfg"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wdt_timeout_cfg</span></span></span><a class="headerlink" href="#c.wdt_timeout_cfg" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;watchdog.h&gt;</em></div>
<p>Watchdog timeout configuration struct. </p>
<dl class="field-list simple">
<dt class="field-odd">Param window</dt>
<dd class="field-odd"><p>Timing parameters of watchdog timeout. </p>
</dd>
<dt class="field-even">Param callback</dt>
<dd class="field-even"><p>Timeout callback. Passing NULL means that no callback will be run. </p>
</dd>
<dt class="field-odd">Param next</dt>
<dd class="field-odd"><p>Pointer to the next timeout configuration. This pointer is used for watchdogs with staged timeouts functionality. Value must be NULL for single stage timeout. </p>
</dd>
<dt class="field-even">Param flags</dt>
<dd class="field-even"><p>Bit field with following parts: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reset</span>        <span class="p">[</span> <span class="mi">0</span> <span class="p">:</span> <span class="mi">1</span> <span class="p">]</span>   <span class="o">-</span> <span class="n">perform</span> <span class="n">specified</span> <span class="n">reset</span> <span class="n">after</span> <span class="n">timeout</span><span class="o">/</span><span class="n">callback</span>
</pre></div>
</div>
 </p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2022 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Mar 05, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>