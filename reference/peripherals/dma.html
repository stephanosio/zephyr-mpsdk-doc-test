<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DMA &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="EC Host Command" href="ec_host_cmd_periph.html" />
    <link rel="prev" title="DAC" href="dac.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.99
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/3.0.0/">3.0.0</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libc/index.html">C standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modbus/index.html">Modbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Peripherals</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="adc.html">ADC</a></li>
<li class="toctree-l3"><a class="reference internal" href="counter.html">Counter</a></li>
<li class="toctree-l3"><a class="reference internal" href="clock_control.html">Clock Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="dac.html">DAC</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">DMA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ec_host_cmd_periph.html">EC Host Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="eeprom.html">EEPROM</a></li>
<li class="toctree-l3"><a class="reference internal" href="entropy.html">Entropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="flash.html">Flash</a></li>
<li class="toctree-l3"><a class="reference internal" href="gna.html">GNA</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="hwinfo.html">Hardware Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c_eeprom_slave.html">I2C EEPROM Slave</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">I2C</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipm.html">IPM</a></li>
<li class="toctree-l3"><a class="reference internal" href="kscan.html">KSCAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="led.html">LED</a></li>
<li class="toctree-l3"><a class="reference internal" href="mbox.html">MBOX</a></li>
<li class="toctree-l3"><a class="reference internal" href="pinmux.html">Pinmux</a></li>
<li class="toctree-l3"><a class="reference internal" href="pwm.html">PWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="ps2.html">PS/2</a></li>
<li class="toctree-l3"><a class="reference internal" href="peci.html">PECI</a></li>
<li class="toctree-l3"><a class="reference internal" href="regulators.html">Regulators</a></li>
<li class="toctree-l3"><a class="reference internal" href="rtc.html">RTC</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensor.html">Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi.html">SPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="mdio.html">MDIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="watchdog.html">Watchdog</a></li>
<li class="toctree-l3"><a class="reference internal" href="video.html">Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="espi.html">eSPI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usermode/index.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/kconfig.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">API Reference</a> &raquo;</li>
  
     <li><a href="index.html">Peripherals</a> &raquo;</li>
  
  <li>DMA</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/peripherals/dma.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="dma">
<span id="dma-api"></span><h1>DMA<a class="headerlink" href="#dma" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__dma__interface"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">dma_interface</span></span></dt>
<dd><p>DMA Interface. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.DMA_MAGIC">
<span class="target" id="group__dma__interface_1gae28ba5114dc2e9ecb89ccf9b623e938f"></span><span class="sig-name descname"><span class="n"><span class="pre">DMA_MAGIC</span></span></span><a class="headerlink" href="#c.DMA_MAGIC" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.dma_callback_t">
<span class="target" id="group__dma__interface_1gaca9b0a9ed3ffdc84275187e0b05c20d9"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">dma_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_data</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.dma_callback_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback function for DMA transfer completion. </p>
<p>If enabled, callback function will be invoked at transfer completion or when error happens.</p>
<dl class="field-list simple">
<dt class="field-odd">Param dev</dt>
<dd class="field-odd"><p>Pointer to the DMA device calling the callback. </p>
</dd>
<dt class="field-even">Param user_data</dt>
<dd class="field-even"><p>A pointer to some user data or NULL </p>
</dd>
<dt class="field-odd">Param channel</dt>
<dd class="field-odd"><p>The channel number </p>
</dd>
<dt class="field-even">Param status</dt>
<dd class="field-even"><p>0 on success, a negative errno otherwise </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.dma_channel_direction">
<span class="target" id="group__dma__interface_1gae442d8ba73be7e53b68165647b0ea402"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_channel_direction</span></span></span><a class="headerlink" href="#c.dma_channel_direction" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.MEMORY_TO_MEMORY">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402a52f28a5eff23fcddd2a138092d9f7cd5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MEMORY_TO_MEMORY</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x0</span></span><a class="headerlink" href="#c.dma_channel_direction.MEMORY_TO_MEMORY" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.MEMORY_TO_PERIPHERAL">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402a4617446ef0e7c2bced585b309011a25a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MEMORY_TO_PERIPHERAL</span></span></span><a class="headerlink" href="#c.dma_channel_direction.MEMORY_TO_PERIPHERAL" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.PERIPHERAL_TO_MEMORY">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402a5fbc19c9e12c11973c0cf0a593ccf165"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PERIPHERAL_TO_MEMORY</span></span></span><a class="headerlink" href="#c.dma_channel_direction.PERIPHERAL_TO_MEMORY" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.PERIPHERAL_TO_PERIPHERAL">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402ae23cbfefccef9d19dd91f0c746004449"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PERIPHERAL_TO_PERIPHERAL</span></span></span><a class="headerlink" href="#c.dma_channel_direction.PERIPHERAL_TO_PERIPHERAL" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.HOST_TO_MEMORY">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402a7e2b4150c28b057598975e95e8b7494c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">HOST_TO_MEMORY</span></span></span><a class="headerlink" href="#c.dma_channel_direction.HOST_TO_MEMORY" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.MEMORY_TO_HOST">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402a61e65f3065bf7cdb40efc9039debbb60"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MEMORY_TO_HOST</span></span></span><a class="headerlink" href="#c.dma_channel_direction.MEMORY_TO_HOST" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.DMA_CHANNEL_DIRECTION_COMMON_COUNT">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402ae7c3dacfd3496576c41f9c663537419a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DMA_CHANNEL_DIRECTION_COMMON_COUNT</span></span></span><a class="headerlink" href="#c.dma_channel_direction.DMA_CHANNEL_DIRECTION_COMMON_COUNT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of all common channel directions. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.DMA_CHANNEL_DIRECTION_PRIV_START">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402a273f9cdcc2af613375cb3e235bfda037"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DMA_CHANNEL_DIRECTION_PRIV_START</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#c.dma_channel_direction.DMA_CHANNEL_DIRECTION_COMMON_COUNT" title="DMA_CHANNEL_DIRECTION_COMMON_COUNT"><span class="n"><span class="pre">DMA_CHANNEL_DIRECTION_COMMON_COUNT</span></span></a><a class="headerlink" href="#c.dma_channel_direction.DMA_CHANNEL_DIRECTION_PRIV_START" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This and higher values are dma controller or soc specific. Refer to the specified dma driver header file. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_direction.DMA_CHANNEL_DIRECTION_MAX">
<span class="target" id="group__dma__interface_1ggae442d8ba73be7e53b68165647b0ea402a9114b4138c9dfb506b9428a229c55a02"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DMA_CHANNEL_DIRECTION_MAX</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x7</span></span><a class="headerlink" href="#c.dma_channel_direction.DMA_CHANNEL_DIRECTION_MAX" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Maximum allowed value (3 bit field!) </p>
</dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.dma_addr_adj">
<span class="target" id="group__dma__interface_1gafe0877ef4bd7790a4bcd46052088231c"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_addr_adj</span></span></span><a class="headerlink" href="#c.dma_addr_adj" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Valid values for <em>source_addr_adj</em> and <em>dest_addr_adj</em> </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_addr_adj.DMA_ADDR_ADJ_INCREMENT">
<span class="target" id="group__dma__interface_1ggafe0877ef4bd7790a4bcd46052088231cac1fe38db8443f6d8e406c66ba6bdd15e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DMA_ADDR_ADJ_INCREMENT</span></span></span><a class="headerlink" href="#c.dma_addr_adj.DMA_ADDR_ADJ_INCREMENT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_addr_adj.DMA_ADDR_ADJ_DECREMENT">
<span class="target" id="group__dma__interface_1ggafe0877ef4bd7790a4bcd46052088231caacc38507d8ef3eb8021ae85d9b61b717"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DMA_ADDR_ADJ_DECREMENT</span></span></span><a class="headerlink" href="#c.dma_addr_adj.DMA_ADDR_ADJ_DECREMENT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_addr_adj.DMA_ADDR_ADJ_NO_CHANGE">
<span class="target" id="group__dma__interface_1ggafe0877ef4bd7790a4bcd46052088231cafeb870c1a6f9db8238a97f3ac9c6da4f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DMA_ADDR_ADJ_NO_CHANGE</span></span></span><a class="headerlink" href="#c.dma_addr_adj.DMA_ADDR_ADJ_NO_CHANGE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.dma_channel_filter">
<span class="target" id="group__dma__interface_1gade594552920aabbfd2106059a338498b"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_channel_filter</span></span></span><a class="headerlink" href="#c.dma_channel_filter" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_filter.DMA_CHANNEL_NORMAL">
<span class="target" id="group__dma__interface_1ggade594552920aabbfd2106059a338498ba54326b41a55d7a64c808cea83520b94f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DMA_CHANNEL_NORMAL</span></span></span><a class="headerlink" href="#c.dma_channel_filter.DMA_CHANNEL_NORMAL" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.dma_channel_filter.DMA_CHANNEL_PERIODIC">
<span class="target" id="group__dma__interface_1ggade594552920aabbfd2106059a338498bacffe4591bb7577cd8596d4dc1b51838c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DMA_CHANNEL_PERIODIC</span></span></span><a class="headerlink" href="#c.dma_channel_filter.DMA_CHANNEL_PERIODIC" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.dma_config">
<span class="target" id="group__dma__interface_1ga6df1a6b89f271a0eae01c17b748bd2df"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_config</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.dma_config" title="dma_config"><span class="n"><span class="pre">dma_config</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_config" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Configure individual channel for DMA transfer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – Numeric identification of the channel to configure </p></li>
<li><p><strong>config</strong> – Data structure containing the intended configuration for the selected channel</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – if successful. </p></li>
<li><p><strong>Negative</strong> – errno code if failure. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_reload">
<span class="target" id="group__dma__interface_1ga55bd5d550349c11c63ef47c2ed861f36"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_reload</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">src</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">dst</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_reload" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reload buffer(s) for a DMA channel. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – Numeric identification of the channel to configure selected channel </p></li>
<li><p><strong>src</strong> – source address for the DMA transfer </p></li>
<li><p><strong>dst</strong> – destination address for the DMA transfer </p></li>
<li><p><strong>size</strong> – size of DMA transfer</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – if successful. </p></li>
<li><p><strong>Negative</strong> – errno code if failure. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_start">
<span class="target" id="group__dma__interface_1gac2ddafd17680f59e4e8fe5f6e2eaba48"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_start</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_start" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enables DMA channel and starts the transfer, the channel must be configured beforehand. </p>
<p>Implementations must check the validity of the channel ID passed in and return -EINVAL if it is invalid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – Numeric identification of the channel where the transfer will be processed</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – if successful. </p></li>
<li><p><strong>Negative</strong> – errno code if failure. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_stop">
<span class="target" id="group__dma__interface_1ga305cc72d0804028b77aa82dd07c926ad"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_stop</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_stop" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Stops the DMA transfer and disables the channel. </p>
<p>Implementations must check the validity of the channel ID passed in and return -EINVAL if it is invalid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – Numeric identification of the channel where the transfer was being processed</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – if successful. </p></li>
<li><p><strong>Negative</strong> – errno code if failure. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_suspend">
<span class="target" id="group__dma__interface_1ga6779850f6082259f5bef29b1282effdb"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_suspend</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_suspend" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Suspend a DMA channel transfer. </p>
<p>Implementations must check the validity of the channel state and ID passed in and return -EINVAL if either are invalid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – Numeric identification of the channel to suspend</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-ENOSYS</strong> – If not implemented. </p></li>
<li><p><strong>-EINVAL</strong> – If invalid channel id or state. </p></li>
<li><p><strong>-errno</strong> – Other negative errno code failure. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_resume">
<span class="target" id="group__dma__interface_1ga89a3d056803d7f2dd1c8b6e535ef4f1d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_resume</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_resume" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resume a DMA channel transfer. </p>
<p>Implementations must check the validity of the channel state and ID passed in and return -EINVAL if either are invalid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – Numeric identification of the channel to resume</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-ENOSYS</strong> – If not implemented </p></li>
<li><p><strong>-EINVAL</strong> – If invalid channel id or state. </p></li>
<li><p><strong>-errno</strong> – Other negative errno code failure. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_request_channel">
<span class="target" id="group__dma__interface_1ga91cc55f781744069f1f9f29249bdee8d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_request_channel</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">filter_param</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_request_channel" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>request DMA channel. </p>
<p>request DMA channel resources return -EINVAL if there is no valid channel available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>filter_param</strong> – filter function parameter</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>dma</strong> – channel if successful. </p></li>
<li><p><strong>Negative</strong> – errno code if failure. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_release_channel">
<span class="target" id="group__dma__interface_1gab02df5277d79a04a65132365e7b5d3de"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_release_channel</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_release_channel" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>release DMA channel. </p>
<p>release DMA channel resources</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – channel number </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_chan_filter">
<span class="target" id="group__dma__interface_1ga729d8f1163458d447d0a4b20cb9e4659"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_chan_filter</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">filter_param</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_chan_filter" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>DMA channel filter. </p>
<p>filter channel by attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – channel number </p></li>
<li><p><strong>filter_param</strong> – filter attribute</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>Negative</strong> – errno code if not support </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_get_status">
<span class="target" id="group__dma__interface_1ga2cae500f1f9ed42ad338a40ec8655544"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_get_status</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">channel</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.dma_status" title="dma_status"><span class="n"><span class="pre">dma_status</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">stat</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_get_status" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>get current runtime status of DMA transfer </p>
<p>Implementations must check the validity of the channel ID passed in and return -EINVAL if it is invalid or -ENOSYS if not supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel</strong> – Numeric identification of the channel where the transfer was being processed </p></li>
<li><p><strong>stat</strong> – a non-NULL <a class="reference internal" href="#structdma__status"><span class="std std-ref">dma_status</span></a> object for storing DMA status</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>non-negative</strong> – if successful. </p></li>
<li><p><strong>Negative</strong> – errno code if failure. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_width_index">
<span class="target" id="group__dma__interface_1gadd1724a843bba4ccc1c65c9fb9d3d921"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_width_index</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_width_index" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Look-up generic width index to be used in registers. </p>
<p>WARNING: This look-up works for most controllers, but <em>may</em> not work for yours. Ensure your controller expects the most common register bit values before using this convenience function. If your controller does not support these values, you will have to write your own look-up inside the controller driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – width of bus (in bytes)</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>common</strong> – DMA index to be placed into registers. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.dma_burst_index">
<span class="target" id="group__dma__interface_1gaac27f2ee664671884087ee3d2a2863ce"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_burst_index</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">burst</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dma_burst_index" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Look-up generic burst index to be used in registers. </p>
<p>WARNING: This look-up works for most controllers, but <em>may</em> not work for yours. Ensure your controller expects the most common register bit values before using this convenience function. If your controller does not support these values, you will have to write your own look-up inside the controller driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>burst</strong> – number of bytes to be sent in a single burst</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>common</strong> – DMA index to be placed into registers. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.dma_block_config">
<span class="target" id="structdma__block__config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_block_config</span></span></span><a class="headerlink" href="#c.dma_block_config" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;dma.h&gt;</em></div>
<p>DMA block configuration structure. </p>
<dl class="field-list simple">
<dt class="field-odd">Param source_address</dt>
<dd class="field-odd"><p>is block starting address at source </p>
</dd>
<dt class="field-even">Param source_gather_interval</dt>
<dd class="field-even"><p>is the address adjustment at gather boundary </p>
</dd>
<dt class="field-odd">Param dest_address</dt>
<dd class="field-odd"><p>is block starting address at destination </p>
</dd>
<dt class="field-even">Param dest_scatter_interval</dt>
<dd class="field-even"><p>is the address adjustment at scatter boundary </p>
</dd>
<dt class="field-odd">Param dest_scatter_count</dt>
<dd class="field-odd"><p>is the continuous transfer count between scatter boundaries </p>
</dd>
<dt class="field-even">Param source_gather_count</dt>
<dd class="field-even"><p>is the continuous transfer count between gather boundaries</p>
</dd>
<dt class="field-odd">Param block_size</dt>
<dd class="field-odd"><p>is the number of bytes to be transferred for this block.</p>
</dd>
<dt class="field-even">Param config</dt>
<dd class="field-even"><p>is a bit field with the following parts: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source_gather_en</span>   <span class="p">[</span> <span class="mi">0</span> <span class="p">]</span>       <span class="o">-</span> <span class="mi">0</span><span class="o">-</span><span class="n">disable</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">enable</span><span class="o">.</span>
<span class="n">dest_scatter_en</span>    <span class="p">[</span> <span class="mi">1</span> <span class="p">]</span>       <span class="o">-</span> <span class="mi">0</span><span class="o">-</span><span class="n">disable</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">enable</span><span class="o">.</span>
<span class="n">source_addr_adj</span>    <span class="p">[</span> <span class="mi">2</span> <span class="p">:</span> <span class="mi">3</span> <span class="p">]</span>   <span class="o">-</span> <span class="mi">00</span><span class="o">-</span><span class="n">increment</span><span class="p">,</span> <span class="mi">01</span><span class="o">-</span><span class="n">decrement</span><span class="p">,</span>
                                 <span class="mi">10</span><span class="o">-</span><span class="n">no</span> <span class="n">change</span><span class="o">.</span>
<span class="n">dest_addr_adj</span>      <span class="p">[</span> <span class="mi">4</span> <span class="p">:</span> <span class="mi">5</span> <span class="p">]</span>   <span class="o">-</span> <span class="mi">00</span><span class="o">-</span><span class="n">increment</span><span class="p">,</span> <span class="mi">01</span><span class="o">-</span><span class="n">decrement</span><span class="p">,</span>
                                 <span class="mi">10</span><span class="o">-</span><span class="n">no</span> <span class="n">change</span><span class="o">.</span>
<span class="n">source_reload_en</span>   <span class="p">[</span> <span class="mi">6</span> <span class="p">]</span>       <span class="o">-</span> <span class="n">reload</span> <span class="n">source</span> <span class="n">address</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span>
                                 <span class="n">block</span> <span class="n">transfer</span>
                                 <span class="mi">0</span><span class="o">-</span><span class="n">disable</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">enable</span><span class="o">.</span>
<span class="n">dest_reload_en</span>     <span class="p">[</span> <span class="mi">7</span> <span class="p">]</span>       <span class="o">-</span> <span class="n">reload</span> <span class="n">destination</span> <span class="n">address</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span>
                                 <span class="n">of</span> <span class="n">block</span> <span class="n">transfer</span>
                                 <span class="mi">0</span><span class="o">-</span><span class="n">disable</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">enable</span><span class="o">.</span>
<span class="n">fifo_mode_control</span>  <span class="p">[</span> <span class="mi">8</span> <span class="p">:</span> <span class="mi">11</span> <span class="p">]</span>  <span class="o">-</span> <span class="n">How</span> <span class="n">full</span>  <span class="n">of</span> <span class="n">the</span> <span class="n">fifo</span> <span class="n">before</span> <span class="n">transfer</span>
                                 <span class="n">start</span><span class="o">.</span> <span class="n">HW</span> <span class="n">specific</span><span class="o">.</span>
<span class="n">flow_control_mode</span>  <span class="p">[</span> <span class="mi">12</span> <span class="p">]</span>      <span class="o">-</span> <span class="mi">0</span><span class="o">-</span><span class="n">source</span> <span class="n">request</span> <span class="n">served</span> <span class="n">upon</span> <span class="n">data</span>
                                   <span class="n">availability</span><span class="o">.</span>
                                 <span class="mi">1</span><span class="o">-</span><span class="n">source</span> <span class="n">request</span> <span class="n">postponed</span> <span class="n">until</span>
                                   <span class="n">destination</span> <span class="n">request</span> <span class="n">happens</span><span class="o">.</span>
<span class="n">reserved</span>           <span class="p">[</span> <span class="mi">13</span> <span class="p">:</span> <span class="mi">15</span> <span class="p">]</span>
</pre></div>
</div>
 </p>
</dd>
</dl>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c">
<span class="target" id="structdma__config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_config</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;dma.h&gt;</em></div>
<p>DMA configuration structure. </p>
<dl class="field-list simple">
<dt class="field-odd">Param dma_slot</dt>
<dd class="field-odd"><p>[ 0 : 6 ] - which peripheral and direction (HW specific) </p>
</dd>
<dt class="field-even">Param channel_direction</dt>
<dd class="field-even"><p>[ 7 : 9 ] - 000-memory to memory, 001-memory to peripheral, 010-peripheral to memory, 011-peripheral to peripheral, 100-host to memory 101-memory to host … </p>
</dd>
<dt class="field-odd">Param complete_callback_en</dt>
<dd class="field-odd"><p>[ 10 ] - 0-callback invoked at completion only 1-callback invoked at completion of each block </p>
</dd>
<dt class="field-even">Param error_callback_en</dt>
<dd class="field-even"><p>[ 11 ] - 0-error callback enabled 1-error callback disabled </p>
</dd>
<dt class="field-odd">Param source_handshake</dt>
<dd class="field-odd"><p>[ 12 ] - 0-HW, 1-SW </p>
</dd>
<dt class="field-even">Param dest_handshake</dt>
<dd class="field-even"><p>[ 13 ] - 0-HW, 1-SW </p>
</dd>
<dt class="field-odd">Param channel_priority</dt>
<dd class="field-odd"><p>[ 14 : 17 ] - DMA channel priority </p>
</dd>
<dt class="field-even">Param source_chaining_en</dt>
<dd class="field-even"><p>[ 18 ] - enable/disable source block chaining 0-disable, 1-enable </p>
</dd>
<dt class="field-odd">Param dest_chaining_en</dt>
<dd class="field-odd"><p>[ 19 ] - enable/disable destination block chaining. 0-disable, 1-enable </p>
</dd>
<dt class="field-even">Param linked_channel</dt>
<dd class="field-even"><p>[ 20 : 26 ] - after channel count exhaust will initiate a channel service request at this channel </p>
</dd>
<dt class="field-odd">Param reserved</dt>
<dd class="field-odd"><p>[ 27 : 31 ] </p>
</dd>
<dt class="field-even">Param source_data_size</dt>
<dd class="field-even"><p>[ 0 : 15 ] - width of source data (in bytes) </p>
</dd>
<dt class="field-odd">Param dest_data_size</dt>
<dd class="field-odd"><p>[ 16 : 31 ] - width of dest data (in bytes) </p>
</dd>
<dt class="field-even">Param source_burst_length</dt>
<dd class="field-even"><p>[ 0 : 15 ] - number of source data units </p>
</dd>
<dt class="field-odd">Param dest_burst_length</dt>
<dd class="field-odd"><p>[ 16 : 31 ] - number of destination data units </p>
</dd>
<dt class="field-even">Param block_count</dt>
<dd class="field-even"><p>is the number of blocks used for block chaining, this depends on availability of the DMA controller. </p>
</dd>
<dt class="field-odd">Param user_data</dt>
<dd class="field-odd"><p>private data from DMA client. </p>
</dd>
<dt class="field-even">Param dma_callback</dt>
<dd class="field-even"><p>see dma_callback_t for details </p>
</dd>
</dl>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.dma_status">
<span class="target" id="structdma__status"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_status</span></span></span><a class="headerlink" href="#c.dma_status" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;dma.h&gt;</em></div>
<p>DMA runtime status structure</p>
<p>busy - is current DMA transfer busy or idle dir - DMA transfer direction pending_length - data length pending to be transferred in bytes or platform dependent. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.dma_context">
<span class="target" id="structdma__context"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dma_context</span></span></span><a class="headerlink" href="#c.dma_context" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;dma.h&gt;</em></div>
<p>DMA context structure Note: the <a class="reference internal" href="#structdma__context"><span class="std std-ref">dma_context</span></a> shall be the first member of DMA client driver Data, got by dev-&gt;data</p>
<p>magic - magic code to identify the context dma_channels - dma channels atomic - driver atomic_t pointer </p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2022 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Mar 05, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>