<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ADC &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script type="module" src="../../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Counter" href="counter.html" />
    <link rel="prev" title="Peripherals" href="index.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0-rc3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_process/index.html">Development and Contribution Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/index.html">Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">API Status and Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/notify.html">Asynchronous Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canbus/index.html">Controller Area Network (CAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crypto/index.html">Crypto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devicetree/index.html">Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers/index.html">Device Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../display/index.html">Display Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edac/index.html">Error Detection And Correction (EDAC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_system/index.html">File Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iterable_sections/index.html">Iterable Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/formatted_output.html">Formatted Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/index.html">Kernel Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libc/index.html">C standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../memory_management/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modbus/index.html">Modbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Peripherals</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">ADC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="counter.html">Counter</a></li>
<li class="toctree-l3"><a class="reference internal" href="clock_control.html">Clock Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="dac.html">DAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="dma.html">DMA</a></li>
<li class="toctree-l3"><a class="reference internal" href="ec_host_cmd_periph.html">EC Host Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="eeprom.html">EEPROM</a></li>
<li class="toctree-l3"><a class="reference internal" href="entropy.html">Entropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="flash.html">Flash</a></li>
<li class="toctree-l3"><a class="reference internal" href="gna.html">GNA</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="hwinfo.html">Hardware Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c_eeprom_slave.html">I2C EEPROM Slave</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">I2C</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipm.html">IPM</a></li>
<li class="toctree-l3"><a class="reference internal" href="kscan.html">KSCAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="led.html">LED</a></li>
<li class="toctree-l3"><a class="reference internal" href="mbox.html">MBOX</a></li>
<li class="toctree-l3"><a class="reference internal" href="pinmux.html">Pinmux</a></li>
<li class="toctree-l3"><a class="reference internal" href="pwm.html">PWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="ps2.html">PS/2</a></li>
<li class="toctree-l3"><a class="reference internal" href="peci.html">PECI</a></li>
<li class="toctree-l3"><a class="reference internal" href="regulators.html">Regulators</a></li>
<li class="toctree-l3"><a class="reference internal" href="rtc.html">RTC</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensor.html">Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi.html">SPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="mdio.html">MDIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="watchdog.html">Watchdog</a></li>
<li class="toctree-l3"><a class="reference internal" href="video.html">Video</a></li>
<li class="toctree-l3"><a class="reference internal" href="espi.html">eSPI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pinctrl/index.html">Pin Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random/index.html">Random Number Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resource_management/index.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../task_wdt/index.html">Task Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/timeutil.html">Time Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">USB device support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usermode/index.html">User Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util/index.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/index.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing_functions/index.html">Executing Time Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virtualization/index.html">Virtualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/kconfig/index.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="../index.html">API Reference</a> &raquo;</li>
  
     <li><a href="index.html">Peripherals</a> &raquo;</li>
  
  <li>ADC</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/reference/peripherals/adc.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="adc">
<span id="adc-api"></span><h1>ADC<a class="headerlink" href="#adc" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__adc__interface"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">adc_interface</span></span></dt>
<dd><p>ADC driver APIs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.adc_sequence_callback">
<span class="target" id="group__adc__interface_1ga9150eb6dc53d1c62b9fa225c0a371d6d"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_action" title="adc_action"><span class="n"><span class="pre">adc_action</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">adc_sequence_callback</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_sequence" title="adc_sequence"><span class="n"><span class="pre">adc_sequence</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sequence</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">sampling_index</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.adc_sequence_callback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Type definition of the optional callback function to be called after a requested sampling is done. </p>
<dl class="field-list simple">
<dt class="field-odd">Param dev</dt>
<dd class="field-odd"><p>Pointer to the device structure for the driver instance. </p>
</dd>
<dt class="field-even">Param sequence</dt>
<dd class="field-even"><p>Pointer to the sequence structure that triggered the sampling. This parameter points to a copy of the structure that was supplied to the call that started the sampling sequence, thus it cannot be used with the <a class="reference internal" href="../util/index.html#group__sys-util_1gac5bc561d1bfd1bf68877fe577779bd2f"><span class="std std-ref">CONTAINER_OF()</span></a> macro to retrieve some other data associated with the sequence. Instead, the <a class="reference internal" href="#structadc__sequence__options_1a262fd6daefb22df02c726aafcddc6d47"><span class="std std-ref">adc_sequence_options::user_data</span></a> field should be used for such purpose.</p>
</dd>
<dt class="field-odd">Param sampling_index</dt>
<dd class="field-odd"><p>Index (0-65535) of the sampling done.</p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p>Action to be performed by the driver. See <a class="reference internal" href="#group__adc__interface_1ga8f6df993405679f852ae4cd8c63c6917"><span class="std std-ref">adc_action</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.adc_api_channel_setup">
<span class="target" id="group__adc__interface_1ga871680cf9f390bfe19a10a61eb1ca092"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">adc_api_channel_setup</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_channel_cfg" title="adc_channel_cfg"><span class="n"><span class="pre">adc_channel_cfg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">channel_cfg</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.adc_api_channel_setup" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Type definition of ADC API function for configuring a channel. See <a class="reference internal" href="#group__adc__interface_1ga7bc0488b2d08ae2ee4996c0eed11f0bf"><span class="std std-ref">adc_channel_setup()</span></a> for argument descriptions. </p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.adc_api_read">
<span class="target" id="group__adc__interface_1ga4d4484e52ff7727fd316f50b2f404adf"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">adc_api_read</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_sequence" title="adc_sequence"><span class="n"><span class="pre">adc_sequence</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sequence</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.adc_api_read" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Type definition of ADC API function for setting a read request. See <a class="reference internal" href="#group__adc__interface_1ga7567ce3b03ebb294620b4e32b7561ab3"><span class="std std-ref">adc_read()</span></a> for argument descriptions. </p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.adc_api_read_async">
<span class="target" id="group__adc__interface_1gad0160f455d1901ebfe06568e8418a22c"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">adc_api_read_async</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_sequence" title="adc_sequence"><span class="n"><span class="pre">adc_sequence</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sequence</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../kernel/other/polling.html#c.k_poll_signal" title="k_poll_signal"><span class="n"><span class="pre">k_poll_signal</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">async</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.adc_api_read_async" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Type definition of ADC API function for setting an asynchronous read request. See <a class="reference internal" href="#group__adc__interface_1ga009e3733b5b20eb6b26a201c9f9734fc"><span class="std std-ref">adc_read_async()</span></a> for argument descriptions. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.adc_gain">
<span class="target" id="group__adc__interface_1ga306f882323c66b263d3797124ca5f3a0"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_gain</span></span></span><a class="headerlink" href="#c.adc_gain" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>ADC channel gain factors. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_1_6">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0abb26700162bfc68a2beadc1e78b758c1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_1_6</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_1_6" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 1/6. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_1_5">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a198c40369bddfc3c0eaa8ae3bb1be0c9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_1_5</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_1_5" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 1/5. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_1_4">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0afa55c5a94bfebb9a70638e9ab32eabf8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_1_4</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_1_4" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 1/4. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_1_3">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0af896fe01119930815ac78a4ee87635ee"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_1_3</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_1_3" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 1/3. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_1_2">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a2d36559128c21834d1188aed43d236d2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_1_2</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_1_2" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 1/2. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_2_3">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0ac720b0730cfef7c55f97777fec75dc62"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_2_3</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_2_3" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 2/3. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_1">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a76b3097b0b38d33266d36f5a5d534e54"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_1</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 1. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_2">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0aff4b7cc577e333a3a684e4e56b124868"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_2</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_2" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 2. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_3">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a113a3324782a4517bb71fc3b03aeef5e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_3</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_3" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 3. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_4">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a12756ff0f6a345ff3fee2077e1153300"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_4</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_4" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 4. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_6">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0aba255a08f5ff25388778057d725a77c8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_6</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_6" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 6. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_8">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0ae9a429f8b69dd0e5cae0e1ab7dbe7dc3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_8</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_8" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 8. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_12">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a3ff31845095f2b0fe7e62b2b826411e8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_12</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_12" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 12. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_16">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a4b18ba08d86e630f2deeeea5b329f970"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_16</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_16" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 16. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_24">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a5d19226b1d1728180101e65b8386ff33"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_24</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_24" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 24. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_32">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0ac693403ea0f70f5723a98fe11967c13f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_32</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_32" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 32. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_64">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a064c567978a50dd58d48d481388dd6eb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_64</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_64" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 64. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_gain.ADC_GAIN_128">
<span class="target" id="group__adc__interface_1gga306f882323c66b263d3797124ca5f3a0a1b3c6d80db15acf962192341d4754829"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_GAIN_128</span></span></span><a class="headerlink" href="#c.adc_gain.ADC_GAIN_128" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>x 128. </p>
</dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.adc_reference">
<span class="target" id="group__adc__interface_1ga91b0f997d73739cf9f7349b7581e1f56"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_reference</span></span></span><a class="headerlink" href="#c.adc_reference" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>ADC references. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_reference.ADC_REF_VDD_1">
<span class="target" id="group__adc__interface_1gga91b0f997d73739cf9f7349b7581e1f56ae41651d9d2ba0d3c2a976177fc6ed1b3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_REF_VDD_1</span></span></span><a class="headerlink" href="#c.adc_reference.ADC_REF_VDD_1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>VDD. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_reference.ADC_REF_VDD_1_2">
<span class="target" id="group__adc__interface_1gga91b0f997d73739cf9f7349b7581e1f56a5f47fb0b239da79577887baf2576eb0d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_REF_VDD_1_2</span></span></span><a class="headerlink" href="#c.adc_reference.ADC_REF_VDD_1_2" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>VDD/2. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_reference.ADC_REF_VDD_1_3">
<span class="target" id="group__adc__interface_1gga91b0f997d73739cf9f7349b7581e1f56a8e5dfe37c3993e118d6e316c9fa0aad1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_REF_VDD_1_3</span></span></span><a class="headerlink" href="#c.adc_reference.ADC_REF_VDD_1_3" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>VDD/3. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_reference.ADC_REF_VDD_1_4">
<span class="target" id="group__adc__interface_1gga91b0f997d73739cf9f7349b7581e1f56a93d4dc4332b3346a7332383ecf745d2c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_REF_VDD_1_4</span></span></span><a class="headerlink" href="#c.adc_reference.ADC_REF_VDD_1_4" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>VDD/4. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_reference.ADC_REF_INTERNAL">
<span class="target" id="group__adc__interface_1gga91b0f997d73739cf9f7349b7581e1f56a239921743b35d32a558a43deee2ce709"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_REF_INTERNAL</span></span></span><a class="headerlink" href="#c.adc_reference.ADC_REF_INTERNAL" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Internal. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_reference.ADC_REF_EXTERNAL0">
<span class="target" id="group__adc__interface_1gga91b0f997d73739cf9f7349b7581e1f56afc15362bdf426f412e150ae9f8d224e6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_REF_EXTERNAL0</span></span></span><a class="headerlink" href="#c.adc_reference.ADC_REF_EXTERNAL0" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>External, input 0. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_reference.ADC_REF_EXTERNAL1">
<span class="target" id="group__adc__interface_1gga91b0f997d73739cf9f7349b7581e1f56a2733819da753b01a8116d076498fe52a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_REF_EXTERNAL1</span></span></span><a class="headerlink" href="#c.adc_reference.ADC_REF_EXTERNAL1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>External, input 1. </p>
</dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.adc_action">
<span class="target" id="group__adc__interface_1ga8f6df993405679f852ae4cd8c63c6917"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_action</span></span></span><a class="headerlink" href="#c.adc_action" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Action to be performed after a sampling is done. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_action.ADC_ACTION_CONTINUE">
<span class="target" id="group__adc__interface_1gga8f6df993405679f852ae4cd8c63c6917ac875a64d997cb883b49447006554ba92"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_ACTION_CONTINUE</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#c.adc_action.ADC_ACTION_CONTINUE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The sequence should be continued normally. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_action.ADC_ACTION_REPEAT">
<span class="target" id="group__adc__interface_1gga8f6df993405679f852ae4cd8c63c6917a8efc10c77ea616d568f88d3ef88b1715"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_ACTION_REPEAT</span></span></span><a class="headerlink" href="#c.adc_action.ADC_ACTION_REPEAT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The sampling should be repeated. New samples or sample should be read from the ADC and written in the same place as the recent ones. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.adc_action.ADC_ACTION_FINISH">
<span class="target" id="group__adc__interface_1gga8f6df993405679f852ae4cd8c63c6917a68a21759522a3d584417fa12359b4dc9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ADC_ACTION_FINISH</span></span></span><a class="headerlink" href="#c.adc_action.ADC_ACTION_FINISH" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The sequence should be finished immediately. </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.adc_gain_invert">
<span class="target" id="group__adc__interface_1ga5af65795f58e8e92672bf31dc2418e23"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_gain_invert</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_gain" title="adc_gain"><span class="n"><span class="pre">adc_gain</span></span></a><span class="w"> </span><span class="n"><span class="pre">gain</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.adc_gain_invert" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Invert the application of gain to a measurement value. </p>
<p>For example, if the gain passed in is ADC_GAIN_1_6 and the referenced value is 10, the value after the function returns is 60.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gain</strong> – the gain used to amplify the input signal.</p></li>
<li><p><strong>value</strong> – a pointer to a value that initially has the effect of the applied gain but has that effect removed when this function successfully returns. If the gain cannot be reversed the value remains unchanged.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – if the gain was successfully reversed </p></li>
<li><p><strong>-EINVAL</strong> – if the gain could not be interpreted </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.adc_raw_to_millivolts">
<span class="target" id="group__adc__interface_1gaef98dabea3e0dc1cef8add298171a950"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_raw_to_millivolts</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">ref_mv</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_gain" title="adc_gain"><span class="n"><span class="pre">adc_gain</span></span></a><span class="w"> </span><span class="n"><span class="pre">gain</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">resolution</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">valp</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.adc_raw_to_millivolts" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Convert a raw ADC value to millivolts. </p>
<p>This function performs the necessary conversion to transform a raw ADC measurement to a voltage in millivolts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_mv</strong> – the reference voltage used for the measurement, in millivolts. This may be from <a class="reference internal" href="#group__adc__interface_1gad11845f5621d0b0d03da4b6484d79aa4"><span class="std std-ref">adc_ref_internal()</span></a> or a known external reference.</p></li>
<li><p><strong>gain</strong> – the ADC gain configuration used to sample the input</p></li>
<li><p><strong>resolution</strong> – the number of bits in the absolute value of the sample. For differential sampling this may be one less than the resolution in struct <a class="reference internal" href="#structadc__sequence"><span class="std std-ref">adc_sequence</span></a>.</p></li>
<li><p><strong>valp</strong> – pointer to the raw measurement value on input, and the corresponding millivolt value on successful conversion. If conversion fails the stored value is left unchanged.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – on successful conversion </p></li>
<li><p><strong>-EINVAL</strong> – if the gain is not reversible </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.adc_channel_setup">
<span class="target" id="group__adc__interface_1ga7bc0488b2d08ae2ee4996c0eed11f0bf"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_channel_setup</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_channel_cfg" title="adc_channel_cfg"><span class="n"><span class="pre">adc_channel_cfg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">channel_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.adc_channel_setup" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Configure an ADC channel. </p>
<p>It is required to call this function and configure each channel before it is selected for a read request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>channel_cfg</strong> – Channel configuration.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – On success. </p></li>
<li><p><strong>-EINVAL</strong> – If a parameter with an invalid value has been provided. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.adc_read">
<span class="target" id="group__adc__interface_1ga7567ce3b03ebb294620b4e32b7561ab3"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_read</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_sequence" title="adc_sequence"><span class="n"><span class="pre">adc_sequence</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sequence</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.adc_read" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set a read request. </p>
<p>
If invoked from user mode, any sequence struct options for callback must be NULL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>sequence</strong> – Structure specifying requested sequence of samplings.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – On success. </p></li>
<li><p><strong>-EINVAL</strong> – If a parameter with an invalid value has been provided. </p></li>
<li><p><strong>-ENOMEM</strong> – If the provided buffer is to small to hold the results of all requested samplings. </p></li>
<li><p><strong>-ENOTSUP</strong> – If the requested mode of operation is not supported. </p></li>
<li><p><strong>-EBUSY</strong> – If another sampling was triggered while the previous one was still in progress. This may occur only when samplings are done with intervals, and it indicates that the selected interval was too small. All requested samples are written in the buffer, but at least some of them were taken with an extra delay compared to what was scheduled. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.adc_read_async">
<span class="target" id="group__adc__interface_1ga009e3733b5b20eb6b26a201c9f9734fc"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_read_async</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_sequence" title="adc_sequence"><span class="n"><span class="pre">adc_sequence</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sequence</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../kernel/other/polling.html#c.k_poll_signal" title="k_poll_signal"><span class="n"><span class="pre">k_poll_signal</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">async</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.adc_read_async" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set an asynchronous read request. </p>
<p>
If invoked from user mode, any sequence struct options for callback must be NULL.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is available only if <span> <a class="reference internal" href="../kconfig/dummy-syms.html#std-kconfig-CONFIG_ADC_ASYNC"><code class="xref std std-kconfig docutils literal notranslate"><span class="pre">CONFIG_ADC_ASYNC</span></code></a> </span> is selected.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – Pointer to the device structure for the driver instance. </p></li>
<li><p><strong>sequence</strong> – Structure specifying requested sequence of samplings. </p></li>
<li><p><strong>async</strong> – Pointer to a valid and ready to be signaled struct <a class="reference internal" href="../kernel/other/polling.html#structk__poll__signal"><span class="std std-ref">k_poll_signal</span></a>. (Note: if NULL this function will not notify the end of the transaction, and whether it went successfully or not).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>0 on success, negative error code otherwise. See <a class="reference internal" href="#group__adc__interface_1ga7567ce3b03ebb294620b4e32b7561ab3"><span class="std std-ref">adc_read()</span></a> for a list of possible error codes. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.adc_ref_internal">
<span class="target" id="group__adc__interface_1gad11845f5621d0b0d03da4b6484d79aa4"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_ref_internal</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../drivers/index.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.adc_ref_internal" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the internal reference voltage. </p>
<p>Returns the voltage corresponding to <a class="reference internal" href="#group__adc__interface_1gga91b0f997d73739cf9f7349b7581e1f56a239921743b35d32a558a43deee2ce709"><span class="std std-ref">ADC_REF_INTERNAL</span></a>, measured in millivolts.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a positive value is the reference voltage value. Returns zero if reference voltage information is not available. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.adc_channel_cfg">
<span class="target" id="structadc__channel__cfg"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_channel_cfg</span></span></span><a class="headerlink" href="#c.adc_channel_cfg" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;adc.h&gt;</em></div>
<p>Structure for specifying the configuration of an ADC channel. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.adc_channel_cfg.gain">
<span class="target" id="structadc__channel__cfg_1a20996396fa5b1d27eeea7da9ea9df848"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_gain" title="adc_gain"><span class="n"><span class="pre">adc_gain</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gain</span></span></span><a class="headerlink" href="#c.adc_channel_cfg.gain" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Gain selection. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_channel_cfg.reference">
<span class="target" id="structadc__channel__cfg_1a73d11ad6411a62f8f21cbfa492bc1b20"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_reference" title="adc_reference"><span class="n"><span class="pre">adc_reference</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reference</span></span></span><a class="headerlink" href="#c.adc_channel_cfg.reference" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reference selection. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_channel_cfg.acquisition_time">
<span class="target" id="structadc__channel__cfg_1a426a74cf53a4b801e91c2eeb1db3477d"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">acquisition_time</span></span></span><a class="headerlink" href="#c.adc_channel_cfg.acquisition_time" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Acquisition time. Use the ADC_ACQ_TIME macro to compose the value for this field or pass ADC_ACQ_TIME_DEFAULT to use the default setting for a given hardware (e.g. when the hardware does not allow to configure the acquisition time). Particular drivers do not necessarily support all the possible units. Value range is 0-16383 for a given unit. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_channel_cfg.channel_id">
<span class="target" id="structadc__channel__cfg_1aeec90a3fb60f93427a92e083326c8fcf"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">channel_id</span></span></span><a class="headerlink" href="#c.adc_channel_cfg.channel_id" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Channel identifier. This value primarily identifies the channel within the ADC API - when a read request is done, the corresponding bit in the “channels” field of the “adc_sequence” structure must be set to include this channel in the sampling. For hardware that does not allow selection of analog inputs for given channels, but rather have dedicated ones, this value also selects the physical ADC input to be used in the sampling. Otherwise, when it is needed to explicitly select an analog input for the channel, or two inputs when the channel is a differential one, the selection is done in “input_positive” and “input_negative” fields. Particular drivers indicate which one of the above two cases they support by selecting or not a special hidden Kconfig option named ADC_CONFIGURABLE_INPUTS. If this option is not selected, the macro CONFIG_ADC_CONFIGURABLE_INPUTS is not defined and consequently the mentioned two fields are not present in this structure. While this API allows identifiers from range 0-31, particular drivers may support only a limited number of channel identifiers (dependent on the underlying hardware capabilities or configured via a dedicated Kconfig option). </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_channel_cfg.differential">
<span class="target" id="structadc__channel__cfg_1a372f298a2dd87660b9508ca1387084b6"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">differential</span></span></span><a class="headerlink" href="#c.adc_channel_cfg.differential" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Channel type: single-ended or differential. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.adc_sequence_options">
<span class="target" id="structadc__sequence__options"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_sequence_options</span></span></span><a class="headerlink" href="#c.adc_sequence_options" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;adc.h&gt;</em></div>
<p>Structure defining additional options for an ADC sampling sequence. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence_options.interval_us">
<span class="target" id="structadc__sequence__options_1ad2f11727ab0eb7e32a5fbd07f04a85b2"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interval_us</span></span></span><a class="headerlink" href="#c.adc_sequence_options.interval_us" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Interval between consecutive samplings (in microseconds), 0 means sample as fast as possible, without involving any timer. The accuracy of this interval is dependent on the implementation of a given driver. The default routine that handles the intervals uses a kernel timer for this purpose, thus, it has the accuracy of the kernel’s system clock. Particular drivers may use some dedicated hardware timers and achieve a better precision. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence_options.callback">
<span class="target" id="structadc__sequence__options_1a71bd082c14f01a1b5d1b491e7510aa91"></span><a class="reference internal" href="#c.adc_sequence_callback" title="adc_sequence_callback"><span class="n"><span class="pre">adc_sequence_callback</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">callback</span></span></span><a class="headerlink" href="#c.adc_sequence_options.callback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Callback function to be called after each sampling is done. Optional - set to NULL if it is not needed. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence_options.user_data">
<span class="target" id="structadc__sequence__options_1a262fd6daefb22df02c726aafcddc6d47"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_data</span></span></span><a class="headerlink" href="#c.adc_sequence_options.user_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to user data. It can be used to associate the sequence with any other data that is needed in the callback function. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence_options.extra_samplings">
<span class="target" id="structadc__sequence__options_1a29f8ac4cdf6740f56bcd70a0a027e56a"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">extra_samplings</span></span></span><a class="headerlink" href="#c.adc_sequence_options.extra_samplings" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of extra samplings to perform (the total number of samplings is 1 + extra_samplings). </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.adc_sequence">
<span class="target" id="structadc__sequence"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_sequence</span></span></span><a class="headerlink" href="#c.adc_sequence" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;adc.h&gt;</em></div>
<p>Structure defining an ADC sampling sequence. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence.options">
<span class="target" id="structadc__sequence_1a379c6f92153dfa97439d39cbef222451"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.adc_sequence_options" title="adc_sequence_options"><span class="n"><span class="pre">adc_sequence_options</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">options</span></span></span><a class="headerlink" href="#c.adc_sequence.options" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to a structure defining additional options for the sequence. If NULL, the sequence consists of a single sampling. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence.channels">
<span class="target" id="structadc__sequence_1a5c497c4a5de20e8591063ca8661f79c1"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">channels</span></span></span><a class="headerlink" href="#c.adc_sequence.channels" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Bit-mask indicating the channels to be included in each sampling of this sequence. All selected channels must be configured with <a class="reference internal" href="#group__adc__interface_1ga7bc0488b2d08ae2ee4996c0eed11f0bf"><span class="std std-ref">adc_channel_setup()</span></a> before they are used in a sequence. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence.buffer">
<span class="target" id="structadc__sequence_1a5df0ee0e6d3215aa052f108476bd57ec"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">buffer</span></span></span><a class="headerlink" href="#c.adc_sequence.buffer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to a buffer where the samples are to be written. Samples from subsequent samplings are written sequentially in the buffer. The number of samples written for each sampling is determined by the number of channels selected in the “channels” field. The buffer must be of an appropriate size, taking into account the number of selected channels and the ADC resolution used, as well as the number of samplings contained in the sequence. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence.buffer_size">
<span class="target" id="structadc__sequence_1a8e1bc9a4361e274bbdaedeb3151b71e5"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffer_size</span></span></span><a class="headerlink" href="#c.adc_sequence.buffer_size" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Specifies the actual size of the buffer pointed by the “buffer” field (in bytes). The driver must ensure that samples are not written beyond the limit and it must return an error if the buffer turns out to be not large enough to hold all the requested samples. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence.resolution">
<span class="target" id="structadc__sequence_1ad5480691be25ed9ee81130b775743125"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">resolution</span></span></span><a class="headerlink" href="#c.adc_sequence.resolution" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>ADC resolution. For single-ended channels the sample values are from range: 0 .. 2^resolution - 1, for differential ones:<ul class="simple">
<li><p>2^(resolution-1) .. 2^(resolution-1) - 1. </p></li>
</ul>
</p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence.oversampling">
<span class="target" id="structadc__sequence_1a233e8b20b57bb2fdbebf2c85f076c802"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">oversampling</span></span></span><a class="headerlink" href="#c.adc_sequence.oversampling" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Oversampling setting. Each sample is averaged from 2^oversampling conversion results. This feature may be unsupported by a given ADC hardware, or in a specific mode (e.g. when sampling multiple channels). </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.adc_sequence.calibrate">
<span class="target" id="structadc__sequence_1a6023e3bec29deaa11b44c4df40eb7b04"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">calibrate</span></span></span><a class="headerlink" href="#c.adc_sequence.calibrate" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Perform calibration before the reading is taken if requested.</p>
<p>The impact of channel configuration on the calibration process is specific to the underlying hardware. ADC implementations that do not support calibration should ignore this flag. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.adc_driver_api">
<span class="target" id="structadc__driver__api"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">adc_driver_api</span></span></span><a class="headerlink" href="#c.adc_driver_api" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;adc.h&gt;</em></div>
<p>ADC driver API. </p>
<p>This is the mandatory API any ADC driver needs to expose. </p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2015-2021 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Feb 21, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>