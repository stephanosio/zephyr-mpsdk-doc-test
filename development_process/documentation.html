<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Code Documentation &mdash; Zephyr Project Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script type="module" src="../_static/js/dark-mode-toggle.min.mjs"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-831873-47"></script>
        <script src="../_static/js/ga-tracker.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Build and Configuration Systems" href="../guides/build/index.html" />
    <link rel="prev" title="Communication and Collaboration" href="communication.html" />
  <meta name="color-scheme" content="dark light">
  
  <link rel="stylesheet" href="../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
  <link rel="stylesheet" href="../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.99
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Zephyr Project</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Document Release Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
          <dd><a href="/3.0.0/">3.0.0</a></dd>
        
          <dd><a href="/2.7.0/">2.7.0</a></dd>
        
          <dd><a href="/2.6.0/">2.6.0</a></dd>
        
          <dd><a href="/2.5.0/">2.5.0</a></dd>
        
          <dd><a href="/2.4.0/">2.4.0</a></dd>
        
          <dd><a href="/2.3.0/">2.3.0</a></dd>
        
          <dd><a href="/1.14.1/">1.14.1</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
        <dd><a href="/latest/zephyr.pdf">PDF</a></dd>
      </dl>
      <dl>
        <dt>zephyrproject.org Links</dt>
          <dd>
            <a href="https://www.zephyrproject.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/sdk-ng/releases">SDK</a>
          </dd>
          <dd>
            <a href="https://github.com/zephyrproject-rtos/zephyr/releases">Releases</a>
          </dd>
      </dl>
    </div>
  </div>
  
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribution Guidelines</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Development and Contribution Process</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="project_roles.html">TSC Project Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_process.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="proposals.html">Feature Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_flow.html">Code Flow and Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="modifying_contributions.html">Modifying Contributions made by other developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev_env_and_tools.html">Development Environment and Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="issues.html">Bug Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="communication.html">Communication and Collaboration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Code Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#api-documentation">API Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reference-to-requirements">Reference to Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-documentation">Test Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation-guidelines">Documentation Guidelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#test-code">Test Code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#terminology">Terminology</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/build/index.html">Build and Configuration Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../application/index.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">User and Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
</ul>

  
  <div class="toctree-wrapper compound">
    <p class="caption"><span class="caption-text">Reference</span></p>
    <ul>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/doxygen/html/index.html">API</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/kconfig.html">Kconfig Options</a>
      </li>
      
      <li class="toctree-l1">
        <a class="reference internal" href="/latest/reference/devicetree/bindings.html">Devicetree Bindings</a>
      </li>
      
    </ul>
  </div>
  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Zephyr Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!-- Docs / Latest -->
  
  

  <li><a href="../index.html">Docs / Latest</a> &raquo;</li>
  
     <li><a href="index.html">Development and Contribution Process</a> &raquo;</li>
  
  <li>Code Documentation</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
      
      
        <a href="https://github.com/zephyrproject-rtos/zephyr/blob/main/doc/development_process/documentation.rst" class="fa fa-github"> Open on GitHub</a>
      
    
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  
    <div class="wy-alert wy-alert-danger">
     This is the documentation for the latest (main) development branch of
     Zephyr. If you are looking for the documentation of previous releases, use
     the drop-down menu on the left and select the desired version.
    </div>
  
  
           <div itemprop="articleBody">
             
  <div class="section" id="code-documentation">
<span id="id1"></span><h1>Code Documentation<a class="headerlink" href="#code-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="api-documentation">
<h2>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<p>Well documented APIs enhance the experience for developers and are an essential
requirement for defining an API’s success. Doxygen is a general purpose
documentation tool that the zephyr project uses for documenting APIs. It
generates either an on-line documentation browser (in HTML) and/or provides
input for other tools that is used to generate a reference manual from
documented source files. In particular, doxygen’s XML output is used as an input
when producing the Zephyr project’s online documentation.</p>
</div>
<div class="section" id="reference-to-requirements">
<h2>Reference to Requirements<a class="headerlink" href="#reference-to-requirements" title="Permalink to this headline">¶</a></h2>
<p>APIs for the most part document the implementation of requirements or advertised
features and can be traced back to features. We use the API documentation as the
main interface to trace implementation back to documented features. This is done
using custom _doxygen_ tags that reference requirements maintained somewhere
else in a requirement catalogue.</p>
</div>
<div class="section" id="test-documentation">
<h2>Test Documentation<a class="headerlink" href="#test-documentation" title="Permalink to this headline">¶</a></h2>
<p>To help understand what each test does and which functionality it tests we also
document all test code using the same tools and in the same context and generate
documentation for all unit and integration tests maintained in the same
environment. Tests are documented using references to the APIs or functionality
they validate by creating a link back to the APIs and by adding a reference to
the original requirements.</p>
</div>
<div class="section" id="documentation-guidelines">
<h2>Documentation Guidelines<a class="headerlink" href="#documentation-guidelines" title="Permalink to this headline">¶</a></h2>
<div class="section" id="test-code">
<h3>Test Code<a class="headerlink" href="#test-code" title="Permalink to this headline">¶</a></h3>
<p>The Zephyr project uses several test methodologies, the most common being the
<a class="reference internal" href="../guides/test/ztest.html#test-framework"><span class="std std-ref">Ztest framework</span></a>. Test documentation should only be done
on the entry test functions (usually prefixed with test_) and those that are
called directly by the Ztest framework. Those tests are going to appear in test
reports and using their name and identifier is the best way to identify them
and trace back to them from requirements.</p>
<p>Test documentation should not interfere with the actual API documentation and
needs to follow a new structure to avoid confusion. Using a consistent naming
scheme and following a well-defined structure we will be able to group this
documentation in its own module and identify it uniquely when parsing test data
for traceability reports. Here are a few guidelines to be followed:</p>
<ul class="simple">
<li><p>All test code documentation should be grouped under the <code class="docutils literal notranslate"><span class="pre">all_tests</span></code> doxygen
group</p></li>
<li><p>All test documentation should be under doxygen groups that are prefixed
with tests_</p></li>
</ul>
<p>The custom doxygen <code class="docutils literal notranslate"><span class="pre">&#64;verify</span></code> directive signifies that a test verifies a
requirement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/**</span>
<span class="o">*</span> <span class="nd">@brief</span> <span class="n">Tests</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Semaphore</span> <span class="n">kernel</span> <span class="nb">object</span>
<span class="o">*</span> <span class="nd">@defgroup</span> <span class="n">kernel_semaphore_tests</span> <span class="n">Semaphore</span>
<span class="o">*</span> <span class="nd">@ingroup</span> <span class="n">all_tests</span>
<span class="o">*</span> <span class="o">@</span><span class="p">{</span>
<span class="o">*/</span>

<span class="o">...</span>
<span class="o">/**</span>
<span class="o">*</span> <span class="nd">@brief</span> <span class="n">A</span> <span class="n">brief</span> <span class="n">description</span> <span class="n">of</span> <span class="n">the</span> <span class="n">tests</span>
<span class="o">*</span> <span class="n">Some</span> <span class="n">details</span> <span class="n">about</span> <span class="n">the</span> <span class="n">test</span>
<span class="o">*</span> <span class="n">more</span> <span class="n">details</span>
<span class="o">*</span>
<span class="o">*</span> <span class="nd">@verify</span><span class="p">{</span><span class="nd">@req</span><span class="p">{</span><span class="mi">1111</span><span class="p">}}</span>
<span class="o">*/</span>
<span class="n">void</span> <span class="n">test_sema_thread2thread</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="o">...</span>
<span class="p">}</span>
<span class="o">...</span>

<span class="o">/**</span>
<span class="o">*</span> <span class="o">@</span><span class="p">}</span>
<span class="o">*/</span>
</pre></div>
</div>
<p>To get coverage of how an implementation or a piece of code satisfies a
requirements, we use the <code class="docutils literal notranslate"><span class="pre">satisfy</span></code> alias in doxygen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/**</span>
<span class="o">*</span> <span class="nd">@brief</span> <span class="n">Give</span> <span class="n">a</span> <span class="n">semaphore</span><span class="o">.</span>
<span class="o">*</span>
<span class="o">*</span> <span class="n">This</span> <span class="n">routine</span> <span class="n">gives</span> <span class="nd">@a</span> <span class="n">sem</span><span class="p">,</span> <span class="n">unless</span> <span class="n">the</span> <span class="n">semaphore</span> <span class="ow">is</span> <span class="n">already</span> <span class="n">at</span> <span class="n">its</span> <span class="n">maximum</span>
<span class="o">*</span> <span class="n">permitted</span> <span class="n">count</span><span class="o">.</span>
<span class="o">*</span>
<span class="o">*</span> <span class="nd">@note</span> <span class="n">Can</span> <span class="n">be</span> <span class="n">called</span> <span class="n">by</span> <span class="n">ISRs</span><span class="o">.</span>
<span class="o">*</span>
<span class="o">*</span> <span class="nd">@param</span> <span class="n">sem</span> <span class="n">Address</span> <span class="n">of</span> <span class="n">the</span> <span class="n">semaphore</span><span class="o">.</span>
<span class="o">*</span>
<span class="o">*</span> <span class="nd">@satisfy</span><span class="p">{</span><span class="nd">@req</span><span class="p">{</span><span class="mi">015</span><span class="p">}}</span>
<span class="o">*/</span>
<span class="n">__syscall</span> <span class="n">void</span> <span class="n">k_sem_give</span><span class="p">(</span><span class="n">struct</span> <span class="n">k_sem</span> <span class="o">*</span><span class="n">sem</span><span class="p">);</span>
</pre></div>
</div>
<p>To generate the matrix, you will first need to build the documentation,
specifically you will need to build the doxygen XML output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make doxygen
</pre></div>
</div>
<p>Parse the generated XML data from doxygen to generate the traceability matrix.</p>
</div>
</div>
</div>


           </div>
          </div>

          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../copyright.html">Copyright</a> 2015-2022 Zephyr Project members and individual contributors.
      <span class="lastupdated">Last updated on Mar 05, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>